var cx=Object.defineProperty;var ux=(e,t,r)=>t in e?cx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Oa=(e,t,r)=>ux(e,typeof t!="symbol"?t+"":t,r);function fx(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function xx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ic={exports:{}},da={},oc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var On=Symbol.for("react.element"),mx=Symbol.for("react.portal"),px=Symbol.for("react.fragment"),hx=Symbol.for("react.strict_mode"),gx=Symbol.for("react.profiler"),yx=Symbol.for("react.provider"),vx=Symbol.for("react.context"),jx=Symbol.for("react.forward_ref"),bx=Symbol.for("react.suspense"),kx=Symbol.for("react.memo"),wx=Symbol.for("react.lazy"),Po=Symbol.iterator;function Nx(e){return e===null||typeof e!="object"?null:(e=Po&&e[Po]||e["@@iterator"],typeof e=="function"?e:null)}var dc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cc=Object.assign,uc={};function Ar(e,t,r){this.props=e,this.context=t,this.refs=uc,this.updater=r||dc}Ar.prototype.isReactComponent={};Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fc(){}fc.prototype=Ar.prototype;function Si(e,t,r){this.props=e,this.context=t,this.refs=uc,this.updater=r||dc}var Ci=Si.prototype=new fc;Ci.constructor=Si;cc(Ci,Ar.prototype);Ci.isPureReactComponent=!0;var To=Array.isArray,xc=Object.prototype.hasOwnProperty,Ei={current:null},mc={key:!0,ref:!0,__self:!0,__source:!0};function pc(e,t,r){var s,a={},l=null,i=null;if(t!=null)for(s in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)xc.call(t,s)&&!mc.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var d=Array(o),c=0;c<o;c++)d[c]=arguments[c+2];a.children=d}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:On,type:e,key:l,ref:i,props:a,_owner:Ei.current}}function Sx(e,t){return{$$typeof:On,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _i(e){return typeof e=="object"&&e!==null&&e.$$typeof===On}function Cx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zo=/\/+/g;function Da(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cx(""+e.key):t.toString(36)}function ps(e,t,r,s,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case On:case mx:i=!0}}if(i)return i=e,a=a(i),e=s===""?"."+Da(i,0):s,To(a)?(r="",e!=null&&(r=e.replace(zo,"$&/")+"/"),ps(a,t,r,"",function(c){return c})):a!=null&&(_i(a)&&(a=Sx(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(zo,"$&/")+"/")+e)),t.push(a)),1;if(i=0,s=s===""?".":s+":",To(e))for(var o=0;o<e.length;o++){l=e[o];var d=s+Da(l,o);i+=ps(l,t,r,d,a)}else if(d=Nx(e),typeof d=="function")for(e=d.call(e),o=0;!(l=e.next()).done;)l=l.value,d=s+Da(l,o++),i+=ps(l,t,r,d,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Gn(e,t,r){if(e==null)return e;var s=[],a=0;return ps(e,s,"","",function(l){return t.call(r,l,a++)}),s}function Ex(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var je={current:null},hs={transition:null},_x={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:hs,ReactCurrentOwner:Ei};function hc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Gn,forEach:function(e,t,r){Gn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gn(e,function(){t++}),t},toArray:function(e){return Gn(e,function(t){return t})||[]},only:function(e){if(!_i(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=Ar;M.Fragment=px;M.Profiler=gx;M.PureComponent=Si;M.StrictMode=hx;M.Suspense=bx;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_x;M.act=hc;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=cc({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Ei.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(d in t)xc.call(t,d)&&!mc.hasOwnProperty(d)&&(s[d]=t[d]===void 0&&o!==void 0?o[d]:t[d])}var d=arguments.length-2;if(d===1)s.children=r;else if(1<d){o=Array(d);for(var c=0;c<d;c++)o[c]=arguments[c+2];s.children=o}return{$$typeof:On,type:e.type,key:a,ref:l,props:s,_owner:i}};M.createContext=function(e){return e={$$typeof:vx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yx,_context:e},e.Consumer=e};M.createElement=pc;M.createFactory=function(e){var t=pc.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:jx,render:e}};M.isValidElement=_i;M.lazy=function(e){return{$$typeof:wx,_payload:{_status:-1,_result:e},_init:Ex}};M.memo=function(e,t){return{$$typeof:kx,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=hs.transition;hs.transition={};try{e()}finally{hs.transition=t}};M.unstable_act=hc;M.useCallback=function(e,t){return je.current.useCallback(e,t)};M.useContext=function(e){return je.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return je.current.useDeferredValue(e)};M.useEffect=function(e,t){return je.current.useEffect(e,t)};M.useId=function(){return je.current.useId()};M.useImperativeHandle=function(e,t,r){return je.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return je.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return je.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return je.current.useMemo(e,t)};M.useReducer=function(e,t,r){return je.current.useReducer(e,t,r)};M.useRef=function(e){return je.current.useRef(e)};M.useState=function(e){return je.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return je.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return je.current.useTransition()};M.version="18.3.1";oc.exports=M;var k=oc.exports;const Pi=xx(k),Px=fx({__proto__:null,default:Pi},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx=k,zx=Symbol.for("react.element"),Lx=Symbol.for("react.fragment"),Rx=Object.prototype.hasOwnProperty,Ox=Tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dx={key:!0,ref:!0,__self:!0,__source:!0};function gc(e,t,r){var s,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(s in t)Rx.call(t,s)&&!Dx.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:zx,type:e,key:l,ref:i,props:a,_owner:Ox.current}}da.Fragment=Lx;da.jsx=gc;da.jsxs=gc;ic.exports=da;var n=ic.exports,yc={exports:{}},Me={},vc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,L){var O=z.length;z.push(L);e:for(;0<O;){var U=O-1>>>1,ne=z[U];if(0<a(ne,L))z[U]=L,z[O]=ne,O=U;else break e}}function r(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var L=z[0],O=z.pop();if(O!==L){z[0]=O;e:for(var U=0,ne=z.length,nt=ne>>>1;U<nt;){var Bt=2*(U+1)-1,Ra=z[Bt],Qt=Bt+1,Wn=z[Qt];if(0>a(Ra,O))Qt<ne&&0>a(Wn,Ra)?(z[U]=Wn,z[Qt]=O,U=Qt):(z[U]=Ra,z[Bt]=O,U=Bt);else if(Qt<ne&&0>a(Wn,O))z[U]=Wn,z[Qt]=O,U=Qt;else break e}}return L}function a(z,L){var O=z.sortIndex-L.sortIndex;return O!==0?O:z.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var d=[],c=[],u=1,x=null,p=3,y=!1,b=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(z){for(var L=r(c);L!==null;){if(L.callback===null)s(c);else if(L.startTime<=z)s(c),L.sortIndex=L.expirationTime,t(d,L);else break;L=r(c)}}function h(z){if(w=!1,g(z),!b)if(r(d)!==null)b=!0,ge(j);else{var L=r(c);L!==null&&ke(h,L.startTime-z)}}function j(z,L){b=!1,w&&(w=!1,f(E),E=-1),y=!0;var O=p;try{for(g(L),x=r(d);x!==null&&(!(x.expirationTime>L)||z&&!F());){var U=x.callback;if(typeof U=="function"){x.callback=null,p=x.priorityLevel;var ne=U(x.expirationTime<=L);L=e.unstable_now(),typeof ne=="function"?x.callback=ne:x===r(d)&&s(d),g(L)}else s(d);x=r(d)}if(x!==null)var nt=!0;else{var Bt=r(c);Bt!==null&&ke(h,Bt.startTime-L),nt=!1}return nt}finally{x=null,p=O,y=!1}}var v=!1,N=null,E=-1,S=5,P=-1;function F(){return!(e.unstable_now()-P<S)}function q(){if(N!==null){var z=e.unstable_now();P=z;var L=!0;try{L=N(!0,z)}finally{L?T():(v=!1,N=null)}}else v=!1}var T;if(typeof m=="function")T=function(){m(q)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,A=$.port2;$.port1.onmessage=q,T=function(){A.postMessage(null)}}else T=function(){C(q,0)};function ge(z){N=z,v||(v=!0,T())}function ke(z,L){E=C(function(){z(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){b||y||(b=!0,ge(j))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var O=p;p=L;try{return z()}finally{p=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,L){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var O=p;p=z;try{return L()}finally{p=O}},e.unstable_scheduleCallback=function(z,L,O){var U=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?U+O:U):O=U,z){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=O+ne,z={id:u++,callback:L,priorityLevel:z,startTime:O,expirationTime:ne,sortIndex:-1},O>U?(z.sortIndex=O,t(c,z),r(d)===null&&z===r(c)&&(w?(f(E),E=-1):w=!0,ke(h,O-U))):(z.sortIndex=ne,t(d,z),b||y||(b=!0,ge(j))),z},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(z){var L=p;return function(){var O=p;p=L;try{return z.apply(this,arguments)}finally{p=O}}}})(jc);vc.exports=jc;var Mx=vc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=k,Oe=Mx;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bc=new Set,xn={};function lr(e,t){Tr(e,t),Tr(e+"Capture",t)}function Tr(e,t){for(xn[e]=t,e=0;e<t.length;e++)bc.add(t[e])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=Object.prototype.hasOwnProperty,Ax=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lo={},Ro={};function Ix(e){return bl.call(Ro,e)?!0:bl.call(Lo,e)?!1:Ax.test(e)?Ro[e]=!0:(Lo[e]=!0,!1)}function Fx(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ux(e,t,r,s){if(t===null||typeof t>"u"||Fx(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function be(e,t,r,s,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ue[e]=new be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ue[t]=new be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ue[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ue[e]=new be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ue[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ue[e]=new be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ue[e]=new be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ue[e]=new be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ue[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ti=/[\-:]([a-z])/g;function zi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ti,zi);ue[t]=new be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ti,zi);ue[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ti,zi);ue[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ue[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)});ue.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ue[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)});function Li(e,t,r,s){var a=ue.hasOwnProperty(t)?ue[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ux(t,r,a,s)&&(r=null),s||a===null?Ix(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,s=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var pt=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hn=Symbol.for("react.element"),ur=Symbol.for("react.portal"),fr=Symbol.for("react.fragment"),Ri=Symbol.for("react.strict_mode"),kl=Symbol.for("react.profiler"),kc=Symbol.for("react.provider"),wc=Symbol.for("react.context"),Oi=Symbol.for("react.forward_ref"),wl=Symbol.for("react.suspense"),Nl=Symbol.for("react.suspense_list"),Di=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Nc=Symbol.for("react.offscreen"),Oo=Symbol.iterator;function Qr(e){return e===null||typeof e!="object"?null:(e=Oo&&e[Oo]||e["@@iterator"],typeof e=="function"?e:null)}var X=Object.assign,Ma;function Jr(e){if(Ma===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ma=t&&t[1]||""}return`
`+Ma+e}var $a=!1;function Aa(e,t){if(!e||$a)return"";$a=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),l=s.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var d=`
`+a[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{$a=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jr(e):""}function Bx(e){switch(e.tag){case 5:return Jr(e.type);case 16:return Jr("Lazy");case 13:return Jr("Suspense");case 19:return Jr("SuspenseList");case 0:case 2:case 15:return e=Aa(e.type,!1),e;case 11:return e=Aa(e.type.render,!1),e;case 1:return e=Aa(e.type,!0),e;default:return""}}function Sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fr:return"Fragment";case ur:return"Portal";case kl:return"Profiler";case Ri:return"StrictMode";case wl:return"Suspense";case Nl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wc:return(e.displayName||"Context")+".Consumer";case kc:return(e._context.displayName||"Context")+".Provider";case Oi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Di:return t=e.displayName||null,t!==null?t:Sl(e.type)||"Memo";case vt:t=e._payload,e=e._init;try{return Sl(e(t))}catch{}}return null}function Qx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sl(t);case 8:return t===Ri?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Dt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vx(e){var t=Sc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kn(e){e._valueTracker||(e._valueTracker=Vx(e))}function Cc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Sc(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cl(e,t){var r=t.checked;return X({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Do(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Dt(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ec(e,t){t=t.checked,t!=null&&Li(e,"checked",t,!1)}function El(e,t){Ec(e,t);var r=Dt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_l(e,t.type,r):t.hasOwnProperty("defaultValue")&&_l(e,t.type,Dt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _l(e,t,r){(t!=="number"||Rs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zr=Array.isArray;function wr(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Dt(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_(91));return X({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $o(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(_(92));if(Zr(r)){if(1<r.length)throw Error(_(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Dt(r)}}function _c(e,t){var r=Dt(t.value),s=Dt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Ao(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yn,Tc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wx=["Webkit","ms","Moz","O"];Object.keys(rn).forEach(function(e){Wx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rn[t]=rn[e]})});function zc(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||rn.hasOwnProperty(e)&&rn[e]?(""+t).trim():t+"px"}function Lc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,a=zc(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}var Gx=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(e,t){if(t){if(Gx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_(62))}}function Ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function Mi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,Nr=null,Sr=null;function Io(e){if(e=$n(e)){if(typeof Ol!="function")throw Error(_(280));var t=e.stateNode;t&&(t=ma(t),Ol(e.stateNode,e.type,t))}}function Rc(e){Nr?Sr?Sr.push(e):Sr=[e]:Nr=e}function Oc(){if(Nr){var e=Nr,t=Sr;if(Sr=Nr=null,Io(e),t)for(e=0;e<t.length;e++)Io(t[e])}}function Dc(e,t){return e(t)}function Mc(){}var Ia=!1;function $c(e,t,r){if(Ia)return e(t,r);Ia=!0;try{return Dc(e,t,r)}finally{Ia=!1,(Nr!==null||Sr!==null)&&(Mc(),Oc())}}function pn(e,t){var r=e.stateNode;if(r===null)return null;var s=ma(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(_(231,t,typeof r));return r}var Dl=!1;if(ct)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){Dl=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{Dl=!1}function Hx(e,t,r,s,a,l,i,o,d){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var nn=!1,Os=null,Ds=!1,Ml=null,Kx={onError:function(e){nn=!0,Os=e}};function Yx(e,t,r,s,a,l,i,o,d){nn=!1,Os=null,Hx.apply(Kx,arguments)}function Xx(e,t,r,s,a,l,i,o,d){if(Yx.apply(this,arguments),nn){if(nn){var c=Os;nn=!1,Os=null}else throw Error(_(198));Ds||(Ds=!0,Ml=c)}}function ir(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ac(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fo(e){if(ir(e)!==e)throw Error(_(188))}function Jx(e){var t=e.alternate;if(!t){if(t=ir(e),t===null)throw Error(_(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(s=a.return,s!==null){r=s;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Fo(a),e;if(l===s)return Fo(a),t;l=l.sibling}throw Error(_(188))}if(r.return!==s.return)r=a,s=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,s=l;break}if(o===s){i=!0,s=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,s=a;break}if(o===s){i=!0,s=l,r=a;break}o=o.sibling}if(!i)throw Error(_(189))}}if(r.alternate!==s)throw Error(_(190))}if(r.tag!==3)throw Error(_(188));return r.stateNode.current===r?e:t}function Ic(e){return e=Jx(e),e!==null?Fc(e):null}function Fc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Fc(e);if(t!==null)return t;e=e.sibling}return null}var Uc=Oe.unstable_scheduleCallback,Uo=Oe.unstable_cancelCallback,Zx=Oe.unstable_shouldYield,qx=Oe.unstable_requestPaint,Z=Oe.unstable_now,e0=Oe.unstable_getCurrentPriorityLevel,$i=Oe.unstable_ImmediatePriority,Bc=Oe.unstable_UserBlockingPriority,Ms=Oe.unstable_NormalPriority,t0=Oe.unstable_LowPriority,Qc=Oe.unstable_IdlePriority,ca=null,tt=null;function r0(e){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(ca,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:a0,n0=Math.log,s0=Math.LN2;function a0(e){return e>>>=0,e===0?32:31-(n0(e)/s0|0)|0}var Xn=64,Jn=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $s(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?s=qr(o):(l&=i,l!==0&&(s=qr(l)))}else i=r&~a,i!==0?s=qr(i):l!==0&&(s=qr(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Ye(t),a=1<<r,s|=e[r],t&=~a;return s}function l0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i0(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Ye(l),o=1<<i,d=a[i];d===-1?(!(o&r)||o&s)&&(a[i]=l0(o,t)):d<=t&&(e.expiredLanes|=o),l&=~o}}function $l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vc(){var e=Xn;return Xn<<=1,!(Xn&4194240)&&(Xn=64),e}function Fa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function o0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Ye(r),l=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~l}}function Ai(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Ye(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var B=0;function Wc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gc,Ii,Hc,Kc,Yc,Al=!1,Zn=[],Ct=null,Et=null,_t=null,hn=new Map,gn=new Map,bt=[],d0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bo(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(t.pointerId)}}function Wr(e,t,r,s,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:l,targetContainers:[a]},t!==null&&(t=$n(t),t!==null&&Ii(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function c0(e,t,r,s,a){switch(t){case"focusin":return Ct=Wr(Ct,e,t,r,s,a),!0;case"dragenter":return Et=Wr(Et,e,t,r,s,a),!0;case"mouseover":return _t=Wr(_t,e,t,r,s,a),!0;case"pointerover":var l=a.pointerId;return hn.set(l,Wr(hn.get(l)||null,e,t,r,s,a)),!0;case"gotpointercapture":return l=a.pointerId,gn.set(l,Wr(gn.get(l)||null,e,t,r,s,a)),!0}return!1}function Xc(e){var t=Ht(e.target);if(t!==null){var r=ir(t);if(r!==null){if(t=r.tag,t===13){if(t=Ac(r),t!==null){e.blockedOn=t,Yc(e.priority,function(){Hc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Rl=s,r.target.dispatchEvent(s),Rl=null}else return t=$n(r),t!==null&&Ii(t),e.blockedOn=r,!1;t.shift()}return!0}function Qo(e,t,r){gs(e)&&r.delete(t)}function u0(){Al=!1,Ct!==null&&gs(Ct)&&(Ct=null),Et!==null&&gs(Et)&&(Et=null),_t!==null&&gs(_t)&&(_t=null),hn.forEach(Qo),gn.forEach(Qo)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Al||(Al=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,u0)))}function yn(e){function t(a){return Gr(a,e)}if(0<Zn.length){Gr(Zn[0],e);for(var r=1;r<Zn.length;r++){var s=Zn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Ct!==null&&Gr(Ct,e),Et!==null&&Gr(Et,e),_t!==null&&Gr(_t,e),hn.forEach(t),gn.forEach(t),r=0;r<bt.length;r++)s=bt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<bt.length&&(r=bt[0],r.blockedOn===null);)Xc(r),r.blockedOn===null&&bt.shift()}var Cr=pt.ReactCurrentBatchConfig,As=!0;function f0(e,t,r,s){var a=B,l=Cr.transition;Cr.transition=null;try{B=1,Fi(e,t,r,s)}finally{B=a,Cr.transition=l}}function x0(e,t,r,s){var a=B,l=Cr.transition;Cr.transition=null;try{B=4,Fi(e,t,r,s)}finally{B=a,Cr.transition=l}}function Fi(e,t,r,s){if(As){var a=Il(e,t,r,s);if(a===null)Xa(e,t,s,Is,r),Bo(e,s);else if(c0(a,e,t,r,s))s.stopPropagation();else if(Bo(e,s),t&4&&-1<d0.indexOf(e)){for(;a!==null;){var l=$n(a);if(l!==null&&Gc(l),l=Il(e,t,r,s),l===null&&Xa(e,t,s,Is,r),l===a)break;a=l}a!==null&&s.stopPropagation()}else Xa(e,t,s,null,r)}}var Is=null;function Il(e,t,r,s){if(Is=null,e=Mi(s),e=Ht(e),e!==null)if(t=ir(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ac(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Is=e,null}function Jc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case $i:return 1;case Bc:return 4;case Ms:case t0:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var wt=null,Ui=null,ys=null;function Zc(){if(ys)return ys;var e,t=Ui,r=t.length,s,a="value"in wt?wt.value:wt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(s=1;s<=i&&t[r-s]===a[l-s];s++);return ys=a.slice(e,1<s?1-s:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function qn(){return!0}function Vo(){return!1}function $e(e){function t(r,s,a,l,i){this._reactName=r,this._targetInst=a,this.type=s,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?qn:Vo,this.isPropagationStopped=Vo,this}return X(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){},isPersistent:qn}),t}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bi=$e(Ir),Mn=X({},Ir,{view:0,detail:0}),m0=$e(Mn),Ua,Ba,Hr,ua=X({},Mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(Ua=e.screenX-Hr.screenX,Ba=e.screenY-Hr.screenY):Ba=Ua=0,Hr=e),Ua)},movementY:function(e){return"movementY"in e?e.movementY:Ba}}),Wo=$e(ua),p0=X({},ua,{dataTransfer:0}),h0=$e(p0),g0=X({},Mn,{relatedTarget:0}),Qa=$e(g0),y0=X({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),v0=$e(y0),j0=X({},Ir,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b0=$e(j0),k0=X({},Ir,{data:0}),Go=$e(k0),w0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S0[e])?!!t[e]:!1}function Qi(){return C0}var E0=X({},Mn,{key:function(e){if(e.key){var t=w0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qi,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_0=$e(E0),P0=X({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=$e(P0),T0=X({},Mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qi}),z0=$e(T0),L0=X({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=$e(L0),O0=X({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=$e(O0),M0=[9,13,27,32],Vi=ct&&"CompositionEvent"in window,sn=null;ct&&"documentMode"in document&&(sn=document.documentMode);var $0=ct&&"TextEvent"in window&&!sn,qc=ct&&(!Vi||sn&&8<sn&&11>=sn),Ko=" ",Yo=!1;function eu(e,t){switch(e){case"keyup":return M0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xr=!1;function A0(e,t){switch(e){case"compositionend":return tu(t);case"keypress":return t.which!==32?null:(Yo=!0,Ko);case"textInput":return e=t.data,e===Ko&&Yo?null:e;default:return null}}function I0(e,t){if(xr)return e==="compositionend"||!Vi&&eu(e,t)?(e=Zc(),ys=Ui=wt=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F0[e.type]:t==="textarea"}function ru(e,t,r,s){Rc(s),t=Fs(t,"onChange"),0<t.length&&(r=new Bi("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var an=null,vn=null;function U0(e){xu(e,0)}function fa(e){var t=hr(e);if(Cc(t))return e}function B0(e,t){if(e==="change")return t}var nu=!1;if(ct){var Va;if(ct){var Wa="oninput"in document;if(!Wa){var Jo=document.createElement("div");Jo.setAttribute("oninput","return;"),Wa=typeof Jo.oninput=="function"}Va=Wa}else Va=!1;nu=Va&&(!document.documentMode||9<document.documentMode)}function Zo(){an&&(an.detachEvent("onpropertychange",su),vn=an=null)}function su(e){if(e.propertyName==="value"&&fa(vn)){var t=[];ru(t,vn,e,Mi(e)),$c(U0,t)}}function Q0(e,t,r){e==="focusin"?(Zo(),an=t,vn=r,an.attachEvent("onpropertychange",su)):e==="focusout"&&Zo()}function V0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fa(vn)}function W0(e,t){if(e==="click")return fa(t)}function G0(e,t){if(e==="input"||e==="change")return fa(t)}function H0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Je=typeof Object.is=="function"?Object.is:H0;function jn(e,t){if(Je(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!bl.call(t,a)||!Je(e[a],t[a]))return!1}return!0}function qo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,t){var r=qo(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qo(r)}}function au(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?au(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lu(){for(var e=window,t=Rs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Rs(e.document)}return t}function Wi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function K0(e){var t=lu(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&au(r.ownerDocument.documentElement,r)){if(s!==null&&Wi(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(s.start,a);s=s.end===void 0?l:Math.min(s.end,a),!e.extend&&l>s&&(a=s,s=l,l=a),a=ed(r,l);var i=ed(r,s);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Y0=ct&&"documentMode"in document&&11>=document.documentMode,mr=null,Fl=null,ln=null,Ul=!1;function td(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ul||mr==null||mr!==Rs(s)||(s=mr,"selectionStart"in s&&Wi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ln&&jn(ln,s)||(ln=s,s=Fs(Fl,"onSelect"),0<s.length&&(t=new Bi("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=mr)))}function es(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Ga={},iu={};ct&&(iu=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function xa(e){if(Ga[e])return Ga[e];if(!pr[e])return e;var t=pr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in iu)return Ga[e]=t[r];return e}var ou=xa("animationend"),du=xa("animationiteration"),cu=xa("animationstart"),uu=xa("transitionend"),fu=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function At(e,t){fu.set(e,t),lr(t,[e])}for(var Ha=0;Ha<rd.length;Ha++){var Ka=rd[Ha],X0=Ka.toLowerCase(),J0=Ka[0].toUpperCase()+Ka.slice(1);At(X0,"on"+J0)}At(ou,"onAnimationEnd");At(du,"onAnimationIteration");At(cu,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(uu,"onTransitionEnd");Tr("onMouseEnter",["mouseout","mouseover"]);Tr("onMouseLeave",["mouseout","mouseover"]);Tr("onPointerEnter",["pointerout","pointerover"]);Tr("onPointerLeave",["pointerout","pointerover"]);lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lr("onBeforeInput",["compositionend","keypress","textInput","paste"]);lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var en="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z0=new Set("cancel close invalid load scroll toggle".split(" ").concat(en));function nd(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,Xx(s,t,void 0,e),e.currentTarget=null}function xu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],d=o.instance,c=o.currentTarget;if(o=o.listener,d!==l&&a.isPropagationStopped())break e;nd(a,o,c),l=d}else for(i=0;i<s.length;i++){if(o=s[i],d=o.instance,c=o.currentTarget,o=o.listener,d!==l&&a.isPropagationStopped())break e;nd(a,o,c),l=d}}}if(Ds)throw e=Ml,Ds=!1,Ml=null,e}function V(e,t){var r=t[Gl];r===void 0&&(r=t[Gl]=new Set);var s=e+"__bubble";r.has(s)||(mu(t,e,2,!1),r.add(s))}function Ya(e,t,r){var s=0;t&&(s|=4),mu(r,e,s,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function bn(e){if(!e[ts]){e[ts]=!0,bc.forEach(function(r){r!=="selectionchange"&&(Z0.has(r)||Ya(r,!1,e),Ya(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ts]||(t[ts]=!0,Ya("selectionchange",!1,t))}}function mu(e,t,r,s){switch(Jc(t)){case 1:var a=f0;break;case 4:a=x0;break;default:a=Fi}r=a.bind(null,t,r,e),a=void 0,!Dl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Xa(e,t,r,s,a){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=s.return;i!==null;){var d=i.tag;if((d===3||d===4)&&(d=i.stateNode.containerInfo,d===a||d.nodeType===8&&d.parentNode===a))return;i=i.return}for(;o!==null;){if(i=Ht(o),i===null)return;if(d=i.tag,d===5||d===6){s=l=i;continue e}o=o.parentNode}}s=s.return}$c(function(){var c=l,u=Mi(r),x=[];e:{var p=fu.get(e);if(p!==void 0){var y=Bi,b=e;switch(e){case"keypress":if(vs(r)===0)break e;case"keydown":case"keyup":y=_0;break;case"focusin":b="focus",y=Qa;break;case"focusout":b="blur",y=Qa;break;case"beforeblur":case"afterblur":y=Qa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=h0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=z0;break;case ou:case du:case cu:y=v0;break;case uu:y=R0;break;case"scroll":y=m0;break;case"wheel":y=D0;break;case"copy":case"cut":case"paste":y=b0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Ho}var w=(t&4)!==0,C=!w&&e==="scroll",f=w?p!==null?p+"Capture":null:p;w=[];for(var m=c,g;m!==null;){g=m;var h=g.stateNode;if(g.tag===5&&h!==null&&(g=h,f!==null&&(h=pn(m,f),h!=null&&w.push(kn(m,h,g)))),C)break;m=m.return}0<w.length&&(p=new y(p,b,null,r,u),x.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",p&&r!==Rl&&(b=r.relatedTarget||r.fromElement)&&(Ht(b)||b[ut]))break e;if((y||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,y?(b=r.relatedTarget||r.toElement,y=c,b=b?Ht(b):null,b!==null&&(C=ir(b),b!==C||b.tag!==5&&b.tag!==6)&&(b=null)):(y=null,b=c),y!==b)){if(w=Wo,h="onMouseLeave",f="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ho,h="onPointerLeave",f="onPointerEnter",m="pointer"),C=y==null?p:hr(y),g=b==null?p:hr(b),p=new w(h,m+"leave",y,r,u),p.target=C,p.relatedTarget=g,h=null,Ht(u)===c&&(w=new w(f,m+"enter",b,r,u),w.target=g,w.relatedTarget=C,h=w),C=h,y&&b)t:{for(w=y,f=b,m=0,g=w;g;g=cr(g))m++;for(g=0,h=f;h;h=cr(h))g++;for(;0<m-g;)w=cr(w),m--;for(;0<g-m;)f=cr(f),g--;for(;m--;){if(w===f||f!==null&&w===f.alternate)break t;w=cr(w),f=cr(f)}w=null}else w=null;y!==null&&sd(x,p,y,w,!1),b!==null&&C!==null&&sd(x,C,b,w,!0)}}e:{if(p=c?hr(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var j=B0;else if(Xo(p))if(nu)j=G0;else{j=V0;var v=Q0}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=W0);if(j&&(j=j(e,c))){ru(x,j,r,u);break e}v&&v(e,p,c),e==="focusout"&&(v=p._wrapperState)&&v.controlled&&p.type==="number"&&_l(p,"number",p.value)}switch(v=c?hr(c):window,e){case"focusin":(Xo(v)||v.contentEditable==="true")&&(mr=v,Fl=c,ln=null);break;case"focusout":ln=Fl=mr=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,td(x,r,u);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":td(x,r,u)}var N;if(Vi)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else xr?eu(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(qc&&r.locale!=="ko"&&(xr||E!=="onCompositionStart"?E==="onCompositionEnd"&&xr&&(N=Zc()):(wt=u,Ui="value"in wt?wt.value:wt.textContent,xr=!0)),v=Fs(c,E),0<v.length&&(E=new Go(E,e,null,r,u),x.push({event:E,listeners:v}),N?E.data=N:(N=tu(r),N!==null&&(E.data=N)))),(N=$0?A0(e,r):I0(e,r))&&(c=Fs(c,"onBeforeInput"),0<c.length&&(u=new Go("onBeforeInput","beforeinput",null,r,u),x.push({event:u,listeners:c}),u.data=N))}xu(x,t)})}function kn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fs(e,t){for(var r=t+"Capture",s=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=pn(e,r),l!=null&&s.unshift(kn(e,l,a)),l=pn(e,t),l!=null&&s.push(kn(e,l,a))),e=e.return}return s}function cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sd(e,t,r,s,a){for(var l=t._reactName,i=[];r!==null&&r!==s;){var o=r,d=o.alternate,c=o.stateNode;if(d!==null&&d===s)break;o.tag===5&&c!==null&&(o=c,a?(d=pn(r,l),d!=null&&i.unshift(kn(r,d,o))):a||(d=pn(r,l),d!=null&&i.push(kn(r,d,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var q0=/\r\n?/g,em=/\u0000|\uFFFD/g;function ad(e){return(typeof e=="string"?e:""+e).replace(q0,`
`).replace(em,"")}function rs(e,t,r){if(t=ad(t),ad(e)!==t&&r)throw Error(_(425))}function Us(){}var Bl=null,Ql=null;function Vl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Wl=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,rm=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(nm)}:Wl;function nm(e){setTimeout(function(){throw e})}function Ja(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(s===0){e.removeChild(a),yn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=a}while(r);yn(t)}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function id(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),et="__reactFiber$"+Fr,wn="__reactProps$"+Fr,ut="__reactContainer$"+Fr,Gl="__reactEvents$"+Fr,sm="__reactListeners$"+Fr,am="__reactHandles$"+Fr;function Ht(e){var t=e[et];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ut]||r[et]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=id(e);e!==null;){if(r=e[et])return r;e=id(e)}return t}e=r,r=e.parentNode}return null}function $n(e){return e=e[et]||e[ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_(33))}function ma(e){return e[wn]||null}var Hl=[],gr=-1;function It(e){return{current:e}}function W(e){0>gr||(e.current=Hl[gr],Hl[gr]=null,gr--)}function Q(e,t){gr++,Hl[gr]=e.current,e.current=t}var Mt={},he=It(Mt),Ce=It(!1),qt=Mt;function zr(e,t){var r=e.type.contextTypes;if(!r)return Mt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ee(e){return e=e.childContextTypes,e!=null}function Bs(){W(Ce),W(he)}function od(e,t,r){if(he.current!==Mt)throw Error(_(168));Q(he,t),Q(Ce,r)}function pu(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(_(108,Qx(e)||"Unknown",a));return X({},r,s)}function Qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Mt,qt=he.current,Q(he,e),Q(Ce,Ce.current),!0}function dd(e,t,r){var s=e.stateNode;if(!s)throw Error(_(169));r?(e=pu(e,t,qt),s.__reactInternalMemoizedMergedChildContext=e,W(Ce),W(he),Q(he,e)):W(Ce),Q(Ce,r)}var at=null,pa=!1,Za=!1;function hu(e){at===null?at=[e]:at.push(e)}function lm(e){pa=!0,hu(e)}function Ft(){if(!Za&&at!==null){Za=!0;var e=0,t=B;try{var r=at;for(B=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}at=null,pa=!1}catch(a){throw at!==null&&(at=at.slice(e+1)),Uc($i,Ft),a}finally{B=t,Za=!1}}return null}var yr=[],vr=0,Vs=null,Ws=0,Ae=[],Ie=0,er=null,lt=1,it="";function Vt(e,t){yr[vr++]=Ws,yr[vr++]=Vs,Vs=e,Ws=t}function gu(e,t,r){Ae[Ie++]=lt,Ae[Ie++]=it,Ae[Ie++]=er,er=e;var s=lt;e=it;var a=32-Ye(s)-1;s&=~(1<<a),r+=1;var l=32-Ye(t)+a;if(30<l){var i=a-a%5;l=(s&(1<<i)-1).toString(32),s>>=i,a-=i,lt=1<<32-Ye(t)+a|r<<a|s,it=l+e}else lt=1<<l|r<<a|s,it=e}function Gi(e){e.return!==null&&(Vt(e,1),gu(e,1,0))}function Hi(e){for(;e===Vs;)Vs=yr[--vr],yr[vr]=null,Ws=yr[--vr],yr[vr]=null;for(;e===er;)er=Ae[--Ie],Ae[Ie]=null,it=Ae[--Ie],Ae[Ie]=null,lt=Ae[--Ie],Ae[Ie]=null}var Re=null,Le=null,H=!1,He=null;function yu(e,t){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function cd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Re=e,Le=Pt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Re=e,Le=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=er!==null?{id:lt,overflow:it}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Re=e,Le=null,!0):!1;default:return!1}}function Kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yl(e){if(H){var t=Le;if(t){var r=t;if(!cd(e,t)){if(Kl(e))throw Error(_(418));t=Pt(r.nextSibling);var s=Re;t&&cd(e,t)?yu(s,r):(e.flags=e.flags&-4097|2,H=!1,Re=e)}}else{if(Kl(e))throw Error(_(418));e.flags=e.flags&-4097|2,H=!1,Re=e}}}function ud(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Re=e}function ns(e){if(e!==Re)return!1;if(!H)return ud(e),H=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vl(e.type,e.memoizedProps)),t&&(t=Le)){if(Kl(e))throw vu(),Error(_(418));for(;t;)yu(e,t),t=Pt(t.nextSibling)}if(ud(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Le=Pt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Le=null}}else Le=Re?Pt(e.stateNode.nextSibling):null;return!0}function vu(){for(var e=Le;e;)e=Pt(e.nextSibling)}function Lr(){Le=Re=null,H=!1}function Ki(e){He===null?He=[e]:He.push(e)}var im=pt.ReactCurrentBatchConfig;function Kr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(_(309));var s=r.stateNode}if(!s)throw Error(_(147,e));var a=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(_(284));if(!r._owner)throw Error(_(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error(_(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fd(e){var t=e._init;return t(e._payload)}function ju(e){function t(f,m){if(e){var g=f.deletions;g===null?(f.deletions=[m],f.flags|=16):g.push(m)}}function r(f,m){if(!e)return null;for(;m!==null;)t(f,m),m=m.sibling;return null}function s(f,m){for(f=new Map;m!==null;)m.key!==null?f.set(m.key,m):f.set(m.index,m),m=m.sibling;return f}function a(f,m){return f=Rt(f,m),f.index=0,f.sibling=null,f}function l(f,m,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<m?(f.flags|=2,m):g):(f.flags|=2,m)):(f.flags|=1048576,m)}function i(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,m,g,h){return m===null||m.tag!==6?(m=al(g,f.mode,h),m.return=f,m):(m=a(m,g),m.return=f,m)}function d(f,m,g,h){var j=g.type;return j===fr?u(f,m,g.props.children,h,g.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vt&&fd(j)===m.type)?(h=a(m,g.props),h.ref=Kr(f,m,g),h.return=f,h):(h=Cs(g.type,g.key,g.props,null,f.mode,h),h.ref=Kr(f,m,g),h.return=f,h)}function c(f,m,g,h){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ll(g,f.mode,h),m.return=f,m):(m=a(m,g.children||[]),m.return=f,m)}function u(f,m,g,h,j){return m===null||m.tag!==7?(m=Zt(g,f.mode,h,j),m.return=f,m):(m=a(m,g),m.return=f,m)}function x(f,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=al(""+m,f.mode,g),m.return=f,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Hn:return g=Cs(m.type,m.key,m.props,null,f.mode,g),g.ref=Kr(f,null,m),g.return=f,g;case ur:return m=ll(m,f.mode,g),m.return=f,m;case vt:var h=m._init;return x(f,h(m._payload),g)}if(Zr(m)||Qr(m))return m=Zt(m,f.mode,g,null),m.return=f,m;ss(f,m)}return null}function p(f,m,g,h){var j=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:o(f,m,""+g,h);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hn:return g.key===j?d(f,m,g,h):null;case ur:return g.key===j?c(f,m,g,h):null;case vt:return j=g._init,p(f,m,j(g._payload),h)}if(Zr(g)||Qr(g))return j!==null?null:u(f,m,g,h,null);ss(f,g)}return null}function y(f,m,g,h,j){if(typeof h=="string"&&h!==""||typeof h=="number")return f=f.get(g)||null,o(m,f,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Hn:return f=f.get(h.key===null?g:h.key)||null,d(m,f,h,j);case ur:return f=f.get(h.key===null?g:h.key)||null,c(m,f,h,j);case vt:var v=h._init;return y(f,m,g,v(h._payload),j)}if(Zr(h)||Qr(h))return f=f.get(g)||null,u(m,f,h,j,null);ss(m,h)}return null}function b(f,m,g,h){for(var j=null,v=null,N=m,E=m=0,S=null;N!==null&&E<g.length;E++){N.index>E?(S=N,N=null):S=N.sibling;var P=p(f,N,g[E],h);if(P===null){N===null&&(N=S);break}e&&N&&P.alternate===null&&t(f,N),m=l(P,m,E),v===null?j=P:v.sibling=P,v=P,N=S}if(E===g.length)return r(f,N),H&&Vt(f,E),j;if(N===null){for(;E<g.length;E++)N=x(f,g[E],h),N!==null&&(m=l(N,m,E),v===null?j=N:v.sibling=N,v=N);return H&&Vt(f,E),j}for(N=s(f,N);E<g.length;E++)S=y(N,f,E,g[E],h),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?E:S.key),m=l(S,m,E),v===null?j=S:v.sibling=S,v=S);return e&&N.forEach(function(F){return t(f,F)}),H&&Vt(f,E),j}function w(f,m,g,h){var j=Qr(g);if(typeof j!="function")throw Error(_(150));if(g=j.call(g),g==null)throw Error(_(151));for(var v=j=null,N=m,E=m=0,S=null,P=g.next();N!==null&&!P.done;E++,P=g.next()){N.index>E?(S=N,N=null):S=N.sibling;var F=p(f,N,P.value,h);if(F===null){N===null&&(N=S);break}e&&N&&F.alternate===null&&t(f,N),m=l(F,m,E),v===null?j=F:v.sibling=F,v=F,N=S}if(P.done)return r(f,N),H&&Vt(f,E),j;if(N===null){for(;!P.done;E++,P=g.next())P=x(f,P.value,h),P!==null&&(m=l(P,m,E),v===null?j=P:v.sibling=P,v=P);return H&&Vt(f,E),j}for(N=s(f,N);!P.done;E++,P=g.next())P=y(N,f,E,P.value,h),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),m=l(P,m,E),v===null?j=P:v.sibling=P,v=P);return e&&N.forEach(function(q){return t(f,q)}),H&&Vt(f,E),j}function C(f,m,g,h){if(typeof g=="object"&&g!==null&&g.type===fr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Hn:e:{for(var j=g.key,v=m;v!==null;){if(v.key===j){if(j=g.type,j===fr){if(v.tag===7){r(f,v.sibling),m=a(v,g.props.children),m.return=f,f=m;break e}}else if(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===vt&&fd(j)===v.type){r(f,v.sibling),m=a(v,g.props),m.ref=Kr(f,v,g),m.return=f,f=m;break e}r(f,v);break}else t(f,v);v=v.sibling}g.type===fr?(m=Zt(g.props.children,f.mode,h,g.key),m.return=f,f=m):(h=Cs(g.type,g.key,g.props,null,f.mode,h),h.ref=Kr(f,m,g),h.return=f,f=h)}return i(f);case ur:e:{for(v=g.key;m!==null;){if(m.key===v)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(f,m.sibling),m=a(m,g.children||[]),m.return=f,f=m;break e}else{r(f,m);break}else t(f,m);m=m.sibling}m=ll(g,f.mode,h),m.return=f,f=m}return i(f);case vt:return v=g._init,C(f,m,v(g._payload),h)}if(Zr(g))return b(f,m,g,h);if(Qr(g))return w(f,m,g,h);ss(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(f,m.sibling),m=a(m,g),m.return=f,f=m):(r(f,m),m=al(g,f.mode,h),m.return=f,f=m),i(f)):r(f,m)}return C}var Rr=ju(!0),bu=ju(!1),Gs=It(null),Hs=null,jr=null,Yi=null;function Xi(){Yi=jr=Hs=null}function Ji(e){var t=Gs.current;W(Gs),e._currentValue=t}function Xl(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Er(e,t){Hs=e,Yi=jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Se=!0),e.firstContext=null)}function Be(e){var t=e._currentValue;if(Yi!==e)if(e={context:e,memoizedValue:t,next:null},jr===null){if(Hs===null)throw Error(_(308));jr=e,Hs.dependencies={lanes:0,firstContext:e}}else jr=jr.next=e;return t}var Kt=null;function Zi(e){Kt===null?Kt=[e]:Kt.push(e)}function ku(e,t,r,s){var a=t.interleaved;return a===null?(r.next=r,Zi(t)):(r.next=a.next,a.next=r),t.interleaved=r,ft(e,s)}function ft(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jt=!1;function qi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tt(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,I&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,ft(e,r)}return a=s.interleaved,a===null?(t.next=t,Zi(s)):(t.next=a.next,a.next=t),s.interleaved=t,ft(e,r)}function js(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ai(e,r)}}function xd(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ks(e,t,r,s){var a=e.updateQueue;jt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var d=o,c=d.next;d.next=null,i===null?l=c:i.next=c,i=d;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=d))}if(l!==null){var x=a.baseState;i=0,u=c=d=null,o=l;do{var p=o.lane,y=o.eventTime;if((s&p)===p){u!==null&&(u=u.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=e,w=o;switch(p=t,y=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){x=b.call(y,x,p);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,p=typeof b=="function"?b.call(y,x,p):b,p==null)break e;x=X({},x,p);break e;case 2:jt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[o]:p.push(o))}else y={eventTime:y,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=y,d=x):u=u.next=y,i|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(u===null&&(d=x),a.baseState=d,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);rr|=i,e.lanes=i,e.memoizedState=x}}function md(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=r,typeof a!="function")throw Error(_(191,a));a.call(s)}}}var An={},rt=It(An),Nn=It(An),Sn=It(An);function Yt(e){if(e===An)throw Error(_(174));return e}function eo(e,t){switch(Q(Sn,t),Q(Nn,e),Q(rt,An),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Tl(t,e)}W(rt),Q(rt,t)}function Or(){W(rt),W(Nn),W(Sn)}function Nu(e){Yt(Sn.current);var t=Yt(rt.current),r=Tl(t,e.type);t!==r&&(Q(Nn,e),Q(rt,r))}function to(e){Nn.current===e&&(W(rt),W(Nn))}var K=It(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qa=[];function ro(){for(var e=0;e<qa.length;e++)qa[e]._workInProgressVersionPrimary=null;qa.length=0}var bs=pt.ReactCurrentDispatcher,el=pt.ReactCurrentBatchConfig,tr=0,Y=null,se=null,le=null,Xs=!1,on=!1,Cn=0,om=0;function fe(){throw Error(_(321))}function no(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Je(e[r],t[r]))return!1;return!0}function so(e,t,r,s,a,l){if(tr=l,Y=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bs.current=e===null||e.memoizedState===null?fm:xm,e=r(s,a),on){l=0;do{if(on=!1,Cn=0,25<=l)throw Error(_(301));l+=1,le=se=null,t.updateQueue=null,bs.current=mm,e=r(s,a)}while(on)}if(bs.current=Js,t=se!==null&&se.next!==null,tr=0,le=se=Y=null,Xs=!1,t)throw Error(_(300));return e}function ao(){var e=Cn!==0;return Cn=0,e}function qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?Y.memoizedState=le=e:le=le.next=e,le}function Qe(){if(se===null){var e=Y.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=le===null?Y.memoizedState:le.next;if(t!==null)le=t,se=e;else{if(e===null)throw Error(_(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},le===null?Y.memoizedState=le=e:le=le.next=e}return le}function En(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=Qe(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var s=se,a=s.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}s.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,s=s.baseState;var o=i=null,d=null,c=l;do{var u=c.lane;if((tr&u)===u)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var x={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(o=d=x,i=s):d=d.next=x,Y.lanes|=u,rr|=u}c=c.next}while(c!==null&&c!==l);d===null?i=s:d.next=o,Je(s,t.memoizedState)||(Se=!0),t.memoizedState=s,t.baseState=i,t.baseQueue=d,r.lastRenderedState=s}if(e=r.interleaved,e!==null){a=e;do l=a.lane,Y.lanes|=l,rr|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function rl(e){var t=Qe(),r=t.queue;if(r===null)throw Error(_(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Je(l,t.memoizedState)||(Se=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,s]}function Su(){}function Cu(e,t){var r=Y,s=Qe(),a=t(),l=!Je(s.memoizedState,a);if(l&&(s.memoizedState=a,Se=!0),s=s.queue,lo(Pu.bind(null,r,s,e),[e]),s.getSnapshot!==t||l||le!==null&&le.memoizedState.tag&1){if(r.flags|=2048,_n(9,_u.bind(null,r,s,a,t),void 0,null),ie===null)throw Error(_(349));tr&30||Eu(r,t,a)}return a}function Eu(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Y.updateQueue,t===null?(t={lastEffect:null,stores:null},Y.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _u(e,t,r,s){t.value=r,t.getSnapshot=s,Tu(t)&&zu(e)}function Pu(e,t,r){return r(function(){Tu(t)&&zu(e)})}function Tu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Je(e,r)}catch{return!0}}function zu(e){var t=ft(e,1);t!==null&&Xe(t,e,1,-1)}function pd(e){var t=qe();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:e},t.queue=e,e=e.dispatch=um.bind(null,Y,e),[t.memoizedState,e]}function _n(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Y.updateQueue,t===null?(t={lastEffect:null,stores:null},Y.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Lu(){return Qe().memoizedState}function ks(e,t,r,s){var a=qe();Y.flags|=e,a.memoizedState=_n(1|t,r,void 0,s===void 0?null:s)}function ha(e,t,r,s){var a=Qe();s=s===void 0?null:s;var l=void 0;if(se!==null){var i=se.memoizedState;if(l=i.destroy,s!==null&&no(s,i.deps)){a.memoizedState=_n(t,r,l,s);return}}Y.flags|=e,a.memoizedState=_n(1|t,r,l,s)}function hd(e,t){return ks(8390656,8,e,t)}function lo(e,t){return ha(2048,8,e,t)}function Ru(e,t){return ha(4,2,e,t)}function Ou(e,t){return ha(4,4,e,t)}function Du(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Mu(e,t,r){return r=r!=null?r.concat([e]):null,ha(4,4,Du.bind(null,t,e),r)}function io(){}function $u(e,t){var r=Qe();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&no(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Au(e,t){var r=Qe();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&no(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Iu(e,t,r){return tr&21?(Je(r,t)||(r=Vc(),Y.lanes|=r,rr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Se=!0),e.memoizedState=r)}function dm(e,t){var r=B;B=r!==0&&4>r?r:4,e(!0);var s=el.transition;el.transition={};try{e(!1),t()}finally{B=r,el.transition=s}}function Fu(){return Qe().memoizedState}function cm(e,t,r){var s=Lt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Uu(e))Bu(t,r);else if(r=ku(e,t,r,s),r!==null){var a=ve();Xe(r,e,s,a),Qu(r,t,s)}}function um(e,t,r){var s=Lt(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))Bu(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Je(o,i)){var d=t.interleaved;d===null?(a.next=a,Zi(t)):(a.next=d.next,d.next=a),t.interleaved=a;return}}catch{}finally{}r=ku(e,t,a,s),r!==null&&(a=ve(),Xe(r,e,s,a),Qu(r,t,s))}}function Uu(e){var t=e.alternate;return e===Y||t!==null&&t===Y}function Bu(e,t){on=Xs=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qu(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,Ai(e,r)}}var Js={readContext:Be,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},fm={readContext:Be,useCallback:function(e,t){return qe().memoizedState=[e,t===void 0?null:t],e},useContext:Be,useEffect:hd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ks(4194308,4,Du.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var r=qe();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=qe();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=cm.bind(null,Y,e),[s.memoizedState,e]},useRef:function(e){var t=qe();return e={current:e},t.memoizedState=e},useState:pd,useDebugValue:io,useDeferredValue:function(e){return qe().memoizedState=e},useTransition:function(){var e=pd(!1),t=e[0];return e=dm.bind(null,e[1]),qe().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Y,a=qe();if(H){if(r===void 0)throw Error(_(407));r=r()}else{if(r=t(),ie===null)throw Error(_(349));tr&30||Eu(s,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,hd(Pu.bind(null,s,l,e),[e]),s.flags|=2048,_n(9,_u.bind(null,s,l,r,t),void 0,null),r},useId:function(){var e=qe(),t=ie.identifierPrefix;if(H){var r=it,s=lt;r=(s&~(1<<32-Ye(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=om++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xm={readContext:Be,useCallback:$u,useContext:Be,useEffect:lo,useImperativeHandle:Mu,useInsertionEffect:Ru,useLayoutEffect:Ou,useMemo:Au,useReducer:tl,useRef:Lu,useState:function(){return tl(En)},useDebugValue:io,useDeferredValue:function(e){var t=Qe();return Iu(t,se.memoizedState,e)},useTransition:function(){var e=tl(En)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Su,useSyncExternalStore:Cu,useId:Fu,unstable_isNewReconciler:!1},mm={readContext:Be,useCallback:$u,useContext:Be,useEffect:lo,useImperativeHandle:Mu,useInsertionEffect:Ru,useLayoutEffect:Ou,useMemo:Au,useReducer:rl,useRef:Lu,useState:function(){return rl(En)},useDebugValue:io,useDeferredValue:function(e){var t=Qe();return se===null?t.memoizedState=e:Iu(t,se.memoizedState,e)},useTransition:function(){var e=rl(En)[0],t=Qe().memoizedState;return[e,t]},useMutableSource:Su,useSyncExternalStore:Cu,useId:Fu,unstable_isNewReconciler:!1};function We(e,t){if(e&&e.defaultProps){t=X({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:X({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ga={isMounted:function(e){return(e=e._reactInternals)?ir(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ve(),a=Lt(e),l=ot(s,a);l.payload=t,r!=null&&(l.callback=r),t=Tt(e,l,a),t!==null&&(Xe(t,e,a,s),js(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ve(),a=Lt(e),l=ot(s,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Tt(e,l,a),t!==null&&(Xe(t,e,a,s),js(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ve(),s=Lt(e),a=ot(r,s);a.tag=2,t!=null&&(a.callback=t),t=Tt(e,a,s),t!==null&&(Xe(t,e,s,r),js(t,e,s))}};function gd(e,t,r,s,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,i):t.prototype&&t.prototype.isPureReactComponent?!jn(r,s)||!jn(a,l):!0}function Vu(e,t,r){var s=!1,a=Mt,l=t.contextType;return typeof l=="object"&&l!==null?l=Be(l):(a=Ee(t)?qt:he.current,s=t.contextTypes,l=(s=s!=null)?zr(e,a):Mt),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function yd(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function Zl(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},qi(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Be(l):(l=Ee(t)?qt:he.current,a.context=zr(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Jl(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ga.enqueueReplaceState(a,a.state,null),Ks(e,r,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Dr(e,t){try{var r="",s=t;do r+=Bx(s),s=s.return;while(s);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function nl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ql(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pm=typeof WeakMap=="function"?WeakMap:Map;function Wu(e,t,r){r=ot(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){qs||(qs=!0,di=s),ql(e,t)},r}function Gu(e,t,r){r=ot(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){ql(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){ql(e,t),typeof s!="function"&&(zt===null?zt=new Set([this]):zt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function vd(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new pm;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Pm.bind(null,e,t,r),t.then(e,e))}function jd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function bd(e,t,r,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ot(-1,1),t.tag=2,Tt(r,t,1))),r.lanes|=1),e)}var hm=pt.ReactCurrentOwner,Se=!1;function ye(e,t,r,s){t.child=e===null?bu(t,null,r,s):Rr(t,e.child,r,s)}function kd(e,t,r,s,a){r=r.render;var l=t.ref;return Er(t,a),s=so(e,t,r,s,l,a),r=ao(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xt(e,t,a)):(H&&r&&Gi(t),t.flags|=1,ye(e,t,s,a),t.child)}function wd(e,t,r,s,a){if(e===null){var l=r.type;return typeof l=="function"&&!ho(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,Hu(e,t,l,s,a)):(e=Cs(r.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:jn,r(i,s)&&e.ref===t.ref)return xt(e,t,a)}return t.flags|=1,e=Rt(l,s),e.ref=t.ref,e.return=t,t.child=e}function Hu(e,t,r,s,a){if(e!==null){var l=e.memoizedProps;if(jn(l,s)&&e.ref===t.ref)if(Se=!1,t.pendingProps=s=l,(e.lanes&a)!==0)e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,xt(e,t,a)}return ei(e,t,r,s,a)}function Ku(e,t,r){var s=t.pendingProps,a=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(kr,ze),ze|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(kr,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:r,Q(kr,ze),ze|=s}else l!==null?(s=l.baseLanes|r,t.memoizedState=null):s=r,Q(kr,ze),ze|=s;return ye(e,t,a,r),t.child}function Yu(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ei(e,t,r,s,a){var l=Ee(r)?qt:he.current;return l=zr(t,l),Er(t,a),r=so(e,t,r,s,l,a),s=ao(),e!==null&&!Se?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xt(e,t,a)):(H&&s&&Gi(t),t.flags|=1,ye(e,t,r,a),t.child)}function Nd(e,t,r,s,a){if(Ee(r)){var l=!0;Qs(t)}else l=!1;if(Er(t,a),t.stateNode===null)ws(e,t),Vu(t,r,s),Zl(t,r,s,a),s=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var d=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Ee(r)?qt:he.current,c=zr(t,c));var u=r.getDerivedStateFromProps,x=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==s||d!==c)&&yd(t,i,s,c),jt=!1;var p=t.memoizedState;i.state=p,Ks(t,s,i,a),d=t.memoizedState,o!==s||p!==d||Ce.current||jt?(typeof u=="function"&&(Jl(t,r,u,s),d=t.memoizedState),(o=jt||gd(t,r,o,s,p,d,c))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=d),i.props=s,i.state=d,i.context=c,s=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,wu(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:We(t.type,o),i.props=c,x=t.pendingProps,p=i.context,d=r.contextType,typeof d=="object"&&d!==null?d=Be(d):(d=Ee(r)?qt:he.current,d=zr(t,d));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==x||p!==d)&&yd(t,i,s,d),jt=!1,p=t.memoizedState,i.state=p,Ks(t,s,i,a);var b=t.memoizedState;o!==x||p!==b||Ce.current||jt?(typeof y=="function"&&(Jl(t,r,y,s),b=t.memoizedState),(c=jt||gd(t,r,c,s,p,b,d)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,b,d),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,b,d)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=b),i.props=s,i.state=b,i.context=d,s=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),s=!1)}return ti(e,t,r,s,l,a)}function ti(e,t,r,s,a,l){Yu(e,t);var i=(t.flags&128)!==0;if(!s&&!i)return a&&dd(t,r,!1),xt(e,t,l);s=t.stateNode,hm.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&i?(t.child=Rr(t,e.child,null,l),t.child=Rr(t,null,o,l)):ye(e,t,o,l),t.memoizedState=s.state,a&&dd(t,r,!0),t.child}function Xu(e){var t=e.stateNode;t.pendingContext?od(e,t.pendingContext,t.pendingContext!==t.context):t.context&&od(e,t.context,!1),eo(e,t.containerInfo)}function Sd(e,t,r,s,a){return Lr(),Ki(a),t.flags|=256,ye(e,t,r,s),t.child}var ri={dehydrated:null,treeContext:null,retryLane:0};function ni(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ju(e,t,r){var s=t.pendingProps,a=K.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Q(K,a&1),e===null)return Yl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=s.children,e=s.fallback,l?(s=t.mode,l=t.child,i={mode:"hidden",children:i},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=ja(i,s,0,null),e=Zt(e,s,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=ni(r),t.memoizedState=ri,e):oo(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return gm(e,t,i,s,o,a,r);if(l){l=s.fallback,i=t.mode,a=e.child,o=a.sibling;var d={mode:"hidden",children:s.children};return!(i&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=d,t.deletions=null):(s=Rt(a,d),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=Rt(o,l):(l=Zt(l,i,r,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,i=e.child.memoizedState,i=i===null?ni(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=ri,s}return l=e.child,e=l.sibling,s=Rt(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function oo(e,t){return t=ja({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,r,s){return s!==null&&Ki(s),Rr(t,e.child,null,r),e=oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gm(e,t,r,s,a,l,i){if(r)return t.flags&256?(t.flags&=-257,s=nl(Error(_(422))),as(e,t,i,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,a=t.mode,s=ja({mode:"visible",children:s.children},a,0,null),l=Zt(l,a,i,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Rr(t,e.child,null,i),t.child.memoizedState=ni(i),t.memoizedState=ri,l);if(!(t.mode&1))return as(e,t,i,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,l=Error(_(419)),s=nl(l,s,void 0),as(e,t,i,s)}if(o=(i&e.childLanes)!==0,Se||o){if(s=ie,s!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ft(e,a),Xe(s,e,a,-1))}return po(),s=nl(Error(_(421))),as(e,t,i,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Tm.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Le=Pt(a.nextSibling),Re=t,H=!0,He=null,e!==null&&(Ae[Ie++]=lt,Ae[Ie++]=it,Ae[Ie++]=er,lt=e.id,it=e.overflow,er=t),t=oo(t,s.children),t.flags|=4096,t)}function Cd(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Xl(e.return,t,r)}function sl(e,t,r,s,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=a)}function Zu(e,t,r){var s=t.pendingProps,a=s.revealOrder,l=s.tail;if(ye(e,t,s.children,r),s=K.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,r,t);else if(e.tag===19)Cd(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Q(K,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ys(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),sl(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ys(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}sl(t,!0,r,null,l);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),rr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_(153));if(t.child!==null){for(e=t.child,r=Rt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Rt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ym(e,t,r){switch(t.tag){case 3:Xu(t),Lr();break;case 5:Nu(t);break;case 1:Ee(t.type)&&Qs(t);break;case 4:eo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Q(Gs,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Q(K,K.current&1),t.flags|=128,null):r&t.child.childLanes?Ju(e,t,r):(Q(K,K.current&1),e=xt(e,t,r),e!==null?e.sibling:null);Q(K,K.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Zu(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Q(K,K.current),s)break;return null;case 22:case 23:return t.lanes=0,Ku(e,t,r)}return xt(e,t,r)}var qu,si,ef,tf;qu=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};si=function(){};ef=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Yt(rt.current);var l=null;switch(r){case"input":a=Cl(e,a),s=Cl(e,s),l=[];break;case"select":a=X({},a,{value:void 0}),s=X({},s,{value:void 0}),l=[];break;case"textarea":a=Pl(e,a),s=Pl(e,s),l=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Us)}zl(r,s);var i;r=null;for(c in a)if(!s.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xn.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in s){var d=s[c];if(o=a!=null?a[c]:void 0,s.hasOwnProperty(c)&&d!==o&&(d!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||d&&d.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in d)d.hasOwnProperty(i)&&o[i]!==d[i]&&(r||(r={}),r[i]=d[i])}else r||(l||(l=[]),l.push(c,r)),r=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,o=o?o.__html:void 0,d!=null&&o!==d&&(l=l||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(l=l||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xn.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&V("scroll",e),l||o===d||(l=[])):(l=l||[]).push(c,d))}r&&(l=l||[]).push("style",r);var c=l;(t.updateQueue=c)&&(t.flags|=4)}};tf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Yr(e,t){if(!H)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function vm(e,t,r){var s=t.pendingProps;switch(Hi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return Ee(t.type)&&Bs(),xe(t),null;case 3:return s=t.stateNode,Or(),W(Ce),W(he),ro(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ns(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,He!==null&&(fi(He),He=null))),si(e,t),xe(t),null;case 5:to(t);var a=Yt(Sn.current);if(r=t.type,e!==null&&t.stateNode!=null)ef(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(_(166));return xe(t),null}if(e=Yt(rt.current),ns(t)){s=t.stateNode,r=t.type;var l=t.memoizedProps;switch(s[et]=t,s[wn]=l,e=(t.mode&1)!==0,r){case"dialog":V("cancel",s),V("close",s);break;case"iframe":case"object":case"embed":V("load",s);break;case"video":case"audio":for(a=0;a<en.length;a++)V(en[a],s);break;case"source":V("error",s);break;case"img":case"image":case"link":V("error",s),V("load",s);break;case"details":V("toggle",s);break;case"input":Do(s,l),V("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},V("invalid",s);break;case"textarea":$o(s,l),V("invalid",s)}zl(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?s.textContent!==o&&(l.suppressHydrationWarning!==!0&&rs(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&rs(s.textContent,o,e),a=["children",""+o]):xn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&V("scroll",s)}switch(r){case"input":Kn(s),Mo(s,l,!0);break;case"textarea":Kn(s),Ao(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=Us)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=i.createElement(r,{is:s.is}):(e=i.createElement(r),r==="select"&&(i=e,s.multiple?i.multiple=!0:s.size&&(i.size=s.size))):e=i.createElementNS(e,r),e[et]=t,e[wn]=s,qu(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ll(r,s),r){case"dialog":V("cancel",e),V("close",e),a=s;break;case"iframe":case"object":case"embed":V("load",e),a=s;break;case"video":case"audio":for(a=0;a<en.length;a++)V(en[a],e);a=s;break;case"source":V("error",e),a=s;break;case"img":case"image":case"link":V("error",e),V("load",e),a=s;break;case"details":V("toggle",e),a=s;break;case"input":Do(e,s),a=Cl(e,s),V("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=X({},s,{value:void 0}),V("invalid",e);break;case"textarea":$o(e,s),a=Pl(e,s),V("invalid",e);break;default:a=s}zl(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="style"?Lc(e,d):l==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Tc(e,d)):l==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&mn(e,d):typeof d=="number"&&mn(e,""+d):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(xn.hasOwnProperty(l)?d!=null&&l==="onScroll"&&V("scroll",e):d!=null&&Li(e,l,d,i))}switch(r){case"input":Kn(e),Mo(e,s,!1);break;case"textarea":Kn(e),Ao(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Dt(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?wr(e,!!s.multiple,l,!1):s.defaultValue!=null&&wr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Us)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)tf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(_(166));if(r=Yt(Sn.current),Yt(rt.current),ns(t)){if(s=t.stateNode,r=t.memoizedProps,s[et]=t,(l=s.nodeValue!==r)&&(e=Re,e!==null))switch(e.tag){case 3:rs(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rs(s.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[et]=t,t.stateNode=s}return xe(t),null;case 13:if(W(K),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(H&&Le!==null&&t.mode&1&&!(t.flags&128))vu(),Lr(),t.flags|=98560,l=!1;else if(l=ns(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(_(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(_(317));l[et]=t}else Lr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),l=!1}else He!==null&&(fi(He),He=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||K.current&1?ae===0&&(ae=3):po())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return Or(),si(e,t),e===null&&bn(t.stateNode.containerInfo),xe(t),null;case 10:return Ji(t.type._context),xe(t),null;case 17:return Ee(t.type)&&Bs(),xe(t),null;case 19:if(W(K),l=t.memoizedState,l===null)return xe(t),null;if(s=(t.flags&128)!==0,i=l.rendering,i===null)if(s)Yr(l,!1);else{if(ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Ys(e),i!==null){for(t.flags|=128,Yr(l,!1),s=i.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)l=r,e=s,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Q(K,K.current&1|2),t.child}e=e.sibling}l.tail!==null&&Z()>Mr&&(t.flags|=128,s=!0,Yr(l,!1),t.lanes=4194304)}else{if(!s)if(e=Ys(i),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!H)return xe(t),null}else 2*Z()-l.renderingStartTime>Mr&&r!==1073741824&&(t.flags|=128,s=!0,Yr(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Z(),t.sibling=null,r=K.current,Q(K,s?r&1|2:r&1),t):(xe(t),null);case 22:case 23:return mo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ze&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(_(156,t.tag))}function jm(e,t){switch(Hi(t),t.tag){case 1:return Ee(t.type)&&Bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),W(Ce),W(he),ro(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return to(t),null;case 13:if(W(K),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_(340));Lr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return W(K),null;case 4:return Or(),null;case 10:return Ji(t.type._context),null;case 22:case 23:return mo(),null;case 24:return null;default:return null}}var ls=!1,pe=!1,bm=typeof WeakSet=="function"?WeakSet:Set,R=null;function br(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){J(e,t,s)}else r.current=null}function ai(e,t,r){try{r()}catch(s){J(e,t,s)}}var Ed=!1;function km(e,t){if(Bl=As,e=lu(),Wi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var a=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,d=-1,c=0,u=0,x=e,p=null;t:for(;;){for(var y;x!==r||a!==0&&x.nodeType!==3||(o=i+a),x!==l||s!==0&&x.nodeType!==3||(d=i+s),x.nodeType===3&&(i+=x.nodeValue.length),(y=x.firstChild)!==null;)p=x,x=y;for(;;){if(x===e)break t;if(p===r&&++c===a&&(o=i),p===l&&++u===s&&(d=i),(y=x.nextSibling)!==null)break;x=p,p=x.parentNode}x=y}r=o===-1||d===-1?null:{start:o,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ql={focusedElem:e,selectionRange:r},As=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,C=b.memoizedState,f=t.stateNode,m=f.getSnapshotBeforeUpdate(t.elementType===t.type?w:We(t.type,w),C);f.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(h){J(t,t.return,h)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return b=Ed,Ed=!1,b}function dn(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ai(t,r,l)}a=a.next}while(a!==s)}}function ya(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function li(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function rf(e){var t=e.alternate;t!==null&&(e.alternate=null,rf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[et],delete t[wn],delete t[Gl],delete t[sm],delete t[am])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nf(e){return e.tag===5||e.tag===3||e.tag===4}function _d(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ii(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Us));else if(s!==4&&(e=e.child,e!==null))for(ii(e,t,r),e=e.sibling;e!==null;)ii(e,t,r),e=e.sibling}function oi(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(oi(e,t,r),e=e.sibling;e!==null;)oi(e,t,r),e=e.sibling}var de=null,Ge=!1;function gt(e,t,r){for(r=r.child;r!==null;)sf(e,t,r),r=r.sibling}function sf(e,t,r){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(ca,r)}catch{}switch(r.tag){case 5:pe||br(r,t);case 6:var s=de,a=Ge;de=null,gt(e,t,r),de=s,Ge=a,de!==null&&(Ge?(e=de,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):de.removeChild(r.stateNode));break;case 18:de!==null&&(Ge?(e=de,r=r.stateNode,e.nodeType===8?Ja(e.parentNode,r):e.nodeType===1&&Ja(e,r),yn(e)):Ja(de,r.stateNode));break;case 4:s=de,a=Ge,de=r.stateNode.containerInfo,Ge=!0,gt(e,t,r),de=s,Ge=a;break;case 0:case 11:case 14:case 15:if(!pe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ai(r,t,i),a=a.next}while(a!==s)}gt(e,t,r);break;case 1:if(!pe&&(br(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(o){J(r,t,o)}gt(e,t,r);break;case 21:gt(e,t,r);break;case 22:r.mode&1?(pe=(s=pe)||r.memoizedState!==null,gt(e,t,r),pe=s):gt(e,t,r);break;default:gt(e,t,r)}}function Pd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bm),t.forEach(function(s){var a=zm.bind(null,e,s);r.has(s)||(r.add(s),s.then(a,a))})}}function Ve(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var a=r[s];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:de=o.stateNode,Ge=!1;break e;case 3:de=o.stateNode.containerInfo,Ge=!0;break e;case 4:de=o.stateNode.containerInfo,Ge=!0;break e}o=o.return}if(de===null)throw Error(_(160));sf(l,i,a),de=null,Ge=!1;var d=a.alternate;d!==null&&(d.return=null),a.return=null}catch(c){J(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)af(t,e),t=t.sibling}function af(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ve(t,e),Ze(e),s&4){try{dn(3,e,e.return),ya(3,e)}catch(w){J(e,e.return,w)}try{dn(5,e,e.return)}catch(w){J(e,e.return,w)}}break;case 1:Ve(t,e),Ze(e),s&512&&r!==null&&br(r,r.return);break;case 5:if(Ve(t,e),Ze(e),s&512&&r!==null&&br(r,r.return),e.flags&32){var a=e.stateNode;try{mn(a,"")}catch(w){J(e,e.return,w)}}if(s&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Ec(a,l),Ll(o,i);var c=Ll(o,l);for(i=0;i<d.length;i+=2){var u=d[i],x=d[i+1];u==="style"?Lc(a,x):u==="dangerouslySetInnerHTML"?Tc(a,x):u==="children"?mn(a,x):Li(a,u,x,c)}switch(o){case"input":El(a,l);break;case"textarea":_c(a,l);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?wr(a,!!l.multiple,y,!1):p!==!!l.multiple&&(l.defaultValue!=null?wr(a,!!l.multiple,l.defaultValue,!0):wr(a,!!l.multiple,l.multiple?[]:"",!1))}a[wn]=l}catch(w){J(e,e.return,w)}}break;case 6:if(Ve(t,e),Ze(e),s&4){if(e.stateNode===null)throw Error(_(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(w){J(e,e.return,w)}}break;case 3:if(Ve(t,e),Ze(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{yn(t.containerInfo)}catch(w){J(e,e.return,w)}break;case 4:Ve(t,e),Ze(e);break;case 13:Ve(t,e),Ze(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(fo=Z())),s&4&&Pd(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(pe=(c=pe)||u,Ve(t,e),pe=c):Ve(t,e),Ze(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(R=e,u=e.child;u!==null;){for(x=R=u;R!==null;){switch(p=R,y=p.child,p.tag){case 0:case 11:case 14:case 15:dn(4,p,p.return);break;case 1:br(p,p.return);var b=p.stateNode;if(typeof b.componentWillUnmount=="function"){s=p,r=p.return;try{t=s,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){J(s,r,w)}}break;case 5:br(p,p.return);break;case 22:if(p.memoizedState!==null){zd(x);continue}}y!==null?(y.return=p,R=y):zd(x)}u=u.sibling}e:for(u=null,x=e;;){if(x.tag===5){if(u===null){u=x;try{a=x.stateNode,c?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=x.stateNode,d=x.memoizedProps.style,i=d!=null&&d.hasOwnProperty("display")?d.display:null,o.style.display=zc("display",i))}catch(w){J(e,e.return,w)}}}else if(x.tag===6){if(u===null)try{x.stateNode.nodeValue=c?"":x.memoizedProps}catch(w){J(e,e.return,w)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;u===x&&(u=null),x=x.return}u===x&&(u=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Ve(t,e),Ze(e),s&4&&Pd(e);break;case 21:break;default:Ve(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(nf(r)){var s=r;break e}r=r.return}throw Error(_(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(mn(a,""),s.flags&=-33);var l=_d(e);oi(e,l,a);break;case 3:case 4:var i=s.stateNode.containerInfo,o=_d(e);ii(e,o,i);break;default:throw Error(_(161))}}catch(d){J(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e,t,r){R=e,lf(e)}function lf(e,t,r){for(var s=(e.mode&1)!==0;R!==null;){var a=R,l=a.child;if(a.tag===22&&s){var i=a.memoizedState!==null||ls;if(!i){var o=a.alternate,d=o!==null&&o.memoizedState!==null||pe;o=ls;var c=pe;if(ls=i,(pe=d)&&!c)for(R=a;R!==null;)i=R,d=i.child,i.tag===22&&i.memoizedState!==null?Ld(a):d!==null?(d.return=i,R=d):Ld(a);for(;l!==null;)R=l,lf(l),l=l.sibling;R=a,ls=o,pe=c}Td(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,R=l):Td(e)}}function Td(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pe||ya(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!pe)if(r===null)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:We(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&md(t,l,s);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}md(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var x=u.dehydrated;x!==null&&yn(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}pe||t.flags&512&&li(t)}catch(p){J(t,t.return,p)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function zd(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function Ld(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ya(4,t)}catch(d){J(t,r,d)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(d){J(t,a,d)}}var l=t.return;try{li(t)}catch(d){J(t,l,d)}break;case 5:var i=t.return;try{li(t)}catch(d){J(t,i,d)}}}catch(d){J(t,t.return,d)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Nm=Math.ceil,Zs=pt.ReactCurrentDispatcher,co=pt.ReactCurrentOwner,Ue=pt.ReactCurrentBatchConfig,I=0,ie=null,ee=null,ce=0,ze=0,kr=It(0),ae=0,Pn=null,rr=0,va=0,uo=0,cn=null,we=null,fo=0,Mr=1/0,st=null,qs=!1,di=null,zt=null,is=!1,Nt=null,ea=0,un=0,ci=null,Ns=-1,Ss=0;function ve(){return I&6?Z():Ns!==-1?Ns:Ns=Z()}function Lt(e){return e.mode&1?I&2&&ce!==0?ce&-ce:im.transition!==null?(Ss===0&&(Ss=Vc()),Ss):(e=B,e!==0||(e=window.event,e=e===void 0?16:Jc(e.type)),e):1}function Xe(e,t,r,s){if(50<un)throw un=0,ci=null,Error(_(185));Dn(e,r,s),(!(I&2)||e!==ie)&&(e===ie&&(!(I&2)&&(va|=r),ae===4&&kt(e,ce)),_e(e,s),r===1&&I===0&&!(t.mode&1)&&(Mr=Z()+500,pa&&Ft()))}function _e(e,t){var r=e.callbackNode;i0(e,t);var s=$s(e,e===ie?ce:0);if(s===0)r!==null&&Uo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Uo(r),t===1)e.tag===0?lm(Rd.bind(null,e)):hu(Rd.bind(null,e)),rm(function(){!(I&6)&&Ft()}),r=null;else{switch(Wc(s)){case 1:r=$i;break;case 4:r=Bc;break;case 16:r=Ms;break;case 536870912:r=Qc;break;default:r=Ms}r=pf(r,of.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function of(e,t){if(Ns=-1,Ss=0,I&6)throw Error(_(327));var r=e.callbackNode;if(_r()&&e.callbackNode!==r)return null;var s=$s(e,e===ie?ce:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=ta(e,s);else{t=s;var a=I;I|=2;var l=cf();(ie!==e||ce!==t)&&(st=null,Mr=Z()+500,Jt(e,t));do try{Em();break}catch(o){df(e,o)}while(!0);Xi(),Zs.current=l,I=a,ee!==null?t=0:(ie=null,ce=0,t=ae)}if(t!==0){if(t===2&&(a=$l(e),a!==0&&(s=a,t=ui(e,a))),t===1)throw r=Pn,Jt(e,0),kt(e,s),_e(e,Z()),r;if(t===6)kt(e,s);else{if(a=e.current.alternate,!(s&30)&&!Sm(a)&&(t=ta(e,s),t===2&&(l=$l(e),l!==0&&(s=l,t=ui(e,l))),t===1))throw r=Pn,Jt(e,0),kt(e,s),_e(e,Z()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(_(345));case 2:Wt(e,we,st);break;case 3:if(kt(e,s),(s&130023424)===s&&(t=fo+500-Z(),10<t)){if($s(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){ve(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Wl(Wt.bind(null,e,we,st),t);break}Wt(e,we,st);break;case 4:if(kt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var i=31-Ye(s);l=1<<i,i=t[i],i>a&&(a=i),s&=~l}if(s=a,s=Z()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Nm(s/1960))-s,10<s){e.timeoutHandle=Wl(Wt.bind(null,e,we,st),s);break}Wt(e,we,st);break;case 5:Wt(e,we,st);break;default:throw Error(_(329))}}}return _e(e,Z()),e.callbackNode===r?of.bind(null,e):null}function ui(e,t){var r=cn;return e.current.memoizedState.isDehydrated&&(Jt(e,t).flags|=256),e=ta(e,t),e!==2&&(t=we,we=r,t!==null&&fi(t)),e}function fi(e){we===null?we=e:we.push.apply(we,e)}function Sm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var a=r[s],l=a.getSnapshot;a=a.value;try{if(!Je(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kt(e,t){for(t&=~uo,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),s=1<<r;e[r]=-1,t&=~s}}function Rd(e){if(I&6)throw Error(_(327));_r();var t=$s(e,0);if(!(t&1))return _e(e,Z()),null;var r=ta(e,t);if(e.tag!==0&&r===2){var s=$l(e);s!==0&&(t=s,r=ui(e,s))}if(r===1)throw r=Pn,Jt(e,0),kt(e,t),_e(e,Z()),r;if(r===6)throw Error(_(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wt(e,we,st),_e(e,Z()),null}function xo(e,t){var r=I;I|=1;try{return e(t)}finally{I=r,I===0&&(Mr=Z()+500,pa&&Ft())}}function nr(e){Nt!==null&&Nt.tag===0&&!(I&6)&&_r();var t=I;I|=1;var r=Ue.transition,s=B;try{if(Ue.transition=null,B=1,e)return e()}finally{B=s,Ue.transition=r,I=t,!(I&6)&&Ft()}}function mo(){ze=kr.current,W(kr)}function Jt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,tm(r)),ee!==null)for(r=ee.return;r!==null;){var s=r;switch(Hi(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Bs();break;case 3:Or(),W(Ce),W(he),ro();break;case 5:to(s);break;case 4:Or();break;case 13:W(K);break;case 19:W(K);break;case 10:Ji(s.type._context);break;case 22:case 23:mo()}r=r.return}if(ie=e,ee=e=Rt(e.current,null),ce=ze=t,ae=0,Pn=null,uo=va=rr=0,we=cn=null,Kt!==null){for(t=0;t<Kt.length;t++)if(r=Kt[t],s=r.interleaved,s!==null){r.interleaved=null;var a=s.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,s.next=i}r.pending=s}Kt=null}return e}function df(e,t){do{var r=ee;try{if(Xi(),bs.current=Js,Xs){for(var s=Y.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Xs=!1}if(tr=0,le=se=Y=null,on=!1,Cn=0,co.current=null,r===null||r.return===null){ae=1,Pn=t,ee=null;break}e:{var l=e,i=r.return,o=r,d=t;if(t=ce,o.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,u=o,x=u.tag;if(!(u.mode&1)&&(x===0||x===11||x===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=jd(i);if(y!==null){y.flags&=-257,bd(y,i,o,l,t),y.mode&1&&vd(l,c,t),t=y,d=c;var b=t.updateQueue;if(b===null){var w=new Set;w.add(d),t.updateQueue=w}else b.add(d);break e}else{if(!(t&1)){vd(l,c,t),po();break e}d=Error(_(426))}}else if(H&&o.mode&1){var C=jd(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),bd(C,i,o,l,t),Ki(Dr(d,o));break e}}l=d=Dr(d,o),ae!==4&&(ae=2),cn===null?cn=[l]:cn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var f=Wu(l,d,t);xd(l,f);break e;case 1:o=d;var m=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zt===null||!zt.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var h=Gu(l,o,t);xd(l,h);break e}}l=l.return}while(l!==null)}ff(r)}catch(j){t=j,ee===r&&r!==null&&(ee=r=r.return);continue}break}while(!0)}function cf(){var e=Zs.current;return Zs.current=Js,e===null?Js:e}function po(){(ae===0||ae===3||ae===2)&&(ae=4),ie===null||!(rr&268435455)&&!(va&268435455)||kt(ie,ce)}function ta(e,t){var r=I;I|=2;var s=cf();(ie!==e||ce!==t)&&(st=null,Jt(e,t));do try{Cm();break}catch(a){df(e,a)}while(!0);if(Xi(),I=r,Zs.current=s,ee!==null)throw Error(_(261));return ie=null,ce=0,ae}function Cm(){for(;ee!==null;)uf(ee)}function Em(){for(;ee!==null&&!Zx();)uf(ee)}function uf(e){var t=mf(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?ff(e):ee=t,co.current=null}function ff(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jm(r,t),r!==null){r.flags&=32767,ee=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ae=6,ee=null;return}}else if(r=vm(r,t,ze),r!==null){ee=r;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);ae===0&&(ae=5)}function Wt(e,t,r){var s=B,a=Ue.transition;try{Ue.transition=null,B=1,_m(e,t,r,s)}finally{Ue.transition=a,B=s}return null}function _m(e,t,r,s){do _r();while(Nt!==null);if(I&6)throw Error(_(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(_(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(o0(e,l),e===ie&&(ee=ie=null,ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||is||(is=!0,pf(Ms,function(){return _r(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Ue.transition,Ue.transition=null;var i=B;B=1;var o=I;I|=4,co.current=null,km(e,r),af(r,e),K0(Ql),As=!!Bl,Ql=Bl=null,e.current=r,wm(r),qx(),I=o,B=i,Ue.transition=l}else e.current=r;if(is&&(is=!1,Nt=e,ea=a),l=e.pendingLanes,l===0&&(zt=null),r0(r.stateNode),_e(e,Z()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(qs)throw qs=!1,e=di,di=null,e;return ea&1&&e.tag!==0&&_r(),l=e.pendingLanes,l&1?e===ci?un++:(un=0,ci=e):un=0,Ft(),null}function _r(){if(Nt!==null){var e=Wc(ea),t=Ue.transition,r=B;try{if(Ue.transition=null,B=16>e?16:e,Nt===null)var s=!1;else{if(e=Nt,Nt=null,ea=0,I&6)throw Error(_(331));var a=I;for(I|=4,R=e.current;R!==null;){var l=R,i=l.child;if(R.flags&16){var o=l.deletions;if(o!==null){for(var d=0;d<o.length;d++){var c=o[d];for(R=c;R!==null;){var u=R;switch(u.tag){case 0:case 11:case 15:dn(8,u,l)}var x=u.child;if(x!==null)x.return=u,R=x;else for(;R!==null;){u=R;var p=u.sibling,y=u.return;if(rf(u),u===c){R=null;break}if(p!==null){p.return=y,R=p;break}R=y}}}var b=l.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}R=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,R=i;else e:for(;R!==null;){if(l=R,l.flags&2048)switch(l.tag){case 0:case 11:case 15:dn(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,R=f;break e}R=l.return}}var m=e.current;for(R=m;R!==null;){i=R;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,R=g;else e:for(i=m;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ya(9,o)}}catch(j){J(o,o.return,j)}if(o===i){R=null;break e}var h=o.sibling;if(h!==null){h.return=o.return,R=h;break e}R=o.return}}if(I=a,Ft(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(ca,e)}catch{}s=!0}return s}finally{B=r,Ue.transition=t}}return!1}function Od(e,t,r){t=Dr(r,t),t=Wu(e,t,1),e=Tt(e,t,1),t=ve(),e!==null&&(Dn(e,1,t),_e(e,t))}function J(e,t,r){if(e.tag===3)Od(e,e,r);else for(;t!==null;){if(t.tag===3){Od(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(zt===null||!zt.has(s))){e=Dr(r,e),e=Gu(t,e,1),t=Tt(t,e,1),e=ve(),t!==null&&(Dn(t,1,e),_e(t,e));break}}t=t.return}}function Pm(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=ve(),e.pingedLanes|=e.suspendedLanes&r,ie===e&&(ce&r)===r&&(ae===4||ae===3&&(ce&130023424)===ce&&500>Z()-fo?Jt(e,0):uo|=r),_e(e,t)}function xf(e,t){t===0&&(e.mode&1?(t=Jn,Jn<<=1,!(Jn&130023424)&&(Jn=4194304)):t=1);var r=ve();e=ft(e,t),e!==null&&(Dn(e,t,r),_e(e,r))}function Tm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xf(e,r)}function zm(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(_(314))}s!==null&&s.delete(t),xf(e,r)}var mf;mf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ce.current)Se=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Se=!1,ym(e,t,r);Se=!!(e.flags&131072)}else Se=!1,H&&t.flags&1048576&&gu(t,Ws,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ws(e,t),e=t.pendingProps;var a=zr(t,he.current);Er(t,r),a=so(null,t,s,e,a,r);var l=ao();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ee(s)?(l=!0,Qs(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,qi(t),a.updater=ga,t.stateNode=a,a._reactInternals=t,Zl(t,s,e,r),t=ti(null,t,s,!0,l,r)):(t.tag=0,H&&l&&Gi(t),ye(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ws(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Rm(s),e=We(s,e),a){case 0:t=ei(null,t,s,e,r);break e;case 1:t=Nd(null,t,s,e,r);break e;case 11:t=kd(null,t,s,e,r);break e;case 14:t=wd(null,t,s,We(s.type,e),r);break e}throw Error(_(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:We(s,a),ei(e,t,s,a,r);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:We(s,a),Nd(e,t,s,a,r);case 3:e:{if(Xu(t),e===null)throw Error(_(387));s=t.pendingProps,l=t.memoizedState,a=l.element,wu(e,t),Ks(t,s,null,r);var i=t.memoizedState;if(s=i.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Dr(Error(_(423)),t),t=Sd(e,t,s,r,a);break e}else if(s!==a){a=Dr(Error(_(424)),t),t=Sd(e,t,s,r,a);break e}else for(Le=Pt(t.stateNode.containerInfo.firstChild),Re=t,H=!0,He=null,r=bu(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),s===a){t=xt(e,t,r);break e}ye(e,t,s,r)}t=t.child}return t;case 5:return Nu(t),e===null&&Yl(t),s=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Vl(s,a)?i=null:l!==null&&Vl(s,l)&&(t.flags|=32),Yu(e,t),ye(e,t,i,r),t.child;case 6:return e===null&&Yl(t),null;case 13:return Ju(e,t,r);case 4:return eo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Rr(t,null,s,r):ye(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:We(s,a),kd(e,t,s,a,r);case 7:return ye(e,t,t.pendingProps,r),t.child;case 8:return ye(e,t,t.pendingProps.children,r),t.child;case 12:return ye(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,Q(Gs,s._currentValue),s._currentValue=i,l!==null)if(Je(l.value,i)){if(l.children===a.children&&!Ce.current){t=xt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var d=o.firstContext;d!==null;){if(d.context===s){if(l.tag===1){d=ot(-1,r&-r),d.tag=2;var c=l.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?d.next=d:(d.next=u.next,u.next=d),c.pending=d}}l.lanes|=r,d=l.alternate,d!==null&&(d.lanes|=r),Xl(l.return,r,t),o.lanes|=r;break}d=d.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(_(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Xl(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}ye(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Er(t,r),a=Be(a),s=s(a),t.flags|=1,ye(e,t,s,r),t.child;case 14:return s=t.type,a=We(s,t.pendingProps),a=We(s.type,a),wd(e,t,s,a,r);case 15:return Hu(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:We(s,a),ws(e,t),t.tag=1,Ee(s)?(e=!0,Qs(t)):e=!1,Er(t,r),Vu(t,s,a),Zl(t,s,a,r),ti(null,t,s,!0,e,r);case 19:return Zu(e,t,r);case 22:return Ku(e,t,r)}throw Error(_(156,t.tag))};function pf(e,t){return Uc(e,t)}function Lm(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(e,t,r,s){return new Lm(e,t,r,s)}function ho(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rm(e){if(typeof e=="function")return ho(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Oi)return 11;if(e===Di)return 14}return 2}function Rt(e,t){var r=e.alternate;return r===null?(r=Fe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cs(e,t,r,s,a,l){var i=2;if(s=e,typeof e=="function")ho(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case fr:return Zt(r.children,a,l,t);case Ri:i=8,a|=8;break;case kl:return e=Fe(12,r,t,a|2),e.elementType=kl,e.lanes=l,e;case wl:return e=Fe(13,r,t,a),e.elementType=wl,e.lanes=l,e;case Nl:return e=Fe(19,r,t,a),e.elementType=Nl,e.lanes=l,e;case Nc:return ja(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kc:i=10;break e;case wc:i=9;break e;case Oi:i=11;break e;case Di:i=14;break e;case vt:i=16,s=null;break e}throw Error(_(130,e==null?e:typeof e,""))}return t=Fe(i,r,t,a),t.elementType=e,t.type=s,t.lanes=l,t}function Zt(e,t,r,s){return e=Fe(7,e,s,t),e.lanes=r,e}function ja(e,t,r,s){return e=Fe(22,e,s,t),e.elementType=Nc,e.lanes=r,e.stateNode={isHidden:!1},e}function al(e,t,r){return e=Fe(6,e,null,t),e.lanes=r,e}function ll(e,t,r){return t=Fe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Om(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function go(e,t,r,s,a,l,i,o,d){return e=new Om(e,t,r,o,d),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Fe(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qi(l),e}function Dm(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ur,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function hf(e){if(!e)return Mt;e=e._reactInternals;e:{if(ir(e)!==e||e.tag!==1)throw Error(_(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ee(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_(171))}if(e.tag===1){var r=e.type;if(Ee(r))return pu(e,r,t)}return t}function gf(e,t,r,s,a,l,i,o,d){return e=go(r,s,!0,e,a,l,i,o,d),e.context=hf(null),r=e.current,s=ve(),a=Lt(r),l=ot(s,a),l.callback=t??null,Tt(r,l,a),e.current.lanes=a,Dn(e,a,s),_e(e,s),e}function ba(e,t,r,s){var a=t.current,l=ve(),i=Lt(a);return r=hf(r),t.context===null?t.context=r:t.pendingContext=r,t=ot(l,i),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Tt(a,t,i),e!==null&&(Xe(e,a,i,l),js(e,a,i)),i}function ra(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yo(e,t){Dd(e,t),(e=e.alternate)&&Dd(e,t)}function Mm(){return null}var yf=typeof reportError=="function"?reportError:function(e){console.error(e)};function vo(e){this._internalRoot=e}ka.prototype.render=vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_(409));ba(e,t,null,null)};ka.prototype.unmount=vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nr(function(){ba(null,e,null,null)}),t[ut]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kc();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bt.length&&t!==0&&t<bt[r].priority;r++);bt.splice(r,0,e),r===0&&Xc(e)}};function jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Md(){}function $m(e,t,r,s,a){if(a){if(typeof s=="function"){var l=s;s=function(){var c=ra(i);l.call(c)}}var i=gf(t,s,e,0,null,!1,!1,"",Md);return e._reactRootContainer=i,e[ut]=i.current,bn(e.nodeType===8?e.parentNode:e),nr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var c=ra(d);o.call(c)}}var d=go(e,0,!1,null,null,!1,!1,"",Md);return e._reactRootContainer=d,e[ut]=d.current,bn(e.nodeType===8?e.parentNode:e),nr(function(){ba(t,d,r,s)}),d}function Na(e,t,r,s,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var d=ra(i);o.call(d)}}ba(t,i,e,a)}else i=$m(r,t,e,a,s);return ra(i)}Gc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qr(t.pendingLanes);r!==0&&(Ai(t,r|1),_e(t,Z()),!(I&6)&&(Mr=Z()+500,Ft()))}break;case 13:nr(function(){var s=ft(e,1);if(s!==null){var a=ve();Xe(s,e,1,a)}}),yo(e,1)}};Ii=function(e){if(e.tag===13){var t=ft(e,134217728);if(t!==null){var r=ve();Xe(t,e,134217728,r)}yo(e,134217728)}};Hc=function(e){if(e.tag===13){var t=Lt(e),r=ft(e,t);if(r!==null){var s=ve();Xe(r,e,t,s)}yo(e,t)}};Kc=function(){return B};Yc=function(e,t){var r=B;try{return B=e,t()}finally{B=r}};Ol=function(e,t,r){switch(t){case"input":if(El(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=ma(s);if(!a)throw Error(_(90));Cc(s),El(s,a)}}}break;case"textarea":_c(e,r);break;case"select":t=r.value,t!=null&&wr(e,!!r.multiple,t,!1)}};Dc=xo;Mc=nr;var Am={usingClientEntryPoint:!1,Events:[$n,hr,ma,Rc,Oc,xo]},Xr={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Im={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ic(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||Mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!os.isDisabled&&os.supportsFiber)try{ca=os.inject(Im),tt=os}catch{}}Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Am;Me.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jo(t))throw Error(_(200));return Dm(e,t,null,r)};Me.createRoot=function(e,t){if(!jo(e))throw Error(_(299));var r=!1,s="",a=yf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=go(e,1,!1,null,null,r,!1,s,a),e[ut]=t.current,bn(e.nodeType===8?e.parentNode:e),new vo(t)};Me.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_(188)):(e=Object.keys(e).join(","),Error(_(268,e)));return e=Ic(t),e=e===null?null:e.stateNode,e};Me.flushSync=function(e){return nr(e)};Me.hydrate=function(e,t,r){if(!wa(t))throw Error(_(200));return Na(null,e,t,!0,r)};Me.hydrateRoot=function(e,t,r){if(!jo(e))throw Error(_(405));var s=r!=null&&r.hydratedSources||null,a=!1,l="",i=yf;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=gf(t,null,e,1,r??null,a,!1,l,i),e[ut]=t.current,bn(e),s)for(e=0;e<s.length;e++)r=s[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ka(t)};Me.render=function(e,t,r){if(!wa(t))throw Error(_(200));return Na(null,e,t,!1,r)};Me.unmountComponentAtNode=function(e){if(!wa(e))throw Error(_(40));return e._reactRootContainer?(nr(function(){Na(null,null,e,!1,function(){e._reactRootContainer=null,e[ut]=null})}),!0):!1};Me.unstable_batchedUpdates=xo;Me.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!wa(r))throw Error(_(200));if(e==null||e._reactInternals===void 0)throw Error(_(38));return Na(e,t,r,!1,s)};Me.version="18.3.1-next-f1338f8080-20240426";function vf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vf)}catch(e){console.error(e)}}vf(),yc.exports=Me;var Fm=yc.exports,jf,$d=Fm;jf=$d.createRoot,$d.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tn(){return Tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Tn.apply(this,arguments)}var St;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(St||(St={}));const Ad="popstate";function Um(e){e===void 0&&(e={});function t(s,a){let{pathname:l,search:i,hash:o}=s.location;return xi("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(s,a){return typeof a=="string"?a:na(a)}return Qm(t,r,null,e)}function te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function bf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bm(){return Math.random().toString(36).substr(2,8)}function Id(e,t){return{usr:e.state,key:e.key,idx:t}}function xi(e,t,r,s){return r===void 0&&(r=null),Tn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ur(t):t,{state:r,key:t&&t.key||s||Bm()})}function na(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ur(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Qm(e,t,r,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,i=a.history,o=St.Pop,d=null,c=u();c==null&&(c=0,i.replaceState(Tn({},i.state,{idx:c}),""));function u(){return(i.state||{idx:null}).idx}function x(){o=St.Pop;let C=u(),f=C==null?null:C-c;c=C,d&&d({action:o,location:w.location,delta:f})}function p(C,f){o=St.Push;let m=xi(w.location,C,f);c=u()+1;let g=Id(m,c),h=w.createHref(m);try{i.pushState(g,"",h)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(h)}l&&d&&d({action:o,location:w.location,delta:1})}function y(C,f){o=St.Replace;let m=xi(w.location,C,f);c=u();let g=Id(m,c),h=w.createHref(m);i.replaceState(g,"",h),l&&d&&d({action:o,location:w.location,delta:0})}function b(C){let f=a.location.origin!=="null"?a.location.origin:a.location.href,m=typeof C=="string"?C:na(C);return m=m.replace(/ $/,"%20"),te(f,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,f)}let w={get action(){return o},get location(){return e(a,i)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Ad,x),d=C,()=>{a.removeEventListener(Ad,x),d=null}},createHref(C){return t(a,C)},createURL:b,encodeLocation(C){let f=b(C);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:p,replace:y,go(C){return i.go(C)}};return w}var Fd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fd||(Fd={}));function Vm(e,t,r){return r===void 0&&(r="/"),Wm(e,t,r)}function Wm(e,t,r,s){let a=typeof t=="string"?Ur(t):t,l=bo(a.pathname||"/",r);if(l==null)return null;let i=kf(e);Gm(i);let o=null;for(let d=0;o==null&&d<i.length;++d){let c=sp(l);o=tp(i[d],c)}return o}function kf(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let a=(l,i,o)=>{let d={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};d.relativePath.startsWith("/")&&(te(d.relativePath.startsWith(s),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(s.length));let c=Ot([s,d.relativePath]),u=r.concat(d);l.children&&l.children.length>0&&(te(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),kf(l.children,t,u,c)),!(l.path==null&&!l.index)&&t.push({path:c,score:qm(c,l.index),routesMeta:u})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let d of wf(l.path))a(l,i,d)}),t}function wf(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let i=wf(s.join("/")),o=[];return o.push(...i.map(d=>d===""?l:[l,d].join("/"))),a&&o.push(...i),o.map(d=>e.startsWith("/")&&d===""?"/":d)}function Gm(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ep(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const Hm=/^:[\w-]+$/,Km=3,Ym=2,Xm=1,Jm=10,Zm=-2,Ud=e=>e==="*";function qm(e,t){let r=e.split("/"),s=r.length;return r.some(Ud)&&(s+=Zm),t&&(s+=Ym),r.filter(a=>!Ud(a)).reduce((a,l)=>a+(Hm.test(l)?Km:l===""?Xm:Jm),s)}function ep(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function tp(e,t,r){let{routesMeta:s}=e,a={},l="/",i=[];for(let o=0;o<s.length;++o){let d=s[o],c=o===s.length-1,u=l==="/"?t:t.slice(l.length)||"/",x=rp({path:d.relativePath,caseSensitive:d.caseSensitive,end:c},u),p=d.route;if(!x)return null;Object.assign(a,x.params),i.push({params:a,pathname:Ot([l,x.pathname]),pathnameBase:op(Ot([l,x.pathnameBase])),route:p}),x.pathnameBase!=="/"&&(l=Ot([l,x.pathnameBase]))}return i}function rp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=np(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((c,u,x)=>{let{paramName:p,isOptional:y}=u;if(p==="*"){let w=o[x]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const b=o[x];return y&&!b?c[p]=void 0:c[p]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:l,pathnameBase:i,pattern:e}}function np(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),bf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,d)=>(s.push({paramName:o,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function sp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return bf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}function ap(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:a=""}=typeof e=="string"?Ur(e):e;return{pathname:r?r.startsWith("/")?r:lp(r,t):t,search:dp(s),hash:cp(a)}}function lp(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function il(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ip(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Nf(e,t){let r=ip(e);return t?r.map((s,a)=>a===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Sf(e,t,r,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=Ur(e):(a=Tn({},e),te(!a.pathname||!a.pathname.includes("?"),il("?","pathname","search",a)),te(!a.pathname||!a.pathname.includes("#"),il("#","pathname","hash",a)),te(!a.search||!a.search.includes("#"),il("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let x=t.length-1;if(!s&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),x-=1;a.pathname=p.join("/")}o=x>=0?t[x]:"/"}let d=ap(a,o),c=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||u)&&(d.pathname+="/"),d}const Ot=e=>e.join("/").replace(/\/\/+/g,"/"),op=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function up(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cf=["post","put","patch","delete"];new Set(Cf);const fp=["get",...Cf];new Set(fp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zn.apply(this,arguments)}const ko=k.createContext(null),xp=k.createContext(null),or=k.createContext(null),Sa=k.createContext(null),Ut=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Ef=k.createContext(null);function mp(e,t){let{relative:r}=t===void 0?{}:t;In()||te(!1);let{basename:s,navigator:a}=k.useContext(or),{hash:l,pathname:i,search:o}=Pf(e,{relative:r}),d=i;return s!=="/"&&(d=i==="/"?s:Ot([s,i])),a.createHref({pathname:d,search:o,hash:l})}function In(){return k.useContext(Sa)!=null}function Fn(){return In()||te(!1),k.useContext(Sa).location}function _f(e){k.useContext(or).static||k.useLayoutEffect(e)}function ht(){let{isDataRoute:e}=k.useContext(Ut);return e?Ep():pp()}function pp(){In()||te(!1);let e=k.useContext(ko),{basename:t,future:r,navigator:s}=k.useContext(or),{matches:a}=k.useContext(Ut),{pathname:l}=Fn(),i=JSON.stringify(Nf(a,r.v7_relativeSplatPath)),o=k.useRef(!1);return _f(()=>{o.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){s.go(c);return}let x=Sf(c,JSON.parse(i),l,u.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:Ot([t,x.pathname])),(u.replace?s.replace:s.push)(x,u.state,u)},[t,s,i,l,e])}function Ca(){let{matches:e}=k.useContext(Ut),t=e[e.length-1];return t?t.params:{}}function Pf(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=k.useContext(or),{matches:a}=k.useContext(Ut),{pathname:l}=Fn(),i=JSON.stringify(Nf(a,s.v7_relativeSplatPath));return k.useMemo(()=>Sf(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function hp(e,t){return gp(e,t)}function gp(e,t,r,s){In()||te(!1);let{navigator:a}=k.useContext(or),{matches:l}=k.useContext(Ut),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let d=i?i.pathnameBase:"/";i&&i.route;let c=Fn(),u;if(t){var x;let C=typeof t=="string"?Ur(t):t;d==="/"||(x=C.pathname)!=null&&x.startsWith(d)||te(!1),u=C}else u=c;let p=u.pathname||"/",y=p;if(d!=="/"){let C=d.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let b=Vm(e,{pathname:y}),w=kp(b&&b.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:Ot([d,a.encodeLocation?a.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?d:Ot([d,a.encodeLocation?a.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),l,r,s);return t&&w?k.createElement(Sa.Provider,{value:{location:zn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:St.Pop}},w):w}function yp(){let e=Cp(),t=up(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:a},r):null,null)}const vp=k.createElement(yp,null);class jp extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(Ut.Provider,{value:this.props.routeContext},k.createElement(Ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bp(e){let{routeContext:t,match:r,children:s}=e,a=k.useContext(ko);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Ut.Provider,{value:t},s)}function kp(e,t,r,s){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(x=>x.route.id&&(o==null?void 0:o[x.route.id])!==void 0);u>=0||te(!1),i=i.slice(0,Math.min(i.length,u+1))}let d=!1,c=-1;if(r&&s&&s.v7_partialHydration)for(let u=0;u<i.length;u++){let x=i[u];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(c=u),x.route.id){let{loaderData:p,errors:y}=r,b=x.route.loader&&p[x.route.id]===void 0&&(!y||y[x.route.id]===void 0);if(x.route.lazy||b){d=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((u,x,p)=>{let y,b=!1,w=null,C=null;r&&(y=o&&x.route.id?o[x.route.id]:void 0,w=x.route.errorElement||vp,d&&(c<0&&p===0?(_p("route-fallback"),b=!0,C=null):c===p&&(b=!0,C=x.route.hydrateFallbackElement||null)));let f=t.concat(i.slice(0,p+1)),m=()=>{let g;return y?g=w:b?g=C:x.route.Component?g=k.createElement(x.route.Component,null):x.route.element?g=x.route.element:g=u,k.createElement(bp,{match:x,routeContext:{outlet:u,matches:f,isDataRoute:r!=null},children:g})};return r&&(x.route.ErrorBoundary||x.route.errorElement||p===0)?k.createElement(jp,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()},null)}var Tf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Tf||{}),zf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zf||{});function wp(e){let t=k.useContext(ko);return t||te(!1),t}function Np(e){let t=k.useContext(xp);return t||te(!1),t}function Sp(e){let t=k.useContext(Ut);return t||te(!1),t}function Lf(e){let t=Sp(),r=t.matches[t.matches.length-1];return r.route.id||te(!1),r.route.id}function Cp(){var e;let t=k.useContext(Ef),r=Np(),s=Lf();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Ep(){let{router:e}=wp(Tf.UseNavigateStable),t=Lf(zf.UseNavigateStable),r=k.useRef(!1);return _f(()=>{r.current=!0}),k.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,zn({fromRouteId:t},l)))},[e,t])}const Bd={};function _p(e,t,r){Bd[e]||(Bd[e]=!0)}function Pp(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function me(e){te(!1)}function Tp(e){let{basename:t="/",children:r=null,location:s,navigationType:a=St.Pop,navigator:l,static:i=!1,future:o}=e;In()&&te(!1);let d=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:d,navigator:l,static:i,future:zn({v7_relativeSplatPath:!1},o)}),[d,o,l,i]);typeof s=="string"&&(s=Ur(s));let{pathname:u="/",search:x="",hash:p="",state:y=null,key:b="default"}=s,w=k.useMemo(()=>{let C=bo(u,d);return C==null?null:{location:{pathname:C,search:x,hash:p,state:y,key:b},navigationType:a}},[d,u,x,p,y,b,a]);return w==null?null:k.createElement(or.Provider,{value:c},k.createElement(Sa.Provider,{children:r,value:w}))}function zp(e){let{children:t,location:r}=e;return hp(mi(t),r)}new Promise(()=>{});function mi(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(s,a)=>{if(!k.isValidElement(s))return;let l=[...t,a];if(s.type===k.Fragment){r.push.apply(r,mi(s.props.children,l));return}s.type!==me&&te(!1),!s.props.index||!s.props.children||te(!1);let i={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(i.children=mi(s.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},pi.apply(this,arguments)}function Lp(e,t){if(e==null)return{};var r={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Rp(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Op(e,t){return e.button===0&&(!t||t==="_self")&&!Rp(e)}function hi(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let s=e[r];return t.concat(Array.isArray(s)?s.map(a=>[r,a]):[[r,s]])},[]))}function Dp(e,t){let r=hi(e);return t&&t.forEach((s,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}const Mp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$p="6";try{window.__reactRouterVersion=$p}catch{}const Ap="startTransition",Qd=Px[Ap];function Ip(e){let{basename:t,children:r,future:s,window:a}=e,l=k.useRef();l.current==null&&(l.current=Um({window:a,v5Compat:!0}));let i=l.current,[o,d]=k.useState({action:i.action,location:i.location}),{v7_startTransition:c}=s||{},u=k.useCallback(x=>{c&&Qd?Qd(()=>d(x)):d(x)},[d,c]);return k.useLayoutEffect(()=>i.listen(u),[i,u]),k.useEffect(()=>Pp(s),[s]),k.createElement(Tp,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:s})}const Fp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Up=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,D=k.forwardRef(function(t,r){let{onClick:s,relative:a,reloadDocument:l,replace:i,state:o,target:d,to:c,preventScrollReset:u,viewTransition:x}=t,p=Lp(t,Mp),{basename:y}=k.useContext(or),b,w=!1;if(typeof c=="string"&&Up.test(c)&&(b=c,Fp))try{let g=new URL(window.location.href),h=c.startsWith("//")?new URL(g.protocol+c):new URL(c),j=bo(h.pathname,y);h.origin===g.origin&&j!=null?c=j+h.search+h.hash:w=!0}catch{}let C=mp(c,{relative:a}),f=Bp(c,{replace:i,state:o,target:d,preventScrollReset:u,relative:a,viewTransition:x});function m(g){s&&s(g),g.defaultPrevented||f(g)}return k.createElement("a",pi({},p,{href:b||C,onClick:w||l?s:m,ref:r,target:d}))});var Vd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vd||(Vd={}));var Wd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wd||(Wd={}));function Bp(e,t){let{target:r,replace:s,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,d=ht(),c=Fn(),u=Pf(e,{relative:i});return k.useCallback(x=>{if(Op(x,r)){x.preventDefault();let p=s!==void 0?s:na(c)===na(u);d(e,{replace:p,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[c,d,u,s,a,r,e,l,i,o])}function Qp(e){let t=k.useRef(hi(e)),r=k.useRef(!1),s=Fn(),a=k.useMemo(()=>Dp(s.search,r.current?null:t.current),[s.search]),l=ht(),i=k.useCallback((o,d)=>{const c=hi(typeof o=="function"?o(a):o);r.current=!0,l("?"+c,d)},[l,a]);return[a,i]}var Rf={exports:{}},Of={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Un=k;function Vp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wp=typeof Object.is=="function"?Object.is:Vp,Gp=Un.useSyncExternalStore,Hp=Un.useRef,Kp=Un.useEffect,Yp=Un.useMemo,Xp=Un.useDebugValue;Of.useSyncExternalStoreWithSelector=function(e,t,r,s,a){var l=Hp(null);if(l.current===null){var i={hasValue:!1,value:null};l.current=i}else i=l.current;l=Yp(function(){function d(y){if(!c){if(c=!0,u=y,y=s(y),a!==void 0&&i.hasValue){var b=i.value;if(a(b,y))return x=b}return x=y}if(b=x,Wp(u,y))return b;var w=s(y);return a!==void 0&&a(b,w)?(u=y,b):(u=y,x=w)}var c=!1,u,x,p=r===void 0?null:r;return[function(){return d(t())},p===null?void 0:function(){return d(p())}]},[t,r,s,a]);var o=Gp(e,l[0],l[1]);return Kp(function(){i.hasValue=!0,i.value=o},[o]),Xp(o),o};Rf.exports=Of;var Jp=Rf.exports;function Zp(e){e()}function qp(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Zp(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let s=e;for(;s;)r.push(s),s=s.next;return r},subscribe(r){let s=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!s||e===null||(s=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var Gd={notify(){},get:()=>[]};function eh(e,t){let r,s=Gd,a=0,l=!1;function i(w){u();const C=s.subscribe(w);let f=!1;return()=>{f||(f=!0,C(),x())}}function o(){s.notify()}function d(){b.onStateChange&&b.onStateChange()}function c(){return l}function u(){a++,r||(r=e.subscribe(d),s=qp())}function x(){a--,r&&a===0&&(r(),r=void 0,s.clear(),s=Gd)}function p(){l||(l=!0,u())}function y(){l&&(l=!1,x())}const b={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:d,isSubscribed:c,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>s};return b}var th=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rh=th(),nh=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sh=nh(),ah=()=>rh||sh?k.useLayoutEffect:k.useEffect,lh=ah(),ol=Symbol.for("react-redux-context"),dl=typeof globalThis<"u"?globalThis:{};function ih(){if(!k.createContext)return{};const e=dl[ol]??(dl[ol]=new Map);let t=e.get(k.createContext);return t||(t=k.createContext(null),e.set(k.createContext,t)),t}var $t=ih();function oh(e){const{children:t,context:r,serverState:s,store:a}=e,l=k.useMemo(()=>{const d=eh(a);return{store:a,subscription:d,getServerState:s?()=>s:void 0}},[a,s]),i=k.useMemo(()=>a.getState(),[a]);lh(()=>{const{subscription:d}=l;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),i!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[l,i]);const o=r||$t;return k.createElement(o.Provider,{value:l},t)}var dh=oh;function wo(e=$t){return function(){return k.useContext(e)}}var Df=wo();function Mf(e=$t){const t=e===$t?Df:wo(e),r=()=>{const{store:s}=t();return s};return Object.assign(r,{withTypes:()=>r}),r}var ch=Mf();function uh(e=$t){const t=e===$t?ch:Mf(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Br=uh(),fh=(e,t)=>e===t;function xh(e=$t){const t=e===$t?Df:wo(e),r=(s,a={})=>{const{equalityFn:l=fh}=typeof a=="function"?{equalityFn:a}:a,i=t(),{store:o,subscription:d,getServerState:c}=i;k.useRef(!0);const u=k.useCallback({[s.name](p){return s(p)}}[s.name],[s]),x=Jp.useSyncExternalStoreWithSelector(d.addNestedSub,o.getState,c||o.getState,u,l);return k.useDebugValue(x),x};return Object.assign(r,{withTypes:()=>r}),r}var Ne=xh();function oe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mh=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hd=mh,cl=()=>Math.random().toString(36).substring(7).split("").join("."),ph={INIT:`@@redux/INIT${cl()}`,REPLACE:`@@redux/REPLACE${cl()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cl()}`},sa=ph;function No(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $f(e,t,r){if(typeof e!="function")throw new Error(oe(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(oe(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(oe(1));return r($f)(e,t)}let s=e,a=t,l=new Map,i=l,o=0,d=!1;function c(){i===l&&(i=new Map,l.forEach((C,f)=>{i.set(f,C)}))}function u(){if(d)throw new Error(oe(3));return a}function x(C){if(typeof C!="function")throw new Error(oe(4));if(d)throw new Error(oe(5));let f=!0;c();const m=o++;return i.set(m,C),function(){if(f){if(d)throw new Error(oe(6));f=!1,c(),i.delete(m),l=null}}}function p(C){if(!No(C))throw new Error(oe(7));if(typeof C.type>"u")throw new Error(oe(8));if(typeof C.type!="string")throw new Error(oe(17));if(d)throw new Error(oe(9));try{d=!0,a=s(a,C)}finally{d=!1}return(l=i).forEach(m=>{m()}),C}function y(C){if(typeof C!="function")throw new Error(oe(10));s=C,p({type:sa.REPLACE})}function b(){const C=x;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(oe(11));function m(){const h=f;h.next&&h.next(u())}return m(),{unsubscribe:C(m)}},[Hd](){return this}}}return p({type:sa.INIT}),{dispatch:p,subscribe:x,getState:u,replaceReducer:y,[Hd]:b}}function hh(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:sa.INIT})>"u")throw new Error(oe(12));if(typeof r(void 0,{type:sa.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(oe(13))})}function gh(e){const t=Object.keys(e),r={};for(let l=0;l<t.length;l++){const i=t[l];typeof e[i]=="function"&&(r[i]=e[i])}const s=Object.keys(r);let a;try{hh(r)}catch(l){a=l}return function(i={},o){if(a)throw a;let d=!1;const c={};for(let u=0;u<s.length;u++){const x=s[u],p=r[x],y=i[x],b=p(y,o);if(typeof b>"u")throw o&&o.type,new Error(oe(14));c[x]=b,d=d||b!==y}return d=d||s.length!==Object.keys(i).length,d?c:i}}function aa(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...s)=>t(r(...s)))}function yh(...e){return t=>(r,s)=>{const a=t(r,s);let l=()=>{throw new Error(oe(15))};const i={getState:a.getState,dispatch:(d,...c)=>l(d,...c)},o=e.map(d=>d(i));return l=aa(...o)(a.dispatch),{...a,dispatch:l}}}function vh(e){return No(e)&&"type"in e&&typeof e.type=="string"}var Af=Symbol.for("immer-nothing"),Kd=Symbol.for("immer-draftable"),De=Symbol.for("immer-state");function Ke(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $r=Object.getPrototypeOf;function sr(e){return!!e&&!!e[De]}function mt(e){var t;return e?If(e)||Array.isArray(e)||!!e[Kd]||!!((t=e.constructor)!=null&&t[Kd])||Bn(e)||_a(e):!1}var jh=Object.prototype.constructor.toString();function If(e){if(!e||typeof e!="object")return!1;const t=$r(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===jh}function la(e,t){Ea(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,s)=>t(s,r,e))}function Ea(e){const t=e[De];return t?t.type_:Array.isArray(e)?1:Bn(e)?2:_a(e)?3:0}function gi(e,t){return Ea(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ff(e,t,r){const s=Ea(e);s===2?e.set(t,r):s===3?e.add(r):e[t]=r}function bh(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Bn(e){return e instanceof Map}function _a(e){return e instanceof Set}function Gt(e){return e.copy_||e.base_}function yi(e,t){if(Bn(e))return new Map(e);if(_a(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=If(e);if(t===!0||t==="class_only"&&!r){const s=Object.getOwnPropertyDescriptors(e);delete s[De];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const i=a[l],o=s[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(s[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create($r(e),s)}else{const s=$r(e);if(s!==null&&r)return{...e};const a=Object.create(s);return Object.assign(a,e)}}function So(e,t=!1){return Pa(e)||sr(e)||!mt(e)||(Ea(e)>1&&Object.defineProperties(e,{set:{value:ds},add:{value:ds},clear:{value:ds},delete:{value:ds}}),Object.freeze(e),t&&Object.values(e).forEach(r=>So(r,!0))),e}function ds(){Ke(2)}function Pa(e){return Object.isFrozen(e)}var kh={};function ar(e){const t=kh[e];return t||Ke(0,e),t}var Ln;function Uf(){return Ln}function wh(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Yd(e,t){t&&(ar("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function vi(e){ji(e),e.drafts_.forEach(Nh),e.drafts_=null}function ji(e){e===Ln&&(Ln=e.parent_)}function Xd(e){return Ln=wh(Ln,e)}function Nh(e){const t=e[De];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Jd(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[De].modified_&&(vi(t),Ke(4)),mt(e)&&(e=ia(t,e),t.parent_||oa(t,e)),t.patches_&&ar("Patches").generateReplacementPatches_(r[De].base_,e,t.patches_,t.inversePatches_)):e=ia(t,r,[]),vi(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Af?e:void 0}function ia(e,t,r){if(Pa(t))return t;const s=t[De];if(!s)return la(t,(a,l)=>Zd(e,s,t,a,l,r)),t;if(s.scope_!==e)return t;if(!s.modified_)return oa(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,i=!1;s.type_===3&&(l=new Set(a),a.clear(),i=!0),la(l,(o,d)=>Zd(e,s,a,o,d,r,i)),oa(e,a,!1),r&&e.patches_&&ar("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function Zd(e,t,r,s,a,l,i){if(sr(a)){const o=l&&t&&t.type_!==3&&!gi(t.assigned_,s)?l.concat(s):void 0,d=ia(e,a,o);if(Ff(r,s,d),sr(d))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(mt(a)&&!Pa(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ia(e,a),(!t||!t.scope_.parent_)&&typeof s!="symbol"&&(Bn(r)?r.has(s):Object.prototype.propertyIsEnumerable.call(r,s))&&oa(e,a)}}function oa(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&So(t,r)}function Sh(e,t){const r=Array.isArray(e),s={type_:r?1:0,scope_:t?t.scope_:Uf(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,l=Co;r&&(a=[s],l=Rn);const{revoke:i,proxy:o}=Proxy.revocable(a,l);return s.draft_=o,s.revoke_=i,o}var Co={get(e,t){if(t===De)return e;const r=Gt(e);if(!gi(r,t))return Ch(e,r,t);const s=r[t];return e.finalized_||!mt(s)?s:s===ul(e.base_,t)?(fl(e),e.copy_[t]=ki(s,e)):s},has(e,t){return t in Gt(e)},ownKeys(e){return Reflect.ownKeys(Gt(e))},set(e,t,r){const s=Bf(Gt(e),t);if(s!=null&&s.set)return s.set.call(e.draft_,r),!0;if(!e.modified_){const a=ul(Gt(e),t),l=a==null?void 0:a[De];if(l&&l.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(bh(r,a)&&(r!==void 0||gi(e.base_,t)))return!0;fl(e),bi(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ul(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,fl(e),bi(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Gt(e),s=Reflect.getOwnPropertyDescriptor(r,t);return s&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:s.enumerable,value:r[t]}},defineProperty(){Ke(11)},getPrototypeOf(e){return $r(e.base_)},setPrototypeOf(){Ke(12)}},Rn={};la(Co,(e,t)=>{Rn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Rn.deleteProperty=function(e,t){return Rn.set.call(this,e,t,void 0)};Rn.set=function(e,t,r){return Co.set.call(this,e[0],t,r,e[0])};function ul(e,t){const r=e[De];return(r?Gt(r):e)[t]}function Ch(e,t,r){var a;const s=Bf(t,r);return s?"value"in s?s.value:(a=s.get)==null?void 0:a.call(e.draft_):void 0}function Bf(e,t){if(!(t in e))return;let r=$r(e);for(;r;){const s=Object.getOwnPropertyDescriptor(r,t);if(s)return s;r=$r(r)}}function bi(e){e.modified_||(e.modified_=!0,e.parent_&&bi(e.parent_))}function fl(e){e.copy_||(e.copy_=yi(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Eh=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,s)=>{if(typeof t=="function"&&typeof r!="function"){const l=r;r=t;const i=this;return function(d=l,...c){return i.produce(d,u=>r.call(this,u,...c))}}typeof r!="function"&&Ke(6),s!==void 0&&typeof s!="function"&&Ke(7);let a;if(mt(t)){const l=Xd(this),i=ki(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?vi(l):ji(l)}return Yd(l,s),Jd(a,l)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Af&&(a=void 0),this.autoFreeze_&&So(a,!0),s){const l=[],i=[];ar("Patches").generateReplacementPatches_(t,a,l,i),s(l,i)}return a}else Ke(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,d=>t(d,...o));let s,a;return[this.produce(t,r,(i,o)=>{s=i,a=o}),s,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){mt(e)||Ke(8),sr(e)&&(e=_h(e));const t=Xd(this),r=ki(e,void 0);return r[De].isManual_=!0,ji(t),r}finishDraft(e,t){const r=e&&e[De];(!r||!r.isManual_)&&Ke(9);const{scope_:s}=r;return Yd(s,t),Jd(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const s=ar("Patches").applyPatches_;return sr(e)?s(e,t):this.produce(e,a=>s(a,t))}};function ki(e,t){const r=Bn(e)?ar("MapSet").proxyMap_(e,t):_a(e)?ar("MapSet").proxySet_(e,t):Sh(e,t);return(t?t.scope_:Uf()).drafts_.push(r),r}function _h(e){return sr(e)||Ke(10,e),Qf(e)}function Qf(e){if(!mt(e)||Pa(e))return e;const t=e[De];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=yi(e,t.scope_.immer_.useStrictShallowCopy_)}else r=yi(e,!0);return la(r,(s,a)=>{Ff(r,s,Qf(a))}),t&&(t.finalized_=!1),r}var Ph=new Eh,Vf=Ph.produce;function Wf(e){return({dispatch:r,getState:s})=>a=>l=>typeof l=="function"?l(r,s,e):a(l)}var Th=Wf(),zh=Wf,Lh=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?aa:aa.apply(null,arguments)},Rh=e=>e&&typeof e.match=="function";function fn(e,t){function r(...s){if(t){let a=t(...s);if(!a)throw new Error(dt(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:s[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=s=>vh(s)&&s.type===e,r}var Gf=class tn extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,tn.prototype)}static get[Symbol.species](){return tn}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new tn(...t[0].concat(this)):new tn(...t.concat(this))}};function qd(e){return mt(e)?Vf(e,()=>{}):e}function cs(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Oh(e){return typeof e=="boolean"}var Dh=()=>function(t){const{thunk:r=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let i=new Gf;return r&&(Oh(r)?i.push(Th):i.push(zh(r.extraArgument))),i},Mh="RTK_autoBatch",ec=e=>t=>{setTimeout(t,e)},$h=(e={type:"raf"})=>t=>(...r)=>{const s=t(...r);let a=!0,l=!1,i=!1;const o=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ec(10):e.type==="callback"?e.queueNotification:ec(e.timeout),c=()=>{i=!1,l&&(l=!1,o.forEach(u=>u()))};return Object.assign({},s,{subscribe(u){const x=()=>a&&u(),p=s.subscribe(x);return o.add(u),()=>{p(),o.delete(u)}},dispatch(u){var x;try{return a=!((x=u==null?void 0:u.meta)!=null&&x[Mh]),l=!a,l&&(i||(i=!0,d(c))),s.dispatch(u)}finally{a=!0}}})},Ah=e=>function(r){const{autoBatch:s=!0}=r??{};let a=new Gf(e);return s&&a.push($h(typeof s=="object"?s:void 0)),a};function Ih(e){const t=Dh(),{reducer:r=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(No(r))o=gh(r);else throw new Error(dt(1));let d;typeof s=="function"?d=s(t):d=t();let c=aa;a&&(c=Lh({trace:!1,...typeof a=="object"&&a}));const u=yh(...d),x=Ah(u);let p=typeof i=="function"?i(x):x();const y=c(...p);return $f(o,l,y)}function Hf(e){const t={},r=[];let s;const a={addCase(l,i){const o=typeof l=="string"?l:l.type;if(!o)throw new Error(dt(28));if(o in t)throw new Error(dt(29));return t[o]=i,a},addAsyncThunk(l,i){return i.pending&&(t[l.pending.type]=i.pending),i.rejected&&(t[l.rejected.type]=i.rejected),i.fulfilled&&(t[l.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:l.settled,reducer:i.settled}),a},addMatcher(l,i){return r.push({matcher:l,reducer:i}),a},addDefaultCase(l){return s=l,a}};return e(a),[t,r,s]}function Fh(e){return typeof e=="function"}function Uh(e,t){let[r,s,a]=Hf(t),l;if(Fh(e))l=()=>qd(e());else{const o=qd(e);l=()=>o}function i(o=l(),d){let c=[r[d.type],...s.filter(({matcher:u})=>u(d)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,x)=>{if(x)if(sr(u)){const y=x(u,d);return y===void 0?u:y}else{if(mt(u))return Vf(u,p=>x(p,d));{const p=x(u,d);if(p===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return u},o)}return i.getInitialState=l,i}var Bh=(e,t)=>Rh(e)?e.match(t):e(t);function Qh(...e){return t=>e.some(r=>Bh(r,t))}var Vh="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wh=(e=21)=>{let t="",r=e;for(;r--;)t+=Vh[Math.random()*64|0];return t},Gh=["name","message","stack","code"],xl=class{constructor(e,t){Oa(this,"_type");this.payload=e,this.meta=t}},tc=class{constructor(e,t){Oa(this,"_type");this.payload=e,this.meta=t}},Hh=e=>{if(typeof e=="object"&&e!==null){const t={};for(const r of Gh)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},rc="External signal was aborted",Pe=(()=>{function e(t,r,s){const a=fn(t+"/fulfilled",(d,c,u,x)=>({payload:d,meta:{...x||{},arg:u,requestId:c,requestStatus:"fulfilled"}})),l=fn(t+"/pending",(d,c,u)=>({payload:void 0,meta:{...u||{},arg:c,requestId:d,requestStatus:"pending"}})),i=fn(t+"/rejected",(d,c,u,x,p)=>({payload:x,error:(s&&s.serializeError||Hh)(d||"Rejected"),meta:{...p||{},arg:u,requestId:c,rejectedWithValue:!!x,requestStatus:"rejected",aborted:(d==null?void 0:d.name)==="AbortError",condition:(d==null?void 0:d.name)==="ConditionError"}}));function o(d,{signal:c}={}){return(u,x,p)=>{const y=s!=null&&s.idGenerator?s.idGenerator(d):Wh(),b=new AbortController;let w,C;function f(g){C=g,b.abort()}c&&(c.aborted?f(rc):c.addEventListener("abort",()=>f(rc),{once:!0}));const m=async function(){var j,v;let g;try{let N=(j=s==null?void 0:s.condition)==null?void 0:j.call(s,d,{getState:x,extra:p});if(Yh(N)&&(N=await N),N===!1||b.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((S,P)=>{w=()=>{P({name:"AbortError",message:C||"Aborted"})},b.signal.addEventListener("abort",w)});u(l(y,d,(v=s==null?void 0:s.getPendingMeta)==null?void 0:v.call(s,{requestId:y,arg:d},{getState:x,extra:p}))),g=await Promise.race([E,Promise.resolve(r(d,{dispatch:u,getState:x,extra:p,requestId:y,signal:b.signal,abort:f,rejectWithValue:(S,P)=>new xl(S,P),fulfillWithValue:(S,P)=>new tc(S,P)})).then(S=>{if(S instanceof xl)throw S;return S instanceof tc?a(S.payload,y,d,S.meta):a(S,y,d)})])}catch(N){g=N instanceof xl?i(null,y,d,N.payload,N.meta):i(N,y,d)}finally{w&&b.signal.removeEventListener("abort",w)}return s&&!s.dispatchConditionRejection&&i.match(g)&&g.meta.condition||u(g),g}();return Object.assign(m,{abort:f,requestId:y,arg:d,unwrap(){return m.then(Kh)}})}}return Object.assign(o,{pending:l,rejected:i,fulfilled:a,settled:Qh(i,a),typePrefix:t})}return e.withTypes=()=>e,e})();function Kh(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Yh(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Xh=Symbol.for("rtk-slice-createasyncthunk");function Jh(e,t){return`${e}/${t}`}function Zh({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Xh];return function(a){const{name:l,reducerPath:i=l}=a;if(!l)throw new Error(dt(11));const o=(typeof a.reducers=="function"?a.reducers(eg()):a.reducers)||{},d=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(h,j){const v=typeof h=="string"?h:h.type;if(!v)throw new Error(dt(12));if(v in c.sliceCaseReducersByType)throw new Error(dt(13));return c.sliceCaseReducersByType[v]=j,u},addMatcher(h,j){return c.sliceMatchers.push({matcher:h,reducer:j}),u},exposeAction(h,j){return c.actionCreators[h]=j,u},exposeCaseReducer(h,j){return c.sliceCaseReducersByName[h]=j,u}};d.forEach(h=>{const j=o[h],v={reducerName:h,type:Jh(l,h),createNotation:typeof a.reducers=="function"};rg(j)?sg(v,j,u,t):tg(v,j,u)});function x(){const[h={},j=[],v=void 0]=typeof a.extraReducers=="function"?Hf(a.extraReducers):[a.extraReducers],N={...h,...c.sliceCaseReducersByType};return Uh(a.initialState,E=>{for(let S in N)E.addCase(S,N[S]);for(let S of c.sliceMatchers)E.addMatcher(S.matcher,S.reducer);for(let S of j)E.addMatcher(S.matcher,S.reducer);v&&E.addDefaultCase(v)})}const p=h=>h,y=new Map,b=new WeakMap;let w;function C(h,j){return w||(w=x()),w(h,j)}function f(){return w||(w=x()),w.getInitialState()}function m(h,j=!1){function v(E){let S=E[h];return typeof S>"u"&&j&&(S=cs(b,v,f)),S}function N(E=p){const S=cs(y,j,()=>new WeakMap);return cs(S,E,()=>{const P={};for(const[F,q]of Object.entries(a.selectors??{}))P[F]=qh(q,E,()=>cs(b,E,f),j);return P})}return{reducerPath:h,getSelectors:N,get selectors(){return N(v)},selectSlice:v}}const g={name:l,reducer:C,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:f,...m(i),injectInto(h,{reducerPath:j,...v}={}){const N=j??i;return h.inject({reducerPath:N,reducer:C},v),{...g,...m(N,!0)}}};return g}}function qh(e,t,r,s){function a(l,...i){let o=t(l);return typeof o>"u"&&s&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var dr=Zh();function eg(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function tg({type:e,reducerName:t,createNotation:r},s,a){let l,i;if("reducer"in s){if(r&&!ng(s))throw new Error(dt(17));l=s.reducer,i=s.prepare}else l=s;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,i?fn(e,i):fn(e))}function rg(e){return e._reducerDefinitionType==="asyncThunk"}function ng(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sg({type:e,reducerName:t},r,s,a){if(!a)throw new Error(dt(18));const{payloadCreator:l,fulfilled:i,pending:o,rejected:d,settled:c,options:u}=r,x=a(e,l,u);s.exposeAction(t,x),i&&s.addCase(x.fulfilled,i),o&&s.addCase(x.pending,o),d&&s.addCase(x.rejected,d),c&&s.addMatcher(x.settled,c),s.exposeCaseReducer(t,{fulfilled:i||us,pending:o||us,rejected:d||us,settled:c||us})}function us(){}function dt(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ta="http://localhost:8000";function nc(){const e=localStorage.getItem("authToken");return{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}}}async function ag(){try{return await Xt.dispatch(Pr()).unwrap(),!0}catch(e){return console.error("Token refresh failed:",e),Xt.dispatch(_o()),window.location.href="/login",!1}}async function za(e,t={}){let r=await fetch(e,{...t,headers:{...nc(),...t.headers}});return r.status===401&&localStorage.getItem("authToken")&&await ag()&&(r=await fetch(e,{...t,headers:{...nc(),...t.headers}})),r}async function re(e){try{const t=await za(Ta+e);if(!t.ok){const r=await t.json().catch(()=>({message:"Network error"}));throw new Error(r.message||`HTTP ${t.status}`)}return await t.json()}catch(t){throw console.error("API GET Error:",t),t}}async function Te(e,t){try{const r=await za(Ta+e,{method:"POST",body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({message:"Network error"})),a=new Error(s.message||`HTTP ${r.status}`);throw a.response={data:s,status:r.status},a}return await r.json()}catch(r){throw console.error("API POST Error:",r),r}}async function Qn(e,t){try{const r=await za(Ta+e,{method:"PUT",body:JSON.stringify(t)});if(!r.ok){const s=await r.json().catch(()=>({message:"Network error"})),a=new Error(s.message||`HTTP ${r.status}`);throw a.response={data:s,status:r.status},a}return await r.json()}catch(r){throw console.error("API PUT Error:",r),r}}async function Vn(e){try{const t=await za(Ta+e,{method:"DELETE"});if(!t.ok){const r=await t.json().catch(()=>({message:"Network error"}));throw new Error(r.message||`HTTP ${t.status}`)}return await t.json()}catch(t){throw console.error("API DELETE Error:",t),t}}const lg=async e=>await Te("/api/users/",e),ig=async e=>await Te("/api/users/login",e),og=async e=>await Te("/api/users/verify-otp",e),dg=async e=>{const{email:t,oldPassword:r,newPassword:s}=e;return await Te("/api/users/change-password",{email:t,oldPassword:r,newPassword:s})},cg=async e=>await Te("/auth/refresh-token",{refreshToken:e}),ug=async e=>await Te("/auth/forgot-password",{email:e}),fg=async(e,t,r)=>await Te("/auth/reset-password",{token:e,newPassword:t,confirmPassword:r}),Kf=60*60*1e3,wi=()=>{localStorage.setItem("tokenTimestamp",Date.now().toString())},Yf=()=>{const e=localStorage.getItem("tokenTimestamp");return e?parseInt(e):null},xg=()=>{const e=Yf();return e?Date.now()-e>Kf:!0},mg=()=>{const e=Yf();if(!e)return!0;const t=Date.now();return Kf-(t-e)<5*60*1e3},fs=async()=>{const e=Xt.getState(),{isAuthenticated:t,token:r}=e.auth;if(!t||!r)return!1;if(xg())try{return await Xt.dispatch(Pr()).unwrap(),wi(),!0}catch{return Xt.dispatch(_o()),!1}else if(mg())try{return await Xt.dispatch(Pr()).unwrap(),wi(),!0}catch(s){return console.warn("Failed to refresh token in background:",s),!1}return!0},Eo=()=>{wi()},sc=()=>{localStorage.removeItem("tokenTimestamp")},ml=Pe("auth/loginUser",async(e,{rejectWithValue:t})=>{try{const r=await ig(e);return r.token&&(localStorage.setItem("authToken",r.token),localStorage.setItem("user",JSON.stringify(r.user)),Eo()),r}catch(r){return t(r.message)}}),pl=Pe("auth/signupUser",async(e,{rejectWithValue:t})=>{try{return await lg(e)}catch(r){return t(r.message)}}),hl=Pe("auth/verifyOtpUser",async(e,{rejectWithValue:t})=>{try{const r=await og(e);return r.token&&(localStorage.setItem("authToken",r.token),localStorage.setItem("user",JSON.stringify(r.user)),Eo()),r}catch(r){return t(r.message)}}),Pr=Pe("auth/refreshToken",async(e,{rejectWithValue:t})=>{try{const r=await cg();return r.token&&(localStorage.setItem("authToken",r.token),localStorage.setItem("user",JSON.stringify(r.user)),Eo()),r}catch(r){return t(r.message)}}),pg={user:JSON.parse(localStorage.getItem("user"))||null,token:localStorage.getItem("authToken")||null,isAuthenticated:!!localStorage.getItem("authToken"),loading:!1,error:null,requiresOtp:!1,tempToken:null},Xf=dr({name:"auth",initialState:pg,reducers:{logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,e.requiresOtp=!1,e.tempToken=null,localStorage.removeItem("authToken"),localStorage.removeItem("user"),sc()},clearError:e=>{e.error=null},updateProfile:(e,t)=>{e.user={...e.user,...t.payload},localStorage.setItem("user",JSON.stringify(e.user))},changePassword:(e,t)=>{e.loading=!1}},extraReducers:e=>{e.addCase(ml.pending,t=>{t.loading=!0,t.error=null}).addCase(ml.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0}).addCase(ml.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(pl.pending,t=>{t.loading=!0,t.error=null}).addCase(pl.fulfilled,(t,r)=>{t.loading=!1,t.requiresOtp=!0,t.tempToken=r.payload.tempToken}).addCase(pl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(hl.pending,t=>{t.loading=!0,t.error=null}).addCase(hl.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0,t.requiresOtp=!1,t.tempToken=null}).addCase(hl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Pr.pending,t=>{t.loading=!0,t.error=null}).addCase(Pr.fulfilled,(t,r)=>{t.loading=!1,t.user=r.payload.user,t.token=r.payload.token,t.isAuthenticated=!0}).addCase(Pr.rejected,(t,r)=>{t.loading=!1,t.error=r.payload,t.user=null,t.token=null,t.isAuthenticated=!1,localStorage.removeItem("authToken"),localStorage.removeItem("user"),sc()})}}),{logout:_o,clearError:xv,updateProfile:hg,changePassword:mv}=Xf.actions,gg=Xf.reducer,yg=async()=>await re("/api/courses/"),Es=Pe("courses/fetchCourses",async(e,{rejectWithValue:t})=>{try{return await yg()}catch(r){return t(r.message)}}),vg={list:[],loading:!1,error:null},Jf=dr({name:"courses",initialState:vg,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(Es.pending,t=>{t.loading=!0,t.error=null}).addCase(Es.fulfilled,(t,r)=>{t.loading=!1,t.list=r.payload}).addCase(Es.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearError:pv}=Jf.actions,jg=Jf.reducer,bg=async()=>await re("/api/lessons/"),kg=async e=>await re(`/api/lessons/${e}`),wg=async e=>await re(`/api/lessons/grade/${e}`),Zf=async e=>await Te("/api/lessons/",e),qf=async(e,t)=>await Qn(`/api/lessons/${e}`,t),ex=async e=>await Vn(`/api/lessons/${e}`),_s=Pe("lessons/fetchLessonsByGrade",async(e,{rejectWithValue:t})=>{try{const r=await wg(e),s=(r==null?void 0:r.lessons)||r||[];return{gradeParam:e,lessons:s}}catch(r){return t(r.message)}}),Ps=Pe("lessons/fetchLessonById",async(e,{rejectWithValue:t})=>{try{return await kg(e)}catch(r){return t(r.message)}}),Ng={byGrade:{},currentLesson:null,loading:!1,error:null},tx=dr({name:"lessons",initialState:Ng,reducers:{clearCurrentLesson:e=>{e.currentLesson=null},clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(_s.pending,t=>{t.loading=!0,t.error=null}).addCase(_s.fulfilled,(t,r)=>{t.loading=!1,t.byGrade[r.payload.gradeParam]=r.payload.lessons}).addCase(_s.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ps.pending,t=>{t.loading=!0,t.error=null}).addCase(Ps.fulfilled,(t,r)=>{t.loading=!1,t.currentLesson=r.payload}).addCase(Ps.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearCurrentLesson:hv,clearError:gv}=tx.actions,Sg=tx.reducer,rx=async()=>await re("/api/schedule/"),Cg=async e=>await re(`/api/schedule/grade/${e}`),Eg=async e=>await Te("/api/schedule/",e),_g=async(e,t)=>await Qn(`/api/schedule/${e}`,t),Pg=async e=>await Vn(`/api/schedule/${e}`),Tg=async(e,t)=>{const r=new URLSearchParams;e&&r.append("month",e),t&&r.append("year",t);const s=r.toString();return await re(`/api/students/calendar${s?`?${s}`:""}`)},gl=Pe("schedule/fetchSchedule",async(e,{rejectWithValue:t})=>{try{return await rx()}catch(r){return t(r.message)}}),Ts=Pe("schedule/fetchScheduleByGrade",async(e,{rejectWithValue:t})=>{try{const r=await Cg(e),s=(r==null?void 0:r.schedules)||r||[];return{gradeParam:e,schedule:s}}catch(r){return t(r.message)}}),zg={list:[],byGrade:{},loading:!1,error:null},nx=dr({name:"schedule",initialState:zg,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(gl.pending,t=>{t.loading=!0,t.error=null}).addCase(gl.fulfilled,(t,r)=>{t.loading=!1,t.list=r.payload}).addCase(gl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(Ts.pending,t=>{t.loading=!0,t.error=null}).addCase(Ts.fulfilled,(t,r)=>{t.loading=!1,t.byGrade[r.payload.gradeParam]=r.payload.schedule}).addCase(Ts.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearError:yv}=nx.actions,Lg=nx.reducer,Rg=async e=>await re(`/api/tasks/${e}`),Og=async(e,t)=>await Te(`/api/tasks/${e}/submit`,t),Dg=async()=>await re("/api/tasks/results/my-results"),Mg=async()=>await re("/api/tasks/"),$g=async e=>await re(`/api/tasks/grade/${e}`),Ag=async e=>await Te("/api/tasks/",e),Ig=async(e,t)=>await Qn(`/api/tasks/${e}`,t),Fg=async e=>await Vn(`/api/tasks/${e}`),zs=Pe("tasks/fetchTasksByGrade",async(e,{rejectWithValue:t})=>{try{const r=await $g(e),s=(r==null?void 0:r.data)||r||[];return{gradeParam:e,tasks:s}}catch(r){return t(r.message)}}),Ug={byGrade:{},loading:!1,error:null},sx=dr({name:"tasks",initialState:Ug,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(zs.pending,t=>{t.loading=!0,t.error=null}).addCase(zs.fulfilled,(t,r)=>{t.loading=!1,t.byGrade[r.payload.gradeParam]=r.payload.tasks}).addCase(zs.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearError:vv}=sx.actions,Bg=sx.reducer,Qg=async()=>await re("/api/quizzes/"),Vg=async e=>await re(`/api/quizzes/grade/${e}`),Wg=async e=>await Te("/api/quizzes/",e),Gg=async(e,t)=>await Qn(`/api/quizzes/${e}`,t),Hg=async e=>await Vn(`/api/quizzes/${e}`),Kg=async e=>await re(`/api/quizzes/${e}/start`),Yg=async(e,t)=>await Te(`/api/quizzes/${e}/submit`,t),ax=async()=>await re("/api/quizzes/results/my-results"),Xg=async e=>await re(`/api/quizzes/results/${e}/details`),Ls=Pe("quizzes/fetchQuizzesByGrade",async(e,{rejectWithValue:t})=>{try{const r=await Vg(e),s=(r==null?void 0:r.data)||r||[];return{gradeParam:e,quizzes:s}}catch(r){return t(r.message)}}),Jg={byGrade:{},loading:!1,error:null},lx=dr({name:"quizzes",initialState:Jg,reducers:{clearError:e=>{e.error=null}},extraReducers:e=>{e.addCase(Ls.pending,t=>{t.loading=!0,t.error=null}).addCase(Ls.fulfilled,(t,r)=>{t.loading=!1,t.byGrade[r.payload.gradeParam]=r.payload.quizzes}).addCase(Ls.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearError:jv}=lx.actions,Zg=lx.reducer,yl=Pe("admin/createLesson",async(e,{rejectWithValue:t})=>{try{return await Zf(e)}catch(r){return t(r.message)}}),vl=Pe("admin/updateLesson",async({id:e,lessonData:t},{rejectWithValue:r})=>{try{return await qf(e,t)}catch(s){return r(s.message)}}),jl=Pe("admin/deleteLesson",async(e,{rejectWithValue:t})=>{try{const r=await ex(e);return{id:e,response:r}}catch(r){return t(r.message)}}),qg={loading:!1,error:null,lastAction:null,success:!1},ix=dr({name:"admin",initialState:qg,reducers:{clearError:e=>{e.error=null},clearSuccess:e=>{e.success=!1,e.lastAction=null}},extraReducers:e=>{e.addCase(yl.pending,t=>{t.loading=!0,t.error=null,t.success=!1}).addCase(yl.fulfilled,(t,r)=>{t.loading=!1,t.success=!0,t.lastAction="createLesson"}).addCase(yl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(vl.pending,t=>{t.loading=!0,t.error=null,t.success=!1}).addCase(vl.fulfilled,(t,r)=>{t.loading=!1,t.success=!0,t.lastAction="updateLesson"}).addCase(vl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload}).addCase(jl.pending,t=>{t.loading=!0,t.error=null,t.success=!1}).addCase(jl.fulfilled,(t,r)=>{t.loading=!1,t.success=!0,t.lastAction="deleteLesson"}).addCase(jl.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),{clearError:bv,clearSuccess:kv}=ix.actions,ey=ix.reducer,Xt=Ih({reducer:{auth:gg,courses:jg,lessons:Sg,schedule:Lg,tasks:Bg,quizzes:Zg,admin:ey}}),Ni=()=>{const[e,t]=k.useState(()=>localStorage.getItem("theme")||"light");k.useEffect(()=>{e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",e)},[e]);const r=()=>{t(s=>s==="light"?"dark":"light")};return n.jsx("button",{onClick:r,className:"p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-800 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-200 text-lg",title:e==="light"?"تبديل إلى الوضع المظلم":"تبديل إلى الوضع الفاتح",children:e==="light"?"🌓":"☀️"})},ty=()=>{const[e,t]=k.useState(!1),{isAuthenticated:r,user:s}=Ne(o=>o.auth),a=Br(),l=ht(),i=()=>{a(_o()),l("/"),t(!1)};return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-gradient-to-r from-[#101010] via-[#39ff14]/10 to-[#222] dark:from-[#101010] dark:via-[#39ff14]/20 dark:to-[#101010] backdrop-blur-xl border-b border-[#39ff14]/40 dark:border-[#39ff14] shadow-2xl",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex justify-between items-center h-20",children:[n.jsxs(D,{to:"/",className:"flex items-center space-x-3 space-x-reverse font-bold text-2xl text-[#222] dark:text-[#39ff14] drop-shadow-glow group",children:[n.jsx("img",{src:"/chemistry.png",alt:"شعار الكيمياء",className:"h-14 w-14 rounded-2xl object-cover shadow-[0_0_30px_#39ff14] border-4 border-[#39ff14]/40 dark:border-[#39ff14]"}),n.jsx("span",{className:"tracking-widest group-hover:text-[#222] dark:group-hover:text-white transition-colors duration-300",children:"كيمياء أيمن كمال"})]}),n.jsxs("nav",{className:"hidden md:flex items-center space-x-8 space-x-reverse bg-white/60 dark:bg-[#101010]/60 rounded-2xl px-6 py-2 shadow-lg border border-[#39ff14]/20 dark:border-[#39ff14]/40 backdrop-blur-md",children:[n.jsxs(D,{to:"/",className:"flex items-center gap-2 text-black dark:text-[#39ff14] hover:text-[#39ff14] dark:hover:text-white font-bold transition-all duration-300 hover:drop-shadow-[0_0_10px_#39ff14]",children:[n.jsx("span",{children:"🏠"}),n.jsx("span",{children:"الرئيسية"})]}),n.jsxs(D,{to:"/grades",className:"flex items-center gap-2 text-black dark:text-[#39ff14] hover:text-[#39ff14] dark:hover:text-white font-bold transition-all duration-300 hover:drop-shadow-[0_0_10px_#39ff14]",children:[n.jsx("span",{children:"📚"}),n.jsx("span",{children:"الصفوف الدراسية"})]}),r?n.jsxs(n.Fragment,{children:[n.jsx(D,{to:"/profile",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200 dark:text-gray-300 dark:hover:text-primary-400",children:"الملف الشخصي"}),n.jsx(D,{to:"/settings",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200 dark:text-gray-300 dark:hover:text-primary-400",children:"الإعدادات"}),(s==null?void 0:s.role)==="admin"&&n.jsx(D,{to:"/admin",className:"text-gray-700 hover:text-primary-600 font-medium transition-colors duration-200 dark:text-gray-300 dark:hover:text-primary-400",children:"لوحة الإدارة"}),n.jsx("button",{onClick:i,className:"text-error-600 hover:text-error-700 font-medium transition-colors duration-200",children:"تسجيل الخروج"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(D,{to:"/login",className:"flex items-center gap-2 text-black dark:text-[#39ff14] hover:text-[#39ff14] dark:hover:text-white font-bold transition-all duration-300 hover:drop-shadow-[0_0_10px_#39ff14]",children:[n.jsx("span",{children:"🔑"}),n.jsx("span",{children:"تسجيل الدخول"})]}),n.jsxs(D,{to:"/register",className:"flex items-center gap-2 bg-gradient-to-r from-[#39ff14] to-[#2ecc40] text-black dark:text-[#101010] px-5 py-2 rounded-xl font-bold shadow-lg border-2 border-[#39ff14]/40 dark:border-[#39ff14] hover:scale-105 hover:shadow-[0_0_20px_#39ff14] transition-all duration-300",children:[n.jsx("span",{children:"📝"}),n.jsx("span",{children:"التسجيل"})]})]}),n.jsx("span",{className:"mx-2",children:n.jsx(Ni,{})})]}),n.jsxs("button",{className:"md:hidden flex flex-col justify-center items-center w-8 h-8 space-y-1 relative z-10",onClick:()=>t(!e),"aria-label":"قائمة التنقل",children:[n.jsx("span",{className:`w-6 h-0.5 bg-gray-700 dark:bg-gray-300 transition-all duration-300 ${e?"rotate-45 translate-y-1.5":""}`}),n.jsx("span",{className:`w-6 h-0.5 bg-gray-700 dark:bg-gray-300 transition-all duration-300 ${e?"opacity-0":""}`}),n.jsx("span",{className:`w-6 h-0.5 bg-gray-700 dark:bg-gray-300 transition-all duration-300 ${e?"-rotate-45 -translate-y-1.5":""}`})]})]}),n.jsx("div",{className:`md:hidden transition-all duration-300 ease-in-out ${e?"max-h-96 opacity-100":"max-h-0 opacity-0"} overflow-hidden bg-white border-t border-gray-200 dark:bg-gray-900 dark:border-gray-700`,children:n.jsxs("div",{className:"px-4 py-2 space-y-1",children:[n.jsx(D,{to:"/",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"الرئيسية"}),n.jsx(D,{to:"/grades",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"الصفوف الدراسية"}),r?n.jsxs(n.Fragment,{children:[n.jsx(D,{to:"/profile",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"الملف الشخصي"}),(s==null?void 0:s.role)==="student"&&n.jsx(D,{to:"/quiz-results",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"نتائج الكويزات"}),n.jsx(D,{to:"/settings",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"الإعدادات"}),(s==null?void 0:s.role)==="admin"&&n.jsx(D,{to:"/admin",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"لوحة الإدارة"}),n.jsx("button",{onClick:i,className:"block w-full text-right px-3 py-2 text-error-600 hover:text-error-700 hover:bg-gray-50 rounded-md dark:hover:bg-gray-800",children:"تسجيل الخروج"})]}):n.jsxs(n.Fragment,{children:[n.jsx(D,{to:"/login",onClick:()=>t(!1),className:"block px-3 py-2 text-gray-700 hover:text-primary-600 hover:bg-gray-50 rounded-md dark:text-gray-300 dark:hover:text-primary-400 dark:hover:bg-gray-800",children:"تسجيل الدخول"}),n.jsx(D,{to:"/register",onClick:()=>t(!1),className:"block px-3 py-2 bg-primary-600 text-white hover:bg-primary-700 rounded-md mx-3 my-2 text-center",children:"التسجيل"})]}),n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"تبديل الوضع"}),n.jsx(Ni,{})]})]})})]})})},ry=()=>n.jsx("footer",{className:"bg-[#1010] text-[#39ff14] py-12 dark:bg-[#000]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("div",{className:"flex items-center space-x-3 space-x-reverse mb-4",children:n.jsx("h3",{className:"text-2xl font-bold",children:"منصة للكيمياء"})}),n.jsx("p",{className:"mb-4 leading-relaxed text-black dark:text-white",children:"منصة تعليمية متخصصة في تدريس مادة الكيمياء للمرحلة الثانوية مع الأستاذ أيمن كمال. نقدم تعليماً عالي الجودة بأسلوب مبتكر وممتع."}),n.jsx("div",{className:"flex space-x-4 space-x-reverse"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-4",children:"🔗 الروابط السريعة"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsxs(D,{to:"/grades",className:"text-black dark:text-[#39ff14] hover:text-white transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"📚"}),n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"الصفوف الدراسية"})]})}),n.jsx("li",{children:n.jsxs(D,{to:"/profile",className:"text-black dark:text-[#39ff14] hover:text-white transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"👤"}),n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"الملف الشخصي"})]})}),n.jsx("li",{children:n.jsxs(D,{to:"/settings",className:"text-black dark:text-[#39ff14] hover:text-white transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"⚙️"}),n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"الإعدادات"})]})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold mb-4 text-black dark:text-[#39ff14]",children:"📞 تواصل معنا"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"flex items-center space-x-3 space-x-reverse text-gray-300",children:n.jsx("span",{className:"text-lg"})}),n.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse text-black dark:text-[#39ff14]",children:[n.jsx("span",{className:"text-lg text-black dark:text-[#39ff14]",children:"📞"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-black dark:text-[#39ff14]",children:"الهاتف"}),n.jsx("div",{className:"text-black dark:text-[#39ff14]",children:"01092731005"})]})]}),n.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse text-black dark:text-[#39ff14]",children:[n.jsx("span",{className:"text-lg text-black dark:text-[#39ff14]",children:"📍"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-black dark:text-[#39ff14]",children:"العنوان"}),n.jsx("div",{className:"text-black dark:text-[#39ff14]",children:"قنا مركز نقاده"})]})]})]})]})]}),n.jsxs("div",{className:"border-t border-gray-800 pt-8 mt-8",children:[n.jsx("div",{className:"flex flex-col md:flex-row justify-between items-center",children:n.jsx("p",{className:"text-black dark:text-[#39ff14] text-center md:text-right",children:"© 2025 منصة البداية للكيمياء. جميع الحقوق محفوظة."})}),n.jsxs("div",{className:"mt-6 text-center text-black dark:text-[#39ff14] text-sm",children:["تم إنشاء المنصة بواسطة:",n.jsx("a",{href:"https://www.linkedin.com/in/mohamed-saad-b33767320/",target:"_blank",rel:"noopener noreferrer",className:"mx-1 text-[#39ff14] hover:text-[#2ecc40] underline",children:"محمد سعد"})]})]})]})}),ny=()=>{const[e,t]=k.useState(0),[r,s]=k.useState(""),[a,l]=k.useState(!0),[i,o]=k.useState(0),d=["🚀 منصة البداية","تعلم الكيمياء مع الأستاذ أيمن كمال - خبرة في تدريس المرحلة الثانوية"];return k.useEffect(()=>{const c=d[e];if(a)if(i<c.length){const u=setTimeout(()=>{s(c.substring(0,i+1)),o(i+1)},100);return()=>clearTimeout(u)}else{const u=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(u)}else if(i>0){const u=setTimeout(()=>{s(c.substring(0,i-1)),o(i-1)},50);return()=>clearTimeout(u)}else t(u=>(u+1)%d.length),l(!0),o(0)},[i,a,e,d]),n.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 z-0 bg-white dark:bg-[#101010]",style:{backgroundImage:'url("/chemistry.png")',backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:n.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-[#101010]/90"})}),n.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto px-4",children:[n.jsx("div",{className:"text-4xl md:text-6xl font-bold mb-8 leading-tight animate-fade-in min-h-[200px] flex items-center justify-center",children:n.jsxs("h1",{className:"text-center relative text-[#222] dark:text-[#39ff14]",children:[r,n.jsx("span",{className:"typing-cursor text-[#39ff14]",children:"|"})]})}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center animate-slide-up",children:[n.jsx(D,{to:"/register",className:"bg-[#39ff14] text-[#101010] px-8 py-4 rounded-xl font-semibold text-lg hover:bg-[#2ecc40] transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:"🚀 سجل الآن"}),n.jsx(D,{to:"/grades",className:"bg-white dark:bg-[#222]/40 text-black dark:text-[#39ff14] border-2 border-[#39ff14]/30 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-[#39ff14]/10 dark:hover:bg-[#39ff14]/30 transform hover:scale-105 transition-all duration-300",children:n.jsx("span",{className:"text-black dark:text-[#39ff14]",children:"📚 عرض الصفوف الدراسية"})})]})]})]})},sy=()=>{const e=()=>{const t=document.getElementById("courses");t&&t.scrollIntoView({behavior:"smooth"})};return n.jsx("section",{className:"py-20 bg-[#f8fafc] dark:bg-[#101010]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#222] dark:text-[#39ff14] mb-4",children:"🧑‍🔬 تعريف معلم الكيمياء"}),n.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[#39ff14] to-[#2ecc40] mx-auto rounded-full"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{className:"space-y-6 animate-slide-up",children:[n.jsx("p",{className:"text-lg text-[#444] dark:text-[#39ff14] leading-relaxed",children:"الأستاذ أيمن كمال هو مدرس مادة الكيمياء المتخصص، يشرح لطلاب الصف الأول والثاني والثالث الثانوي بأسلوب واضح وممتع يساعد على الفهم السهل والتفوق في الكيمياء."}),n.jsxs("div",{className:"flex flex-wrap gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-primary-600 dark:text-primary-400",children:[n.jsx("span",{className:"text-2xl",children:"🧠"}),n.jsx("span",{className:"font-medium",children:"خبرة في التدريس"})]}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-secondary-600 dark:text-secondary-400",children:[n.jsx("span",{className:"text-2xl",children:"�"}),n.jsx("span",{className:"font-medium",children:"نتائج متميزة"})]}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-success-600 dark:text-success-400",children:[n.jsx("span",{className:"text-2xl",children:"⚡"}),n.jsx("span",{className:"font-medium",children:"أسلوب مبتكر"})]})]}),n.jsx("button",{onClick:e,className:"bg-gradient-to-r from-[#39ff14] to-[#2ecc40] text-[#101010] px-8 py-3 rounded-xl font-semibold hover:from-[#2ecc40] hover:to-[#39ff14] transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl",children:"🧪 تعرف أكثر عن الكيمياء"})]}),n.jsx("div",{className:"flex items-center justify-end animate-slide-down pr-8 lg:pr-16",children:n.jsx("img",{src:"/chemistry.png",alt:"صورة الكيمياء",className:"w-[420px] h-[420px] object-cover object-center rounded-full shadow-lg border-4 border-[#39ff14]/40 dark:border-[#39ff14] transition-all duration-500 hover:scale-105",style:{background:"rgba(255,255,255,0.85)"}})})]})]})})},La={"الصف الأول الثانوي":"1st-secondary","الصف الثاني الثانوي":"2nd-secondary","الصف الثالث الثانوي":"3rd-secondary"},ay={"الصف الأول الثانوي":"1st-secondary","الصف الثاني الثانوي":"2nd-secondary","الصف الثالث الثانوي":"3rd-secondary"},ly={"الصف الأول الثانوي":"first-secondary","الصف الثاني الثانوي":"second-secondary","الصف الثالث الثانوي":"third-secondary"},iy={"الصف الأول الثانوي":"1st-secondary","الصف الثاني الثانوي":"2nd-secondary","الصف الثالث الثانوي":"3rd-secondary"},oy=Object.fromEntries(Object.entries(La).map(([e,t])=>[t,e])),dy=e=>(e==null?void 0:e.role)==="admin",cy=e=>(e==null?void 0:e.role)==="instructor",uy=e=>dy(e)||cy(e),ox=({grade:e,description:t,lessonCount:r=0})=>{const s=La[e],a=l=>"/chemistry.png";return n.jsx("div",{className:"group [perspective:1200px]",children:n.jsxs("div",{className:"relative h-80 w-full rounded-2xl shadow-lg border border-[#ccc] dark:border-[#39ff14] transition-all duration-500 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)]",children:[n.jsx("div",{className:"absolute inset-0 bg-[#fff] dark:bg-[#222] rounded-2xl overflow-hidden [backface-visibility:hidden] flex flex-col",children:n.jsxs("div",{className:"relative h-full overflow-hidden",children:[n.jsx("img",{src:a(),alt:e,className:"absolute inset-0 w-full h-full object-cover object-center transition-transform duration-300 z-0",style:{borderRadius:"1rem"}}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#101010]/60 to-transparent"}),n.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[n.jsx("h3",{className:"text-xl font-bold text-[#39ff14] mb-1",children:e}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-[#39ff14]/80",children:[n.jsx("span",{className:"text-lg",children:"🧪"}),n.jsx("span",{className:"text-sm",children:"كيمياء - مرحلة ثانوية"})]})]}),n.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center",children:n.jsx("div",{className:"w-[90%]",children:n.jsxs(D,{to:`/grades/${s}`,className:"w-full bg-gradient-to-r from-[#39ff14] to-[#2ecc40] text-black py-2 px-4 rounded-xl font-semibold hover:from-[#2ecc40] hover:to-[#39ff14] transform hover:scale-105 transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center space-x-2 space-x-reverse text-sm",children:[n.jsx("span",{children:"�"}),n.jsx("span",{children:"دخول للصف"})]})})})]})}),n.jsxs("div",{className:"absolute inset-0 bg-[#101010] rounded-2xl overflow-y-auto [backface-visibility:hidden] [transform:rotateY(180deg)] flex flex-col justify-center items-center p-6",children:[n.jsx("p",{className:"text-[#39ff14] mb-4 leading-relaxed text-center font-bold text-lg",children:t||`دروس شاملة في مادة الكيمياء ${e} مع شرح مفصل وأمثلة تطبيقية وتطبيقات عملية في الكيمياء الحديثة.`}),n.jsx("div",{className:"w-full mt-2 flex justify-center absolute bottom-2 left-0 right-0",children:n.jsx("div",{className:"w-[90%]",children:n.jsxs(D,{to:`/grades/${s}`,className:"w-full bg-gradient-to-r from-[#39ff14] to-[#2ecc40] text-[#101010] py-2 px-4 rounded-xl font-semibold hover:from-[#2ecc40] hover:to-[#39ff14] transform hover:scale-105 transition-all duration-300 shadow-md hover:shadow-lg flex items-center justify-center space-x-2 space-x-reverse text-sm",children:[n.jsx("span",{children:"📚"}),n.jsx("span",{children:"دخول للصف"})]})})})]})]})})},fy=()=>{const e=Br(),{list:t,loading:r}=Ne(a=>a.courses);k.useEffect(()=>{e(Es())},[e]);const s=["الصف الأول الثانوي","الصف الثاني الثانوي","الصف الثالث الثانوي"];return n.jsxs("div",{className:"home bg-[#f8fafc] dark:bg-[#101010]",children:[n.jsx(ny,{}),n.jsx(sy,{}),n.jsx("section",{id:"courses",className:"py-20 bg-[#fff] dark:bg-[#222]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#222] dark:text-[#39ff14] mb-4",children:"🧪 الصفوف الدراسية للكيمياء"}),n.jsx("p",{className:"text-lg text-[#444] dark:text-[#39ff14] max-w-2xl mx-auto",children:"اختر صفك الدراسي وابدأ رحلة التعلم مع دروس الكيمياء التفاعلية"}),n.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[#39ff14] to-[#2ecc40] mx-auto rounded-full mt-4"})]}),r?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#39ff14]"}),n.jsx("span",{className:"mr-3 text-[#444] dark:text-[#39ff14]",children:"جاري التحميل..."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(a=>{const l=t.find(i=>i.grade===a);return n.jsx(ox,{grade:a,description:l==null?void 0:l.description,lessonCount:(l==null?void 0:l.lessonCount)||0},a)})})]})})]})},xy=()=>{const[e,t]=k.useState({email:"",password:""}),[r,s]=k.useState(!1),[a,l]=k.useState(null),i=d=>{const{name:c,value:u}=d.target;t(x=>({...x,[c]:u}))},o=d=>{d.preventDefault(),s(!0),setTimeout(()=>{s(!1),l(null),alert("تم تسجيل الدخول (وهمي)!")},1e3)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center relative bg-white dark:bg-[#101010] transition-colors duration-500",children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 1440 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"200",cy:"200",r:"60",fill:"#39ff14",fillOpacity:"0.15",children:n.jsx("animate",{attributeName:"r",values:"60;80;60",dur:"3s",repeatCount:"indefinite"})}),n.jsx("circle",{cx:"1200",cy:"600",r:"40",fill:"#39ff14",fillOpacity:"0.12",children:n.jsx("animate",{attributeName:"r",values:"40;60;40",dur:"2.5s",repeatCount:"indefinite"})}),n.jsx("circle",{cx:"700",cy:"400",r:"30",fill:"#39ff14",fillOpacity:"0.10",children:n.jsx("animate",{attributeName:"r",values:"30;50;30",dur:"2s",repeatCount:"indefinite"})})]})}),n.jsx("div",{className:"max-w-md w-full space-y-8 relative z-10",children:n.jsxs("div",{className:"bg-white dark:bg-[#181818] rounded-2xl shadow-2xl p-8 border border-[#39ff14] dark:border-[#39ff14]",children:[n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsx("div",{className:"animate-spin-slow mb-2",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"24",cy:"24",r:"22",stroke:"#39ff14",strokeWidth:"4"}),n.jsx("circle",{cx:"24",cy:"24",r:"8",fill:"#39ff14",fillOpacity:"0.7"}),n.jsx("circle",{cx:"36",cy:"12",r:"4",fill:"#39ff14",fillOpacity:"0.5"}),n.jsx("circle",{cx:"12",cy:"36",r:"3",fill:"#39ff14",fillOpacity:"0.4"})]})}),n.jsx("h1",{className:"text-3xl font-bold text-[#222] dark:text-[#39ff14]",children:"تسجيل الدخول"}),n.jsx("p",{className:"mt-2 text-[#444] dark:text-[#39ff14]",children:"مرحباً بك في منصة الكيمياء الحديثة"})]}),a&&n.jsx("div",{className:"bg-red-100 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-800 dark:text-red-300 px-4 py-3 rounded-lg mb-4",children:a}),n.jsxs("form",{onSubmit:o,className:"space-y-6",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"البريد الإلكتروني"}),n.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:i,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أدخل بريدك الإلكتروني"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"كلمة المرور"}),n.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:i,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أدخل كلمة المرور"})]}),n.jsx("button",{type:"submit",className:"w-full bg-[#39ff14] text-[#101010] py-3 px-4 rounded-lg font-bold hover:bg-[#222] hover:text-[#39ff14] focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r,children:r?"جاري تسجيل الدخول...":"تسجيل الدخول"})]}),n.jsxs("div",{className:"text-center mt-6 space-y-2",children:[n.jsxs("p",{className:"text-sm text-[#222] dark:text-[#39ff14]",children:["ليس لديك حساب؟ ",n.jsx(D,{to:"/register",className:"text-[#39ff14] hover:text-[#222] dark:text-[#39ff14] font-medium",children:"سجل الآن"})]}),n.jsx("p",{className:"text-sm text-[#222] dark:text-[#39ff14]",children:n.jsx(D,{to:"/forgot-password",className:"text-[#39ff14] hover:text-[#222] dark:text-[#39ff14] font-medium",children:"نسيت كلمة المرور؟"})})]})]})})]})},my=()=>{const[e,t]=k.useState({name:"",email:"",password:"",confirmPassword:"",grade:"",phone:"",location:""}),[r,s]=k.useState(!1),a=i=>{const{name:o,value:d}=i.target;t(c=>({...c,[o]:d}))},l=i=>{i.preventDefault(),s(!0),setTimeout(()=>{s(!1),alert("تم التسجيل بنجاح!")},1e3)};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center relative bg-white dark:bg-[#101010] transition-colors duration-500",children:[n.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:n.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 1440 800",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"200",cy:"200",r:"60",fill:"#39ff14",fillOpacity:"0.15",children:n.jsx("animate",{attributeName:"r",values:"60;80;60",dur:"3s",repeatCount:"indefinite"})}),n.jsx("circle",{cx:"1200",cy:"600",r:"40",fill:"#39ff14",fillOpacity:"0.12",children:n.jsx("animate",{attributeName:"r",values:"40;60;40",dur:"2.5s",repeatCount:"indefinite"})}),n.jsx("circle",{cx:"700",cy:"400",r:"30",fill:"#39ff14",fillOpacity:"0.10",children:n.jsx("animate",{attributeName:"r",values:"30;50;30",dur:"2s",repeatCount:"indefinite"})})]})}),n.jsx("div",{className:"max-w-md w-full space-y-8 relative z-10",children:n.jsxs("div",{className:"bg-white dark:bg-[#181818] rounded-2xl shadow-2xl p-8 border border-[#39ff14] dark:border-[#39ff14]",children:[n.jsxs("div",{className:"flex flex-col items-center mb-8",children:[n.jsx("div",{className:"animate-spin-slow mb-2",children:n.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("circle",{cx:"24",cy:"24",r:"22",stroke:"#39ff14",strokeWidth:"4"}),n.jsx("circle",{cx:"24",cy:"24",r:"8",fill:"#39ff14",fillOpacity:"0.7"}),n.jsx("circle",{cx:"36",cy:"12",r:"4",fill:"#39ff14",fillOpacity:"0.5"}),n.jsx("circle",{cx:"12",cy:"36",r:"3",fill:"#39ff14",fillOpacity:"0.4"})]})}),n.jsx("h1",{className:"text-3xl font-bold text-[#222] dark:text-[#39ff14]",children:"إنشاء حساب جديد"}),n.jsx("p",{className:"mt-2 text-[#444] dark:text-[#39ff14]",children:"انضم إلى منصة الكيمياء الحديثة"})]}),n.jsxs("form",{onSubmit:l,className:"space-y-6",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"الاسم الرباعي"}),n.jsx("input",{id:"name",name:"name",type:"text",value:e.name,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أدخل الاسم الرباعي كاملاً"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"البريد الإلكتروني"}),n.jsx("input",{id:"email",name:"email",type:"email",value:e.email,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أدخل البريد الإلكتروني"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"رقم الهاتف"}),n.jsx("input",{id:"phone",name:"phone",type:"tel",value:e.phone,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أدخل رقم الهاتف"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"المركز"}),n.jsxs("select",{id:"location",name:"location",value:e.location,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",children:[n.jsx("option",{value:"",children:"اختر المركز"}),n.jsx("option",{value:"العسيرات",children:"العسيرات"}),n.jsx("option",{value:"المنشاة",children:"المنشاة"}),n.jsx("option",{value:"الأجايوة",children:"الأجايوة"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"الصف الدراسي"}),n.jsxs("select",{id:"grade",name:"grade",value:e.grade,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",children:[n.jsx("option",{value:"",children:"اختر الصف الدراسي"}),n.jsx("option",{value:"الصف الأول الثانوي",children:"الصف الأول الثانوي"}),n.jsx("option",{value:"الصف الثاني الثانوي",children:"الصف الثاني الثانوي"}),n.jsx("option",{value:"الصف الثالث الثانوي",children:"الصف الثالث الثانوي"})]})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"كلمة المرور"}),n.jsx("input",{id:"password",name:"password",type:"password",value:e.password,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أدخل كلمة المرور"})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-[#222] dark:text-[#39ff14] mb-2",children:"تأكيد كلمة المرور"}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:e.confirmPassword,onChange:a,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:border-transparent transition-colors duration-200 border-gray-300 dark:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] text-[#222]",placeholder:"أعد إدخال كلمة المرور"})]}),n.jsx("button",{type:"submit",className:"w-full bg-[#39ff14] text-[#101010] py-3 px-4 rounded-lg font-bold hover:bg-[#222] hover:text-[#39ff14] focus:outline-none focus:ring-2 focus:ring-[#39ff14] focus:ring-offset-2 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:r?"جاري إنشاء الحساب...":"إنشاء الحساب"})]}),n.jsx("div",{className:"text-center mt-6 space-y-2",children:n.jsxs("p",{className:"text-sm text-[#222] dark:text-[#39ff14]",children:["لديك حساب بالفعل؟ ",n.jsx(D,{to:"/login",className:"text-[#39ff14] hover:text-[#222] dark:text-[#39ff14] font-medium",children:"تسجيل الدخول"})]})})]})})]})},dx=()=>{const e=["∫","∑","∏","√","∞","π","α","β","γ","δ","θ","λ","μ","σ","φ","ψ","ω","≈","≠","≤","≥","±","×","÷","∂","∇","∴","∵","∈","∉","⊂","⊃","∪","∩","sin","cos","tan","log","ln","exp","lim","dx","dy","f(x)","g(x)","h(x)","1","2","3","4","5","6","7","8","9","0","+","-","=","(",")","[","]","x²","x³","x⁴","y²","z²","a²","b²","c²","n!","Σx","∆x","∆y"],r=(()=>{const s=[];for(let a=0;a<80;a++){const l=e[Math.floor(Math.random()*e.length)],i=Math.random()*100,o=Math.random()*100,d=Math.random()*20+12,c=Math.random()*.3+.1,u=Math.random()*360,x=Math.random()*10;s.push({id:a,symbol:l,x:i,y:o,size:d,opacity:c,rotation:u,delay:x})}return s})();return n.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-gray-900 dark:via-blue-900 dark:to-indigo-900"}),n.jsx("div",{className:"absolute inset-0 opacity-10 dark:opacity-5",children:n.jsxs("svg",{width:"100%",height:"100%",className:"w-full h-full",children:[n.jsx("defs",{children:n.jsx("pattern",{id:"grid",width:"40",height:"40",patternUnits:"userSpaceOnUse",children:n.jsx("path",{d:"M 40 0 L 0 0 0 40",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})})}),n.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),r.map(s=>n.jsx("div",{className:"absolute animate-float text-blue-400 dark:text-blue-300 select-none font-mono font-bold",style:{left:`${s.x}%`,top:`${s.y}%`,fontSize:`${s.size}px`,opacity:s.opacity,transform:`rotate(${s.rotation}deg)`,animationDelay:`${s.delay}s`,animationDuration:`${15+Math.random()*10}s`},children:s.symbol},s.id)),n.jsx("div",{className:"absolute top-10 left-10 text-6xl font-bold text-blue-200 dark:text-blue-800 opacity-20 transform rotate-12",children:"∫₀^∞ e^(-x²) dx = √π/2"}),n.jsx("div",{className:"absolute bottom-20 right-10 text-5xl font-bold text-purple-200 dark:text-purple-800 opacity-20 transform -rotate-12",children:"E = mc²"}),n.jsx("div",{className:"absolute top-1/2 left-1/4 text-4xl font-bold text-green-200 dark:text-green-800 opacity-20 transform rotate-45",children:"a² + b² = c²"}),n.jsx("div",{className:"absolute bottom-1/3 left-1/2 text-3xl font-bold text-indigo-200 dark:text-indigo-800 opacity-20 transform -rotate-30",children:"lim(x→∞) f(x) = L"}),n.jsx("div",{className:"absolute top-20 right-20 w-32 h-32 border-2 border-blue-200 dark:border-blue-700 rounded-full opacity-30 animate-spin-slow"}),n.jsx("div",{className:"absolute bottom-32 left-32 w-24 h-24 border-2 border-purple-200 dark:border-purple-700 rounded-full opacity-30 animate-bounce-gentle"}),n.jsx("div",{className:"absolute top-1/3 right-1/3 w-20 h-20 border-2 border-green-200 dark:border-green-700 rounded-full opacity-30 animate-pulse"})]})},py=()=>{const[e,t]=k.useState(""),[r,s]=k.useState(!1),[a,l]=k.useState(""),[i,o]=k.useState(""),d=async c=>{if(c.preventDefault(),!e.trim()){o("البريد الإلكتروني مطلوب");return}if(!/\S+@\S+\.\S+/.test(e)){o("البريد الإلكتروني غير صحيح");return}s(!0),o(""),l("");try{const u=await ug(e);l(u.message||"تم إرسال رابط إعادة تعيين كلمة المرور إلى بريدك الإلكتروني")}catch(u){console.error("Forgot password error:",u),o(u.message||"حدث خطأ أثناء إرسال رابط إعادة التعيين")}finally{s(!1)}};return n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 relative overflow-hidden",children:[n.jsx(dx,{}),n.jsx("div",{className:"max-w-md w-full space-y-8 relative z-10",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 backdrop-blur-sm bg-white/95 dark:bg-gray-800/95",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-2xl text-white",children:"🔒"})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"نسيت كلمة المرور؟"}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"أدخل بريدك الإلكتروني وسنرسل لك رابط إعادة تعيين كلمة المرور"})]}),a&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg mb-6 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg ml-2",children:"✅"}),n.jsx("span",{children:a})]})}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg mb-6 dark:bg-red-900/20 dark:border-red-700 dark:text-red-400",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg ml-2",children:"❌"}),n.jsx("span",{children:i})]})}),n.jsxs("form",{onSubmit:d,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"البريد الإلكتروني"}),n.jsx("input",{id:"email",name:"email",type:"email",value:e,onChange:c=>t(c.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white",placeholder:"أدخل بريدك الإلكتروني",disabled:r})]}),n.jsx("button",{type:"submit",disabled:r,className:"w-full bg-gradient-to-r from-primary-600 to-secondary-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-primary-700 hover:to-secondary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:r?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-3"}),"جاري الإرسال..."]}):"إرسال رابط إعادة التعيين"})]}),n.jsxs("div",{className:"mt-6 text-center space-y-3",children:[n.jsx(D,{to:"/login",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-200",children:"← العودة لتسجيل الدخول"}),n.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:["ليس لديك حساب؟"," ",n.jsx(D,{to:"/register",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-semibold transition-colors duration-200",children:"إنشاء حساب جديد"})]})]})]})})]})},hy=()=>{const[e,t]=k.useState(""),[r,s]=k.useState(""),[a,l]=k.useState(!1),[i,o]=k.useState(""),[d,c]=k.useState(""),[u,x]=k.useState(!1),[p,y]=k.useState(!1),b=ht(),[w]=Qp(),C=w.get("token");k.useEffect(()=>{C||c("رمز إعادة التعيين غير صحيح أو مفقود")},[C]);const f=h=>{const j=h.length>=8,v=/[A-Z]/.test(h),N=/[a-z]/.test(h),E=/\d/.test(h),S=/[!@#$%^&*(),.?":{}|<>]/.test(h);return{isValid:j&&v&&N&&E&&S,errors:{minLength:j,hasUpper:v,hasLower:N,hasNumber:E,hasSpecial:S}}},m=async h=>{if(h.preventDefault(),!C){c("رمز إعادة التعيين غير صحيح");return}if(!e.trim()){c("كلمة المرور مطلوبة");return}if(!f(e).isValid){c("كلمة المرور لا تلبي المتطلبات المطلوبة");return}if(e!==r){c("كلمات المرور غير متطابقة");return}l(!0),c(""),o("");try{const v=await fg(C,e);o(v.message||"تم تغيير كلمة المرور بنجاح"),setTimeout(()=>{b("/login")},3e3)}catch(v){console.error("Reset password error:",v),c(v.message||"حدث خطأ أثناء إعادة تعيين كلمة المرور")}finally{l(!1)}},g=f(e);return C?n.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 relative overflow-hidden",children:[n.jsx(dx,{}),n.jsx("div",{className:"max-w-md w-full space-y-8 relative z-10",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 backdrop-blur-sm bg-white/95 dark:bg-gray-800/95",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-2xl text-white",children:"🔑"})})}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"إعادة تعيين كلمة المرور"}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"أدخل كلمة المرور الجديدة"})]}),i&&n.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg mb-6 dark:bg-green-900/20 dark:border-green-700 dark:text-green-400",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg ml-2",children:"✅"}),n.jsxs("div",{children:[n.jsx("div",{children:i}),n.jsx("div",{className:"text-sm mt-1",children:"سيتم توجيهك لصفحة تسجيل الدخول..."})]})]})}),d&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-lg mb-6 dark:bg-red-900/20 dark:border-red-700 dark:text-red-400",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-lg ml-2",children:"❌"}),n.jsx("span",{children:d})]})}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"كلمة المرور الجديدة"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"password",name:"password",type:u?"text":"password",value:e,onChange:h=>t(h.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white",placeholder:"أدخل كلمة المرور الجديدة",disabled:a}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!u),children:n.jsx("span",{className:"text-gray-400 hover:text-gray-600",children:u?"👁️‍🗨️":"👁️"})})]}),e&&n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsx("div",{className:"flex text-xs space-x-2",children:n.jsxs("span",{className:`px-1 ${g.errors.minLength?"text-green-600":"text-red-600"}`,children:[g.errors.minLength?"✅":"❌"," 8 أحرف على الأقل"]})}),n.jsxs("div",{className:"flex text-xs space-x-2",children:[n.jsxs("span",{className:`px-1 ${g.errors.hasUpper?"text-green-600":"text-red-600"}`,children:[g.errors.hasUpper?"✅":"❌"," حرف كبير"]}),n.jsxs("span",{className:`px-1 ${g.errors.hasLower?"text-green-600":"text-red-600"}`,children:[g.errors.hasLower?"✅":"❌"," حرف صغير"]})]}),n.jsxs("div",{className:"flex text-xs space-x-2",children:[n.jsxs("span",{className:`px-1 ${g.errors.hasNumber?"text-green-600":"text-red-600"}`,children:[g.errors.hasNumber?"✅":"❌"," رقم"]}),n.jsxs("span",{className:`px-1 ${g.errors.hasSpecial?"text-green-600":"text-red-600"}`,children:[g.errors.hasSpecial?"✅":"❌"," رمز خاص"]})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تأكيد كلمة المرور"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:p?"text":"password",value:r,onChange:h=>s(h.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white",placeholder:"أعد إدخال كلمة المرور",disabled:a}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>y(!p),children:n.jsx("span",{className:"text-gray-400 hover:text-gray-600",children:p?"👁️‍🗨️":"👁️"})})]}),r&&n.jsx("div",{className:"mt-1 text-xs",children:n.jsx("span",{className:`${e===r?"text-green-600":"text-red-600"}`,children:e===r?"✅ كلمات المرور متطابقة":"❌ كلمات المرور غير متطابقة"})})]}),n.jsx("button",{type:"submit",disabled:a||!g.isValid||e!==r,className:"w-full bg-gradient-to-r from-primary-600 to-secondary-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-primary-700 hover:to-secondary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105",children:a?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white ml-3"}),"جاري التحديث..."]}):"تحديث كلمة المرور"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx(D,{to:"/login",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 font-medium transition-colors duration-200",children:"← العودة لتسجيل الدخول"})})]})})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsx("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-6xl",children:"❌"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-4",children:"رابط غير صحيح"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"رابط إعادة تعيين كلمة المرور غير صحيح أو منتهي الصلاحية"}),n.jsx(D,{to:"/forgot-password",className:"inline-block mt-4 bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"طلب رابط جديد"})]})})})},gy=({activeTab:e,onTabChange:t})=>{const r=[{id:"lessons",label:"الحصص",icon:"📚"},{id:"schedule",label:"الجدول الدراسي",icon:"📅"},{id:"tasks",label:"الواجبات",icon:"📝"},{id:"materials",label:"المواد التعليمية",icon:"📂"},{id:"quizzes",label:"الكوويزات",icon:"🧠"}];return n.jsx("nav",{className:"mb-8 border-b border-[#39ff14]/40 dark:border-[#39ff14] bg-[#101010] dark:bg-[#101010]",children:n.jsx("div",{className:"flex overflow-x-auto space-x-1 space-x-reverse",children:r.map(s=>n.jsxs("button",{className:`flex items-center space-x-2 space-x-reverse px-6 py-4 text-sm font-medium border-b-2 transition-colors duration-200 whitespace-nowrap bg-transparent ${e===s.id?"text-[#39ff14] border-[#39ff14] dark:text-[#39ff14] dark:border-[#39ff14]":"text-[#222] dark:text-[#39ff14]/70 border-transparent hover:text-[#39ff14] dark:hover:text-[#39ff14] hover:border-[#39ff14]/40 dark:hover:border-[#39ff14]/60"}`,onClick:()=>t(s.id),children:[n.jsx("span",{className:"text-lg",children:s.icon}),n.jsx("span",{className:"font-medium",children:s.label})]},s.id))})})},yy=async()=>re("/api/educational-materials"),vy=async e=>re(`/api/educational-materials/grade/${encodeURIComponent(e)}`),jy=async e=>Te("/api/educational-materials",e),by=async(e,t)=>Qn(`/api/educational-materials/${e}`,t),ky=async e=>Vn(`/api/educational-materials/${e}`),wy=({grade:e})=>{const[t,r]=k.useState([]),[s,a]=k.useState(!1),[l,i]=k.useState("");return k.useEffect(()=>{e&&(a(!0),i(""),vy(e).then(o=>{o.success&&o.data?r(o.data):i("تعذر جلب المواد التعليمية")}).catch(()=>i("حدث خطأ أثناء جلب المواد")).finally(()=>a(!1)))},[e]),e?n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-primary-100 dark:from-blue-900/40 dark:to-primary-900/40 rounded-xl shadow p-6 mb-4 flex items-center gap-3",children:[n.jsx("span",{className:"text-2xl",children:"📂"}),n.jsx("h2",{className:"text-lg font-bold text-primary-700 dark:text-primary-300",children:"المواد التعليمية للصف"}),n.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-200",children:e})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:s?n.jsx("div",{className:"text-center text-gray-500",children:"جاري التحميل..."}):l?n.jsx("div",{className:"text-center text-red-600",children:l}):t.length===0?n.jsx("div",{className:"text-center text-gray-500",children:"لا توجد مواد تعليمية لهذا الصف"}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>n.jsxs("div",{className:"group bg-gradient-to-br from-primary-50 to-blue-100 dark:from-primary-900/60 dark:to-blue-900/40 rounded-2xl shadow-lg border border-primary-100 dark:border-primary-900 p-6 flex flex-col gap-3 transition-transform hover:-translate-y-1 hover:shadow-2xl relative overflow-hidden",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx("span",{className:"text-3xl bg-primary-200 dark:bg-primary-800 text-primary-700 dark:text-primary-300 rounded-full p-2 shadow",children:"📚"}),n.jsx("div",{className:"font-bold text-lg text-primary-800 dark:text-primary-200 truncate",title:o.title,children:o.title})]}),n.jsxs("a",{href:o.link,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-semibold transition text-sm shadow-md w-fit",children:[n.jsx("span",{children:"رابط المادة"}),n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 7l-10 10M17 7h-6m6 0v6"})})]}),n.jsx("div",{className:"flex items-center gap-2 mt-2",children:n.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded px-2 py-1",children:o.grade})}),n.jsx("div",{className:"absolute right-0 top-0 opacity-10 text-[6rem] pointer-events-none select-none",children:"📂"})]},o._id||o.id))})})]}):null},Ny=({lesson:e})=>n.jsxs("div",{className:"group bg-white dark:bg-gray-800 rounded-xl shadow-md hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-100 dark:border-gray-700 hover:border-primary-300 dark:hover:border-primary-600 transform hover:-translate-y-1",children:[n.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 p-4 text-white",children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-bold mb-1 line-clamp-2",children:e.lessonTitle||e.title}),n.jsx("p",{className:"text-primary-100 text-sm font-medium",children:e.unitTitle})]}),n.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full",children:n.jsx("span",{className:"text-xs font-medium",children:"📚 درس"})})]})}),n.jsxs("div",{className:"p-4",children:[e.description&&n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-2",children:e.description}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex items-center space-x-2 space-x-reverse text-sm text-gray-500 dark:text-gray-400",children:n.jsxs("span",{className:"flex items-center space-x-1 space-x-reverse",children:[n.jsx("span",{children:"📅"}),n.jsx("span",{children:new Date(e.createdAt).toLocaleDateString("ar-EG")})]})}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.videoUrl&&n.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900 text-red-600 dark:text-red-400 px-2 py-1 rounded-full",children:"🎥 فيديو"}),e.completed&&n.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400 px-2 py-1 rounded-full",children:"✅ مكتمل"})]})]}),n.jsxs(D,{to:`/lessons/${e._id||e.id}`,className:"group/btn w-full bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center space-x-2 space-x-reverse shadow-lg hover:shadow-xl",children:[n.jsx("span",{children:"مشاهدة الدرس"}),n.jsx("span",{className:"transform transition-transform group-hover/btn:translate-x-1",children:"▶️"})]})]})]}),Sy=({children:e})=>e,G=(e,t="info")=>{const r=document.createElement("div");r.className=`toast toast-${t}`,r.textContent=e,r.style.cssText=`
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 12px 20px;
    background: ${t==="error"?"#ef4444":t==="success"?"#10b981":"#3b82f6"};
    color: white;
    border-radius: 8px;
    z-index: 1000;
    animation: slideIn 0.3s ease;
  `,document.body.appendChild(r),setTimeout(()=>{r.remove()},3e3)},Cy=e=>e.length>=6,Ey=()=>{const{gradeSlug:e}=Ca(),t=ht(),[r,s]=k.useState("lessons"),[a,l]=k.useState("grid"),i=Br(),o=oy[e],d=o?ay[o]:null,c=o?ly[o]:null,u=o?iy[o]:null,x=Ne(m=>m.lessons.byGrade[d]||[]),p=Ne(m=>m.tasks.byGrade[c]||[]),y=Ne(m=>m.quizzes.byGrade[c]||[]),b=Ne(m=>m.schedule.byGrade[u]||[]),w=Ne(m=>m.lessons.loading||m.tasks.loading||m.quizzes.loading||m.schedule.loading);k.useEffect(()=>{o&&d&&c&&u&&(i(_s(d)),i(zs(c)),i(Ls(c)),i(Ts(u)))},[i,o,d,c,u]);const C=m=>{t(`/quiz/${m}`)},f=()=>{var m,g,h,j,v,N,E;switch(r){case"lessons":return n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-end mb-6 gap-2"}),x.length>0?n.jsxs(n.Fragment,{children:[a==="grid"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(S=>n.jsx(Ny,{lesson:{...S,subject:"الكيمياء"}},S.id))}),a==="list"&&n.jsx("div",{className:"flex flex-col gap-4",children:x.map(S=>n.jsxs("div",{className:"bg-white dark:bg-[#101010] rounded-xl shadow p-4 flex items-center gap-6 border border-[#39ff14] dark:border-[#39ff14]",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-xl font-bold text-[#222] dark:text-[#39ff14] mb-1",children:S.title}),n.jsx("p",{className:"text-[#222] dark:text-[#39ff14] mb-2",children:S.description}),n.jsx("span",{className:"inline-block text-xs bg-[#e6ffe6] dark:bg-[#39ff14] text-[#222] dark:text-[#101010] rounded px-2 py-1",children:"الكيمياء"})]}),n.jsx(D,{to:`/lesson/${S.id}`,className:"px-4 py-2 bg-[#39ff14] text-[#101010] rounded-lg font-bold hover:bg-[#222] hover:text-[#39ff14] transition",children:"عرض الدرس"})]},S.id))}),a==="masonry"&&n.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6",children:x.map(S=>n.jsxs("div",{className:"mb-6 break-inside-avoid bg-white dark:bg-[#101010] rounded-xl shadow p-5 border border-[#39ff14] dark:border-[#39ff14]",children:[n.jsx("h2",{className:"text-lg font-bold text-[#222] dark:text-[#39ff14] mb-1",children:S.title}),n.jsx("p",{className:"text-[#222] dark:text-[#39ff14] mb-2",children:S.description}),n.jsx("span",{className:"inline-block text-xs bg-[#e6ffe6] dark:bg-[#39ff14] text-[#222] dark:text-[#101010] rounded px-2 py-1",children:S.subject}),n.jsx("div",{className:"mt-3",children:n.jsx(D,{to:`/lesson/${S.id}`,className:"px-3 py-1 bg-[#39ff14] text-[#101010] rounded-lg font-bold hover:bg-[#222] hover:text-[#39ff14] transition text-sm",children:"عرض الدرس"})})]},S.id))})]}):n.jsx("p",{className:"empty-state",children:"لا توجد دروس متاحة حالياً"})]});case"materials":return n.jsx(wy,{grade:o});case"schedule":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-black dark:text-[#39ff14] mb-2",children:"🧪 الجدول الدراسي"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"مواعيد الحصص والدروس الأسبوعية"})]}),b.length>0?n.jsxs("div",{className:"bg-white dark:bg-[#101010] rounded-2xl shadow-xl overflow-hidden border border-[#39ff14] dark:border-[#39ff14]",children:[n.jsx("div",{className:"bg-[#39ff14] dark:bg-[#39ff14] px-6 py-4",children:n.jsxs("h3",{className:"text-xl font-bold text-white dark:text-[#39ff14]",children:["جدول ",(m=b[0])==null?void 0:m.grade]})}),n.jsx("div",{className:"p-3 sm:p-6",children:n.jsx("div",{className:"grid gap-3 sm:gap-4",children:b.map(S=>n.jsx("div",{className:"bg-white dark:bg-[#181818] rounded-xl p-3 sm:p-4 hover:shadow-lg transition-all duration-300 border border-[#39ff14] dark:border-[#39ff14]",children:n.jsxs("div",{className:"flex flex-col space-y-3",children:[n.jsxs("div",{className:"flex items-start space-x-3 space-x-reverse",children:[n.jsx("div",{className:"bg-[#e6ffe6] dark:bg-[#39ff14] text-[#222] dark:text-[#101010] rounded-full p-2 sm:p-3 flex-shrink-0",children:n.jsx("span",{className:"text-lg sm:text-xl font-bold",children:S.day})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-bold text-[#222] dark:text-[#39ff14] text-base sm:text-lg truncate",children:S.subject}),n.jsx("p",{className:"text-xs sm:text-sm text-[#222] dark:text-[#39ff14]",children:new Date(S.date).toLocaleDateString("ar-EG",{day:"numeric",month:"long",year:"numeric"})})]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0 sm:space-x-4 sm:space-x-reverse",children:[n.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 space-x-reverse bg-white dark:bg-[#101010] rounded-lg px-3 py-2 border border-[#39ff14] dark:border-[#39ff14]",children:[n.jsx("span",{className:"text-base sm:text-lg",children:"🕐"}),n.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-[#222] dark:text-[#39ff14]",children:"من"}),n.jsx("p",{className:"font-bold text-[#222] dark:text-[#39ff14] text-sm",children:S.timeFrom})]}),n.jsx("span",{className:"text-gray-400 mx-1",children:"→"}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-xs text-[#222] dark:text-[#39ff14]",children:"إلى"}),n.jsx("p",{className:"font-bold text-[#222] dark:text-[#39ff14] text-sm",children:S.timeTo})]})]})]}),S.instructor&&n.jsxs("div",{className:"flex items-center justify-center sm:justify-start space-x-2 space-x-reverse bg-[#e6ffe6] dark:bg-[#39ff14]/30 rounded-lg px-3 py-2 flex-shrink-0",children:[n.jsx("span",{className:"text-base sm:text-lg",children:"👨‍🏫"}),n.jsxs("div",{className:"text-center sm:text-right",children:[n.jsx("p",{className:"text-xs sm:text-sm text-[#222] dark:text-[#39ff14] font-medium",children:"المدرس"}),n.jsx("p",{className:"text-xs text-[#222] dark:text-[#39ff14] truncate max-w-[150px] sm:max-w-none",children:S.instructor.email})]})]})]})]})},S._id))})}),n.jsx("div",{className:"bg-white dark:bg-[#101010] px-3 sm:px-6 py-4 border-t border-[#39ff14] dark:border-[#39ff14]",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0 text-xs sm:text-sm text-[#222] dark:text-[#39ff14]",children:[n.jsxs("span",{className:"text-center sm:text-right",children:["🔬 إجمالي الحصص: ",b.length]}),n.jsxs("span",{className:"text-center sm:text-left",children:["🧪 آخر تحديث: ",new Date().toLocaleDateString("ar-EG")]})]})})]}):n.jsx("div",{className:"text-center py-16 bg-white dark:bg-[#101010] rounded-2xl shadow-lg border border-[#39ff14] dark:border-[#39ff14]",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:"🧪"}),n.jsx("h3",{className:"text-xl font-semibold text-white dark:text-[#39ff14] mb-2",children:"لا يوجد جدول دراسي متاح"}),n.jsx("p",{className:"text-white dark:text-[#39ff14]",children:"سيتم إضافة الجدول الدراسي قريباً"})]})})]});case"tasks":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-black dark:text-[#39ff14] mb-2",children:"⚗️ الواجبات"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"مهام وواجبات الصف"})]}),p.length>0?n.jsxs("div",{className:"space-y-6",children:[((g=p[0])==null?void 0:g.statistics)&&n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:p[0].statistics.gradeOverview.totalTasks}),n.jsx("div",{className:"text-sm text-blue-500 dark:text-blue-300",children:"إجمالي المهام"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:p[0].statistics.gradeOverview.activeTasks}),n.jsx("div",{className:"text-sm text-green-500 dark:text-green-300",children:"مهام نشطة"})]}),n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:p[0].statistics.gradeOverview.expiredTasks}),n.jsx("div",{className:"text-sm text-red-500 dark:text-red-300",children:"منتهية الصلاحية"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:p[0].statistics.gradeOverview.urgentTasks}),n.jsx("div",{className:"text-sm text-orange-500 dark:text-orange-300",children:"مهام عاجلة"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 px-6 py-4",children:n.jsxs("h3",{className:"text-xl font-bold text-white",children:["واجبات ",(h=p[0])==null?void 0:h.grade]})}),n.jsx("div",{className:"p-6 space-y-4",children:p.map(S=>n.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-xl p-4 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white mb-1",children:S.title}),n.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:S.description}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["المادة: ",S.subject]})]}),n.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 items-center",children:n.jsx("button",{onClick:()=>t(`/task/${S._id||S.id}`),className:"bg-primary-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-200",children:"حل المهمة"})})]},S._id||S.id))}),((j=p[0])==null?void 0:j.pagination)&&n.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{children:["� صفحة ",p[0].pagination.currentPage," من ",p[0].pagination.totalPages]}),n.jsxs("span",{children:["⚗️ إجمالي المهام: ",p[0].pagination.totalTasks]})]})})]})]}):n.jsx("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:"⚗️"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد واجبات متاحة"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"سيتم إضافة الواجبات قريباً"})]})})]});case"quizzes":return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-2xl font-bold text-black dark:text-[#39ff14] mb-2",children:"🔬 الكويزات"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"اختبارات وكويزات الصف"})]}),y.length>0?n.jsxs("div",{className:"space-y-6",children:[((v=y[0])==null?void 0:v.statistics)&&n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:y[0].statistics.gradeOverview.totalQuizzes}),n.jsx("div",{className:"text-sm text-purple-500 dark:text-purple-300",children:"إجمالي الكويزات"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y[0].statistics.gradeOverview.activeQuizzes}),n.jsx("div",{className:"text-sm text-green-500 dark:text-green-300",children:"كويزات نشطة"})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:y[0].statistics.gradeOverview.totalQuestions}),n.jsx("div",{className:"text-sm text-blue-500 dark:text-blue-300",children:"إجمالي الأسئلة"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:y[0].statistics.gradeOverview.avgTimeLimit}),n.jsx("div",{className:"text-sm text-orange-500 dark:text-orange-300",children:"متوسط الوقت (د)"})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:[n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 px-6 py-4",children:n.jsxs("h3",{className:"text-xl font-bold text-white",children:["كويزات ",(N=y[0])==null?void 0:N.grade]})}),n.jsx("div",{className:"p-6 space-y-6",children:y.map(S=>{var P;return n.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-700 dark:to-gray-600 rounded-xl p-6 hover:shadow-lg transition-all duration-300 border border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between space-y-4 lg:space-y-0",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start space-x-4 space-x-reverse mb-4",children:[n.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 rounded-full p-3 flex-shrink-0",children:n.jsx("span",{className:"text-xl font-bold",children:"🔬"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:S.title}),S.description&&n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm leading-relaxed mb-3",children:S.description}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse mb-3",children:[n.jsxs("span",{className:"bg-indigo-100 dark:bg-indigo-900 text-indigo-700 dark:text-indigo-300 px-3 py-1 rounded-full text-sm font-medium",children:["🧪 ",S.subject]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${S.isActive?"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:S.isActive?"🧪 نشط":"⚗️ غير نشط"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-center border border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:S.totalQuestions}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"أسئلة"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-center border border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:S.totalPoints}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"نقاط"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-center border border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:S.timeLimit}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"دقيقة"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3 text-center border border-gray-200 dark:border-gray-700",children:[n.jsx("div",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:((P=S.questions)==null?void 0:P.length)||0}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"أسئلة محملة"})]})]}),S.questions&&S.questions.length>0&&n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:n.jsx("div",{className:"space-y-2"})})]}),n.jsxs("div",{className:"flex flex-col space-y-3 lg:ml-6",children:[n.jsx("button",{className:`px-6 py-3 rounded-xl font-semibold transition-all duration-200 ${S.isActive?"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white shadow-lg hover:shadow-xl":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-not-allowed"}`,disabled:!S.isActive,onClick:()=>S.isActive&&C(S._id),children:S.isActive?"🧪 ابدأ الكويز":"⚗️ غير متاح"}),n.jsx("div",{className:"text-right text-xs text-gray-500 dark:text-gray-400 space-y-1",children:n.jsxs("div",{children:["🧪 أُنشئ في: ",new Date(S.createdAt).toLocaleDateString("ar-EG")]})})]})]})},S._id)})}),((E=y[0])==null?void 0:E.pagination)&&n.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 px-6 py-4 border-t border-gray-200 dark:border-gray-600",children:n.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{children:["� صفحة ",y[0].pagination.currentPage," من ",y[0].pagination.totalPages]}),n.jsxs("span",{children:["🔬 إجمالي الكويزات: ",y[0].pagination.totalQuizzes]})]})})]})]}):n.jsx("div",{className:"text-center py-16 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:"🔬"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد كويزات متاحة"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"سيتم إضافة الكويزات قريباً"})]})})]});default:return null}};return o?n.jsx(Sy,{requiredGradeSlug:e,children:n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm text-gray-500 dark:text-gray-400 mb-4",children:[n.jsx(D,{to:"/",className:"hover:text-primary-600 dark:hover:text-primary-400",children:"الرئيسية"}),n.jsx("span",{children:"/"}),n.jsx(D,{to:"/grades",className:"hover:text-primary-600 dark:hover:text-primary-400",children:"الصفوف الدراسية"}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:o})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-0",children:o}),n.jsx(D,{to:"/grades",className:"inline-flex items-center px-4 py-2 bg-secondary-600 text-white rounded-lg hover:bg-secondary-700 transition-colors duration-200 font-medium",children:"← العودة للكورسات"})]})]}),n.jsx(gy,{activeTab:r,onTabChange:s}),n.jsx("div",{className:"mt-8",children:w?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 ml-3"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"جاري التحميل..."})]}):f()})]})})}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"الصف غير موجود"}),n.jsx(D,{to:"/grades",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors duration-200 font-medium",children:"العودة للكورسات"})]})})},yt=({children:e})=>e,_y=e=>{if(!e)return null;const t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=e.match(t);return r&&r[2].length===11?r[2]:null},Py=()=>{const{id:e}=Ca(),t=Br(),r=ht(),{currentLesson:s,loading:a,error:l}=Ne(u=>u.lessons),[i,o]=k.useState(!1);k.useEffect(()=>{e&&t(Ps(e))},[t,e]);const d=(s==null?void 0:s.lesson)||s,c=_y(d==null?void 0:d.videoUrl);return a?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"جاري تحميل الدرس..."})]})}):l||!d?n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:"❌"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"الدرس غير موجود"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l||"لم يتم العثور على الدرس المطلوب"}),n.jsx(D,{to:"/grades",className:"inline-block bg-primary-600 text-white py-2 px-6 rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"العودة للكورسات"})]})}):n.jsx(yt,{children:n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse text-sm text-gray-500 dark:text-gray-400 mb-4",children:[n.jsx(D,{to:"/",className:"hover:text-primary-600 dark:hover:text-primary-400",children:"الرئيسية"}),n.jsx("span",{children:"/"}),n.jsx(D,{to:"/grades",className:"hover:text-primary-600 dark:hover:text-primary-400",children:"الصفوف الدراسية"}),n.jsx("span",{children:"/"}),n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:d.lessonTitle})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-2",children:d.lessonTitle}),n.jsx("h2",{className:"text-xl text-primary-600 dark:text-primary-400 font-semibold mb-3",children:d.unitTitle}),n.jsxs("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 px-4 py-2 rounded-full w-fit",children:[n.jsx("span",{className:"text-2xl ml-2",children:"🎓"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:d.grade})]})]}),n.jsx("button",{onClick:()=>r(-1),className:"mt-4 sm:mt-0 inline-flex items-center px-6 py-3 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-xl font-medium transition-colors duration-200",children:"← رجوع"})]})]})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden",children:n.jsx("div",{className:"relative bg-black aspect-video",children:c?n.jsx("iframe",{src:`https://www.youtube.com/embed/${c}?enablejsapi=1&rel=0&modestbranding=1`,className:"w-full h-full",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:d.lessonTitle}):d.videoUrl&&!c?n.jsxs("video",{controls:!0,className:"w-full h-full",poster:"/placeholder-video.jpg",children:[n.jsx("source",{src:d.videoUrl,type:"video/mp4"}),"متصفحك لا يدعم تشغيل الفيديو"]}):n.jsx("div",{className:"flex items-center justify-center h-full text-white",children:n.jsxs("div",{className:"text-center",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:"🎥"}),n.jsx("p",{className:"text-xl font-semibold",children:"قريباً: فيديو الدرس"}),n.jsx("p",{className:"text-sm text-gray-300 mt-2",children:"سيتم إضافة الفيديو قريباً"})]})})})})})]})})},Ty=({taskResults:e})=>{var a;const t=l=>l>=90?{grade:"ممتاز",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900",emoji:"🏆"}:l>=80?{grade:"جيد جداً",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900",emoji:"⭐"}:l>=70?{grade:"جيد",color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900",emoji:"👍"}:l>=60?{grade:"مقبول",color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-900",emoji:"📈"}:{grade:"راسب",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900",emoji:"📚"},r=(e==null?void 0:e.statistics)||{},s=(e==null?void 0:e.results)||[];return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"📝"}),n.jsx("span",{children:"نتائج المهام"})]}),s.length>0?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.totalTasks||0}),n.jsx("div",{className:"text-sm text-blue-500 dark:text-blue-300",children:"إجمالي المهام"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/50 rounded-xl p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[r.averageScore||0,"%"]}),n.jsx("div",{className:"text-sm text-green-500 dark:text-green-300",children:"المتوسط العام"})]}),n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/50 rounded-xl p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[r.bestScore||0,"%"]}),n.jsx("div",{className:"text-sm text-yellow-500 dark:text-yellow-300",children:"أفضل نتيجة"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:((a=r.totalTimeSpent)==null?void 0:a.display)||"0:00"}),n.jsx("div",{className:"text-sm text-purple-500 dark:text-purple-300",children:"إجمالي الوقت"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📝 اسم المهمة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📚 المادة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"🔢 الدرجة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📊 النسبة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"🏅 التقدير"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"⏱️ الوقت"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📅 التاريخ"})]})}),n.jsx("tbody",{children:s.map((l,i)=>{var d,c,u,x,p,y,b,w;const o=t(((d=l.score)==null?void 0:d.percentage)||0);return n.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[n.jsx("td",{className:"py-4 px-4 text-gray-800 dark:text-gray-200 font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-lg",children:o.emoji}),n.jsx("span",{children:(c=l.task)==null?void 0:c.title})]})}),n.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:(u=l.task)==null?void 0:u.subject}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[(x=l.score)==null?void 0:x.earnedPoints," / ",(p=l.score)==null?void 0:p.totalPoints]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${o.bgColor} ${o.color}`,children:(y=l.score)==null?void 0:y.percentage}),n.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"%"})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`font-semibold px-3 py-1 rounded-full ${o.color} ${o.bgColor}`,children:((b=l.grade)==null?void 0:b.description)||o.grade})}),n.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:n.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[n.jsx("span",{className:"text-sm",children:"⏱️"}),n.jsx("span",{className:"font-mono text-sm",children:(w=l.timeSpent)==null?void 0:w.display})]})}),n.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:l.completedAt?new Date(l.completedAt).toLocaleDateString("ar-EG",{day:"numeric",month:"short",year:"numeric"}):"--"})]},l.id||i)})})]})})]}):n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-blue-100 dark:from-yellow-900/50 dark:to-blue-900/50 rounded-2xl p-8 max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:"📝"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد نتائج مهام بعد"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"ابدأ في حل المهام لترى نتائجك هنا"}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-lg p-3 text-sm text-blue-600 dark:text-blue-400",children:"💡 نصيحة: حل المهام يساعدك على تقييم مستواك وتحسين أدائك"})]})})]})})},zy=async()=>await re("/api/students/overall-progress"),Ly=()=>{const{user:e}=Ne(S=>S.auth),[t,r]=k.useState("info"),[s,a]=k.useState(null),[l,i]=k.useState(!1),[o,d]=k.useState(new Date().getMonth()+1),[c,u]=k.useState(new Date().getFullYear()),[x,p]=k.useState([]),[y,b]=k.useState({results:[],statistics:{}}),[w,C]=k.useState(null),[f,m]=k.useState(!1),g=async()=>{try{m(!0);const S=await zy();S.success&&S.data?C(S.data):C(null)}catch{C(null)}finally{m(!1)}},h=[{subject:"رياضيات - جبر",score:85,total:100,grade:"جيد جدًا",color:"text-blue-600"},{subject:"رياضيات - هندسة",score:92,total:100,grade:"ممتاز",color:"text-green-600"},{subject:"فيزياء",score:78,total:100,grade:"جيد",color:"text-yellow-600"},{subject:"كيمياء",score:88,total:100,grade:"جيد جدًا",color:"text-blue-600"},{subject:"لغة عربية",score:95,total:100,grade:"ممتاز",color:"text-green-600"}],j=async()=>{try{const S=await Dg();S.success&&S.data?b(S.data):b({results:[],statistics:{}})}catch{b({results:[],statistics:{}}),G("حدث خطأ في جلب نتائج المهام","error")}},v=async()=>{var S,P;try{i(!0);const F=await Tg(o,c);a(F.data)}catch(F){let q="حدث خطأ في جلب بيانات التقويم";(((P=(S=F==null?void 0:F.response)==null?void 0:S.data)==null?void 0:P.message)==="Forbidden: insufficient permissions"||(F==null?void 0:F.message)==="Forbidden: insufficient permissions")&&(q="ليس لديك صلاحية لعرض تقويم الطالب."),G(q,"error"),a(null)}finally{i(!1)}},N=async()=>{try{const S=await ax();console.log("Quiz Results Response:",S),S.success&&S.data&&p(S.data)}catch(S){console.error("خطأ في جلب نتائج الكويزات:",S),G("حدث خطأ في جلب نتائج الكويزات","error"),p({results:[],statistics:{}})}};k.useEffect(()=>{t==="schedule"?v():t==="grades"?N():t==="taskResults"&&j(),!w&&!f&&g()},[t,o,c]);const E=()=>{switch(t){case"info":return n.jsx(ac,{user:e});case"grades":return n.jsx(Ry,{grades:h,quizResults:x});case"taskResults":return n.jsx(Ty,{taskResults:y});case"schedule":return n.jsx(Oy,{calendarData:s,isLoading:l,selectedMonth:o,selectedYear:c,onMonthChange:d,onYearChange:u});default:return n.jsx(ac,{user:e})}};return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"الملف الشخصي"}),n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"bg-gradient-to-r from-primary-100 to-blue-100 dark:from-primary-900/40 dark:to-blue-900/40 rounded-xl shadow p-6 flex flex-col sm:flex-row items-center justify-between gap-4",children:[n.jsxs("div",{className:"flex items-center gap-6 w-full",children:[n.jsxs("div",{className:"relative flex items-center justify-center",style:{width:100,height:100},children:[n.jsxs("svg",{width:"100",height:"100",viewBox:"0 0 100 100",children:[n.jsx("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"#e5e7eb",strokeWidth:"10"}),n.jsx("circle",{cx:"50",cy:"50",r:"42",fill:"none",stroke:"#2563eb",strokeWidth:"10",strokeDasharray:2*Math.PI*42,strokeDashoffset:f||!w?2*Math.PI*42:2*Math.PI*42*(1-w.overallPercentage/100),strokeLinecap:"round",style:{transition:"stroke-dashoffset 0.8s cubic-bezier(.4,2,.6,1)"}})]}),n.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[n.jsx("div",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:f?n.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"..."}):w?n.jsxs(n.Fragment,{children:[w.overallPercentage,n.jsx("span",{className:"text-base",children:"%"})]}):n.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"--%"})}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-300 mt-1",children:"المستوى العام"})]})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:"مستواك العام"}),f?n.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"جاري التحميل..."}):w?n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:["إجمالي الأنشطة: ",n.jsx("span",{className:"font-bold",children:w.totalActivities})]}),n.jsxs("div",{className:"text-sm text-green-700 dark:text-green-400",children:["✅ ناجح: ",n.jsx("span",{className:"font-bold",children:w.passed})]}),n.jsxs("div",{className:"text-sm text-red-700 dark:text-red-400",children:["❌ راسب: ",n.jsx("span",{className:"font-bold",children:w.failed})]})]}):n.jsx("span",{className:"text-gray-500 dark:text-gray-300 text-sm",children:"لا يوجد بيانات"})]})]}),n.jsx("button",{onClick:g,className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700 transition mt-4 sm:mt-0",disabled:f,children:"تحديث المستوى"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md mb-6 p-4 block sm:hidden",children:n.jsxs("select",{value:t,onChange:S=>r(S.target.value),className:"w-full py-3 px-4 rounded-lg text-sm font-medium bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500 shadow",children:[n.jsx("option",{value:"info",children:"👤 معلومات الطالب"}),n.jsx("option",{value:"grades",children:"📊 درجات الطالب"}),n.jsx("option",{value:"taskResults",children:"📝 نتائج المهام"}),n.jsx("option",{value:"schedule",children:"📅 تقويم الطالب"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md mb-6 hidden sm:block",children:n.jsxs("nav",{className:"flex space-x-1 space-x-reverse p-1",children:[n.jsxs("button",{onClick:()=>r("info"),className:`flex-1 py-3 px-6 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse ${t==="info"?"bg-primary-600 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx("span",{children:"👤"}),n.jsx("span",{children:"معلومات الطالب"})]}),n.jsxs("button",{onClick:()=>r("grades"),className:`flex-1 py-3 px-6 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse ${t==="grades"?"bg-primary-600 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx("span",{children:"📊"}),n.jsx("span",{children:"درجات الطالب"})]}),n.jsxs("button",{onClick:()=>r("taskResults"),className:`flex-1 py-3 px-6 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse ${t==="taskResults"?"bg-primary-600 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx("span",{children:"📝"}),n.jsx("span",{children:"نتائج المهام"})]}),n.jsxs("button",{onClick:()=>r("schedule"),className:`flex-1 py-3 px-6 rounded-lg text-sm font-medium transition-colors duration-200 flex items-center justify-center space-x-2 space-x-reverse ${t==="schedule"?"bg-primary-600 text-white shadow-md":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx("span",{children:"📅"}),n.jsx("span",{children:"تقويم الطالب"})]})]})}),n.jsx("div",{className:"animate-fadeIn",children:E()})]})})},ac=({user:e})=>n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6 md:space-x-reverse",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:"/default_user.png",alt:"صورة الطالب",className:"w-32 h-32 rounded-full border-4 border-primary-200 dark:border-primary-800 object-cover"})}),n.jsxs("div",{className:"flex-1 text-center md:text-right",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:(e==null?void 0:e.name)||"اسم الطالب"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-xl",children:"📧"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:(e==null?void 0:e.email)||"البريد الإلكتروني"})]}),n.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-xl",children:"🎓"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:(e==null?void 0:e.grade)||"الصف الدراسي"})]}),n.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-xl",children:"🔑"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["كود الطالب: ",(e==null?void 0:e.code)||"---"]})]}),n.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-xl",children:"📅"}),n.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["تاريخ التسجيل: ",new Date().toLocaleDateString("ar")]})]})]})]})]})}),Ry=({grades:e,quizResults:t})=>{var a,l,i,o,d;const r=c=>c>=90?{grade:"ممتاز",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900",emoji:"🏆"}:c>=80?{grade:"جيد جداً",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900",emoji:"⭐"}:c>=70?{grade:"جيد",color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900",emoji:"👍"}:c>=60?{grade:"مقبول",color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-900",emoji:"📈"}:{grade:"راسب",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900",emoji:"📚"},s=c=>{switch(c){case"ممتاز":return"text-green-600 bg-green-100 dark:bg-green-900";case"جيد جداً":return"text-blue-600 bg-blue-100 dark:bg-blue-900";case"جيد":return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900";case"يحتاج تحسين":return"text-red-600 bg-red-100 dark:bg-red-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700"}};return n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"🧠"}),n.jsx("span",{children:"نتائج الكويزات"})]}),t&&t.results&&t.results.length>0?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:((a=t.statistics)==null?void 0:a.totalQuizzes)||0}),n.jsx("div",{className:"text-sm text-blue-500 dark:text-blue-300",children:"إجمالي الكويزات"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/50 rounded-xl p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[((l=t.statistics)==null?void 0:l.averageScore)||0,"%"]}),n.jsx("div",{className:"text-sm text-green-500 dark:text-green-300",children:"المتوسط العام"})]}),n.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/50 rounded-xl p-4 text-center",children:[n.jsxs("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:[((i=t.statistics)==null?void 0:i.bestScore)||0,"%"]}),n.jsx("div",{className:"text-sm text-yellow-500 dark:text-yellow-300",children:"أفضل نتيجة"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/50 rounded-xl p-4 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:((d=(o=t.statistics)==null?void 0:o.totalTimeSpent)==null?void 0:d.display)||"0:00"}),n.jsx("div",{className:"text-sm text-purple-500 dark:text-purple-300",children:"إجمالي الوقت"})]})]}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"🧠 اسم الكويز"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📚 المادة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"🔢 الدرجة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📊 النسبة"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"🏅 التقدير"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📈 الأداء"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"⏱️ الوقت"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📅 التاريخ"})]})}),n.jsx("tbody",{children:t.results.map((c,u)=>{const x=r(c.score.percentage),p=s(c.performance);return n.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[n.jsx("td",{className:"py-4 px-4 text-gray-800 dark:text-gray-200 font-medium",children:n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:"text-lg",children:x.emoji}),n.jsx("span",{children:c.quiz.title})]})}),n.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:c.quiz.subject}),n.jsxs("td",{className:"py-4 px-4",children:[n.jsxs("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:[c.score.earnedPoints," / ",c.score.totalPoints]}),n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[c.score.correctAnswers,"/",c.score.totalQuestions," صحيح"]})]}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${x.bgColor} ${x.color}`,children:c.score.percentage}),n.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"%"})]})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`font-semibold px-3 py-1 rounded-full ${x.color} ${x.bgColor}`,children:c.grade.description})}),n.jsx("td",{className:"py-4 px-4",children:n.jsx("span",{className:`font-medium px-3 py-1 rounded-full ${p}`,children:c.performance})}),n.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:n.jsxs("div",{className:"flex items-center space-x-1 space-x-reverse",children:[n.jsx("span",{className:"text-sm",children:"⏱️"}),n.jsx("span",{className:"font-mono text-sm",children:c.timeSpent.display})]})}),n.jsx("td",{className:"py-4 px-4 text-gray-600 dark:text-gray-400",children:new Date(c.completedAt).toLocaleDateString("ar-EG",{day:"numeric",month:"short",year:"numeric"})})]},c.id||u)})})]})})]}):n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"bg-gradient-to-br from-purple-100 to-blue-100 dark:from-purple-900/50 dark:to-blue-900/50 rounded-2xl p-8 max-w-md mx-auto",children:[n.jsx("div",{className:"text-6xl mb-4",children:"🧠"}),n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد نتائج كويزات بعد"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"ابدأ في حل الكويزات لترى نتائجك هنا"}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/50 rounded-lg p-3 text-sm text-blue-600 dark:text-blue-400",children:"💡 نصيحة: حل الكويزات يساعدك على تقييم مستواك وتحسين أدائك"})]})})]})})},Oy=({calendarData:e,isLoading:t,selectedMonth:r,selectedYear:s,onMonthChange:a,onYearChange:l})=>{const i=[{value:1,label:"يناير"},{value:2,label:"فبراير"},{value:3,label:"مارس"},{value:4,label:"أبريل"},{value:5,label:"مايو"},{value:6,label:"يونيو"},{value:7,label:"يوليو"},{value:8,label:"أغسطس"},{value:9,label:"سبتمبر"},{value:10,label:"أكتوبر"},{value:11,label:"نوفمبر"},{value:12,label:"ديسمبر"}],o=x=>new Date(x).toLocaleDateString("ar",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=x=>{switch(x){case"schedule":return"📚";case"task":return"📝";case"quiz":return"🧪";case"lesson":return"🎥";default:return"📅"}},c=x=>{switch(x){case"schedule":return"محاضرة";case"task":return"مهمة";case"quiz":return"اختبار";case"lesson":return"درس";default:return"حدث"}},u=()=>{const x=Array.isArray(e==null?void 0:e.calendar)?e.calendar:[],p=[];return x.forEach(y=>{const b=y.date;Array.isArray(y.schedules)&&y.schedules.forEach(w=>{p.push({...w,date:b,type:"schedule",displayTitle:w.title||w.subject,displayTime:`${w.timeFrom} - ${w.timeTo}`})}),Array.isArray(y.tasks)&&y.tasks.forEach(w=>{p.push({...w,date:b,type:"task",displayTitle:w.title,displayTime:new Date(w.dueDate).toLocaleTimeString("ar",{hour:"2-digit",minute:"2-digit"})})}),Array.isArray(y.quizzes)&&y.quizzes.forEach(w=>{p.push({...w,date:b,type:"quiz",displayTitle:w.title,displayTime:`${w.duration} دقيقة`})}),Array.isArray(y.lessons)&&y.lessons.forEach(w=>{p.push({...w,date:b,type:"lesson",displayTitle:w.title,displayTime:new Date(w.createdAt).toLocaleTimeString("ar",{hour:"2-digit",minute:"2-digit"})})})}),p.sort((y,b)=>new Date(y.date)-new Date(b.date))};return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"📅"}),n.jsx("span",{children:"تقويم الطالب"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("select",{value:r,onChange:x=>a(parseInt(x.target.value)),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:i.map(x=>n.jsx("option",{value:x.value,children:x.label},x.value))}),n.jsx("select",{value:s,onChange:x=>l(parseInt(x.target.value)),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-primary-500",children:[2024,2025,2026].map(x=>n.jsx("option",{value:x,children:x},x))})]})]}),(e==null?void 0:e.stats)&&n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:e.stats.totalSchedules}),n.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"محاضرات"})]}),n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:e.stats.totalTasks}),n.jsx("div",{className:"text-sm text-green-700 dark:text-green-300",children:"مهام"})]}),n.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:e.stats.totalQuizzes}),n.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300",children:"اختبارات"})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3 text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:e.stats.totalLessons}),n.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300",children:"دروس"})]})]}),t?n.jsxs("div",{className:"flex justify-center items-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),n.jsx("span",{className:"mr-2 text-gray-600 dark:text-gray-400",children:"جاري تحميل التقويم..."})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📆 التاريخ"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📋 النوع"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"📚 العنوان"}),n.jsx("th",{className:"py-3 px-4 text-gray-900 dark:text-white font-semibold",children:"🕐 الوقت"})]})}),n.jsx("tbody",{children:u().length>0?u().map((x,p)=>n.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[n.jsx("td",{className:"py-4 px-4 text-gray-800 dark:text-gray-200 font-medium",children:o(x.date)}),n.jsx("td",{className:"py-4 px-4",children:n.jsxs("span",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:d(x.type)}),n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:c(x.type)})]})}),n.jsx("td",{className:"py-4 px-4 text-gray-800 dark:text-gray-200",children:x.displayTitle}),n.jsx("td",{className:"py-4 px-4 text-gray-800 dark:text-gray-200",children:x.displayTime})]},p)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"py-8 px-4 text-center text-gray-500 dark:text-gray-400",children:"لا توجد أحداث في هذا الشهر"})})})]})})]})},Dy=()=>{const{user:e}=Ne(b=>b.auth),t=Br(),[r,s]=k.useState({name:(e==null?void 0:e.name)||""}),[a,l]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[i,o]=k.useState({}),[d,c]=k.useState(!1),u=b=>{const{name:w,value:C}=b.target;s(f=>({...f,[w]:C}))},x=b=>{const{name:w,value:C}=b.target;l(f=>({...f,[w]:C})),i[w]&&o(f=>({...f,[w]:""}))},p=async b=>{var w,C,f,m,g;b.preventDefault();try{c(!0),o({}),await t(hg(r)).unwrap(),G("تم حفظ بيانات الحساب بنجاح","success")}catch(h){if(console.error("خطأ في تحديث البيانات:",h),(C=(w=h.response)==null?void 0:w.data)!=null&&C.errors){const j={};h.response.data.errors.forEach(v=>{j[v.path]=v.msg}),o(j)}else(f=h.message)!=null&&f.includes("validation failed")?G("يرجى ملء جميع الحقول المطلوبة","error"):(g=(m=h.response)==null?void 0:m.data)!=null&&g.message?G(h.response.data.message,"error"):G("حدث خطأ أثناء تحديث البيانات","error")}finally{c(!1)}},y=async b=>{var C,f,m,g,h;b.preventDefault();const w={};if(!(e!=null&&e.email)){G("يجب تسجيل الدخول أولاً","error");return}if(a.currentPassword||(w.currentPassword="كلمة المرور الحالية مطلوبة"),a.newPassword?Cy(a.newPassword)||(w.newPassword="كلمة المرور يجب أن تكون 6 أحرف على الأقل"):w.newPassword="كلمة المرور الجديدة مطلوبة",a.newPassword!==a.confirmPassword&&(w.confirmPassword="كلمتا المرور غير متطابقتان"),Object.keys(w).length>0){o(w);return}try{c(!0),o({});const j={email:e==null?void 0:e.email,oldPassword:a.currentPassword,newPassword:a.newPassword};console.log("إرسال بيانات تغيير كلمة المرور:",j),await dg(j),G("تم تغيير كلمة المرور بنجاح","success"),l({currentPassword:"",newPassword:"",confirmPassword:""})}catch(j){if(console.error("خطأ في تغيير كلمة المرور:",j),console.error("تفاصيل الخطأ:",(C=j.response)==null?void 0:C.data),(m=(f=j.response)==null?void 0:f.data)!=null&&m.message){const v=j.response.data.message;G(v==="User not found"?"المستخدم غير موجود":v==="Incorrect old password"?"كلمة المرور الحالية غير صحيحة":v==="email, oldPassword and newPassword are required"?"جميع الحقول مطلوبة":v,"error")}else if((h=(g=j.response)==null?void 0:g.data)!=null&&h.errors){const v={};j.response.data.errors.forEach(N=>{v[N.path]=N.msg}),o(v)}else G("حدث خطأ أثناء تغيير كلمة المرور","error")}finally{c(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:"الإعدادات"}),n.jsxs("div",{className:"space-y-8",children:[n.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"👤"}),n.jsx("span",{children:"تعديل الاسم"})]}),n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الاسم"}),n.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white",placeholder:"أدخل اسمك",required:!0})]}),n.jsxs("button",{type:"submit",className:"bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"💾"}),n.jsx("span",{children:"حفظ التغييرات"})]})]})]}),n.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"🔒"}),n.jsx("span",{children:"تغيير كلمة المرور"})]}),n.jsxs("form",{onSubmit:y,className:"space-y-6",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"كلمة المرور الحالية"}),n.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:a.currentPassword,onChange:x,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white ${i.currentPassword?"border-error-500 focus:ring-error-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"أدخل كلمة المرور الحالية"}),i.currentPassword&&n.jsx("span",{className:"text-error-600 dark:text-error-400 text-sm mt-1 block",children:i.currentPassword})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"كلمة المرور الجديدة"}),n.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:a.newPassword,onChange:x,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white ${i.newPassword?"border-error-500 focus:ring-error-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"أدخل كلمة المرور الجديدة"}),i.newPassword&&n.jsx("span",{className:"text-error-600 dark:text-error-400 text-sm mt-1 block",children:i.newPassword})]}),n.jsxs("div",{className:"form-group",children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تأكيد كلمة المرور الجديدة"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:x,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors duration-200 dark:bg-gray-700 dark:text-white ${i.confirmPassword?"border-error-500 focus:ring-error-500":"border-gray-300 dark:border-gray-600"}`,placeholder:"أعد إدخال كلمة المرور الجديدة"}),i.confirmPassword&&n.jsx("span",{className:"text-error-600 dark:text-error-400 text-sm mt-1 block",children:i.confirmPassword})]})]}),n.jsxs("button",{type:"submit",disabled:d,className:"bg-primary-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 transition-colors duration-200 flex items-center space-x-2 space-x-reverse disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("span",{children:d?"⏳":"🔒"}),n.jsx("span",{children:d?"جاري التغيير...":"تغيير كلمة المرور"})]})]})]}),n.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"🎨"}),n.jsx("span",{children:"المظهر"})]}),n.jsx("div",{className:"space-y-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"🌓"}),n.jsx("span",{children:"تبديل المظهر"})]}),n.jsx(Ni,{})]})})]})]})]})})},My=()=>{Br();const{user:e}=Ne(f=>f.auth),[t,r]=k.useState([]),[s,a]=k.useState(!1),[l,i]=k.useState(!1),[o,d]=k.useState(null),[c,u]=k.useState({grade:"",unitTitle:"",lessonTitle:"",videoUrl:""}),x=["الصف الأول الثانوي","الصف الثاني الثانوي","الصف الثالث الثانوي"];k.useEffect(()=>{p()},[]);const p=async()=>{try{a(!0);const f=await bg();f&&f.lessons?r(f.lessons):Array.isArray(f)?r(f):r([])}catch(f){console.error("خطأ في جلب الدروس:",f),alert("فشل في جلب الدروس")}finally{a(!1)}},y=async f=>{if(f.preventDefault(),!c.grade||!c.unitTitle||!c.lessonTitle||!c.videoUrl){alert("يرجى ملء جميع الحقول المطلوبة");return}try{a(!0);const m={...c,createdBy:e.id};o?(await qf(o._id,m),alert("تم تحديث الدرس بنجاح")):(await Zf(m),alert("تم إنشاء الدرس بنجاح")),i(!1),d(null),u({grade:"",unitTitle:"",lessonTitle:"",videoUrl:""}),p()}catch(m){console.error("خطأ في حفظ الدرس:",m),alert(o?"فشل في تحديث الدرس":"فشل في إنشاء الدرس")}finally{a(!1)}},b=f=>{d(f),u({grade:f.grade,unitTitle:f.unitTitle,lessonTitle:f.lessonTitle,videoUrl:f.videoUrl}),i(!0)},w=async f=>{if(confirm("هل أنت متأكد من حذف هذا الدرس؟"))try{a(!0),await ex(f),alert("تم حذف الدرس بنجاح"),p()}catch(m){console.error("خطأ في حذف الدرس:",m),alert("فشل في حذف الدرس")}finally{a(!1)}},C=()=>{u({grade:"",unitTitle:"",lessonTitle:"",videoUrl:""}),d(null),i(!1)};return s&&t.length===0?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"mr-3 text-gray-600",children:"جاري التحميل..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"إدارة الدروس"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"إدارة دروس جميع الصفوف"})]}),n.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"➕"}),n.jsx("span",{children:"إضافة درس جديد"})]})]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"الصف"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"الوحدة"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"عنوان الدرس"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"الإجراءات"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:t.length>0?t.map(f=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:f.grade}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:f.unitTitle}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:f.lessonTitle}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 space-x-reverse",children:[n.jsx("button",{onClick:()=>b(f),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"تعديل"}),n.jsx("button",{onClick:()=>w(f._id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"حذف"})]})]},f._id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"px-6 py-8 text-center text-gray-500 dark:text-gray-400",children:"لا توجد دروس متاحة"})})})]})})}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o?"تعديل الدرس":"إضافة درس جديد"})}),n.jsxs("form",{onSubmit:y,className:"px-6 py-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"الصف *"}),n.jsxs("select",{value:c.grade,onChange:f=>u({...c,grade:f.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[n.jsx("option",{value:"",children:"اختر الصف"}),x.map(f=>n.jsx("option",{value:f,children:f},f))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"عنوان الوحدة *"}),n.jsx("input",{type:"text",value:c.unitTitle,onChange:f=>u({...c,unitTitle:f.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"مثال: الجبر والهندسة",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"عنوان الدرس *"}),n.jsx("input",{type:"text",value:c.lessonTitle,onChange:f=>u({...c,lessonTitle:f.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"مثال: المعادلات التربيعية",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"رابط الفيديو *"}),n.jsx("input",{type:"url",value:c.videoUrl,onChange:f=>u({...c,videoUrl:f.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"https://youtube.com/watch?v=...",required:!0})]}),n.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-4",children:[n.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"إلغاء"}),n.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:s?"جاري الحفظ...":o?"تحديث":"إضافة"})]})]})]})})]})},$y=()=>{const[e,t]=k.useState([]),[r,s]=k.useState(!0),[a,l]=k.useState(!1),[i,o]=k.useState(null),[d,c]=k.useState({title:"",description:"",subject:"",grade:"",dueDate:"",points:10,questions:[]}),[u,x]=k.useState([]);k.useEffect(()=>{p()},[]);const p=async()=>{try{s(!0);const v=await Mg();v&&v.data?t(v.data):Array.isArray(v)?t(v):t([])}catch(v){console.error("خطأ في جلب المهام:",v)}finally{s(!1)}},y=async v=>{v.preventDefault(),x([]);try{const N=(d.questions||[]).map(S=>{let P={...S};return S.type==="اختر من متعدد"?(P.options=S.options.map((F,q)=>({text:F,isCorrect:q===S.correctAnswer})),delete P.correctAnswer):S.type==="صح وخطأ"&&(P.correctAnswer=S.correctAnswer===0,P.options=[]),P}),E={...d,questions:N};await Ag(E),c({title:"",description:"",subject:"",grade:"",dueDate:"",points:10,questions:[]}),l(!1),p()}catch(N){let E=[];N.response&&N.response.data&&N.response.data.errors?E=N.response.data.errors:N.message?E=[{field:"",message:N.message}]:E=[{field:"",message:"حدث خطأ غير متوقع"}],x(E),console.error("خطأ في إنشاء المهمة:",N)}},b=async v=>{v.preventDefault();try{const N=(d.questions||[]).map(S=>{let P={...S};return S.type==="اختر من متعدد"?(P.options=S.options.map((F,q)=>({text:F,isCorrect:q===S.correctAnswer})),delete P.correctAnswer):S.type==="صح وخطأ"&&(P.correctAnswer=S.correctAnswer===0,P.options=[]),P}),E={...d,questions:N};await Ig(i._id||i.id,E),o(null),c({title:"",description:"",subject:"",grade:"",dueDate:"",points:10,questions:[]}),p()}catch(N){console.error("خطأ في تحديث المهمة:",N)}},w=async v=>{if(window.confirm("هل أنت متأكد من حذف هذه المهمة؟"))try{await Fg(v),p()}catch(N){console.error("خطأ في حذف المهمة:",N)}},C=v=>{o(v),c({title:v.title,description:v.description,subject:v.subject||"",grade:v.grade,dueDate:v.dueDate?v.dueDate.split("T")[0]:"",points:v.points||10,questions:(v.questions||[]).map(N=>{let E,S=[];return N.type==="اختر من متعدد"?(S=Array.isArray(N.options)?N.options.map(P=>typeof P=="object"&&P!==null&&"text"in P?P.text:P):[],E=Array.isArray(N.options)?N.options.findIndex(P=>typeof P=="object"&&P!==null&&P.isCorrect===!0):0):N.type==="صح وخطأ"&&(S=["صح","خطأ"],E=N.correctAnswer===!0?0:1),{...N,options:S,correctAnswer:E>=0?E:0}})}),l(!0)},f=()=>{const v={id:Date.now(),questionText:"",type:"اختر من متعدد",options:["A","B","C","D"],correctAnswer:0,points:1};c({...d,questions:[...d.questions||[],v]})},m=(v,N,E)=>{const S=[...d.questions];N==="type"&&(E==="اختر من متعدد"?(S[v].options=["A","B","C","D"],S[v].correctAnswer=0):E==="صح وخطأ"&&(S[v].options=["صح","خطأ"],S[v].correctAnswer=0)),S[v][N]=E,c({...d,questions:S})},g=(v,N,E)=>{const S=[...d.questions];S[v].options[N]=E,c({...d,questions:S})},h=v=>{const N=d.questions.filter((E,S)=>S!==v);c({...d,questions:N})},j=()=>{c({title:"",description:"",subject:"",grade:"",dueDate:"",points:10}),l(!1),o(null),x([])};return r?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),n.jsx("span",{className:"mr-3 text-gray-600 dark:text-gray-400",children:"جاري التحميل..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"إدارة المهام"}),n.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 space-x-reverse transition-colors duration-200",children:[n.jsx("span",{children:"➕"}),n.jsx("span",{children:"إضافة مهمة جديدة"})]})]}),a&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i?"تحرير المهمة":"إضافة مهمة جديدة"}),n.jsx("button",{onClick:j,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),u.length>0&&n.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-red-300 dark:border-red-700 rounded p-3",children:n.jsx("ul",{className:"list-disc pr-5 text-red-700 dark:text-red-200 text-sm",children:u.map((v,N)=>n.jsx("li",{children:v.message},N))})}),n.jsxs("form",{onSubmit:i?b:y,className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"عنوان المهمة"}),n.jsx("input",{type:"text",value:d.title,onChange:v=>c({...d,title:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"المادة"}),n.jsx("input",{type:"text",value:d.subject,onChange:v=>c({...d,subject:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الصف الدراسي"}),n.jsxs("select",{value:d.grade,onChange:v=>c({...d,grade:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[n.jsx("option",{value:"",children:"اختر الصف"}),Object.keys(La).map(v=>n.jsx("option",{value:v,children:v},v))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"تاريخ التسليم"}),n.jsx("input",{type:"date",value:d.dueDate,onChange:v=>c({...d,dueDate:v.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"النقاط"}),n.jsx("input",{type:"number",value:d.points,onChange:v=>c({...d,points:parseInt(v.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"1",max:"100"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"وصف المهمة"}),n.jsx("textarea",{value:d.description,onChange:v=>c({...d,description:v.target.value}),rows:"4",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"الأسئلة"}),n.jsx("button",{type:"button",onClick:f,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors duration-200",children:"➕ إضافة سؤال"})]}),(d.questions||[]).map((v,N)=>n.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("h5",{className:"font-semibold text-gray-900 dark:text-white",children:["السؤال ",N+1]}),n.jsx("button",{type:"button",onClick:()=>h(N),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"🗑️"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"نص السؤال (يمكنك وضع لينك صورة أو نص عادي)",value:v.questionText,onChange:E=>m(N,"questionText",E.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نوع السؤال"}),n.jsxs("select",{value:v.type,onChange:E=>m(N,"type",E.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[n.jsx("option",{value:"اختر من متعدد",children:"اختر من متعدد"}),n.jsx("option",{value:"صح وخطأ",children:"صح وخطأ"})]})]}),v.type==="اختر من متعدد"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["A","B","C","D"].map((E,S)=>n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("input",{type:"radio",name:`correct-${N}`,checked:v.correctAnswer===S,onChange:()=>m(N,"correctAnswer",S),className:"text-blue-600"}),n.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[E,"."]}),n.jsx("input",{type:"text",placeholder:`الخيار ${E}`,value:v.options[S],onChange:P=>g(N,S,P.target.value),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm"})]},S))}),v.type==="صح وخطأ"&&n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["صح","خطأ"].map((E,S)=>n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("input",{type:"radio",name:`correct-${N}`,checked:v.correctAnswer===S,onChange:()=>m(N,"correctAnswer",S),className:"text-blue-600"}),n.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:E})]},S))}),n.jsx("input",{type:"number",placeholder:"نقاط السؤال",value:v.points,onChange:E=>m(N,"points",parseInt(E.target.value)||1),className:"w-24 p-2 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",min:"1",max:"10"})]})]},v.id||N))]}),n.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse",children:[n.jsx("button",{type:"button",onClick:j,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-200",children:"إلغاء"}),n.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:i?"حفظ التغييرات":"إنشاء المهمة"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"قائمة المهام"})}),e.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("span",{className:"text-4xl mb-4 block",children:"📝"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد مهام"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"قم بإضافة مهمة جديدة للطلاب"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"العنوان"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الصف"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"تاريخ التسليم"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"النقاط"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الإجراءات"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(v=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v.title}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:v.description})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.grade}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.dueDate?new Date(v.dueDate).toLocaleDateString("ar-EG"):"غير محدد"}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:v.points||10}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 space-x-reverse",children:[n.jsx("button",{onClick:()=>C(v),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"✏️ تحرير"}),n.jsx("button",{onClick:()=>w(v._id||v.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"🗑️ حذف"})]})]},v.id))})]})})]})]})},Ay=()=>{const[e,t]=k.useState([]),[r,s]=k.useState(!0),[a,l]=k.useState(!1),[i,o]=k.useState(null),[d,c]=k.useState({title:"",description:"",subject:"",grade:"",timeLimit:30,totalMarks:100,questions:[]});k.useEffect(()=>{u()},[]);const u=async()=>{try{s(!0);const h=await Qg();h&&h.data?t(h.data):Array.isArray(h)?t(h):t([])}catch(h){console.error("خطأ في جلب الكويزات:",h)}finally{s(!1)}},x=async h=>{h.preventDefault();try{const j=d.questions.map(N=>{let E={...N};return N.type==="اختر من متعدد"?(E.options=N.options.map((S,P)=>({text:S,isCorrect:P===N.correctAnswer})),delete E.correctAnswer):N.type==="صح وخطأ"&&(E.correctAnswer=N.correctAnswer===0,E.options=[]),E}),v={...d,questions:j};console.log("📤 البيانات المرسلة:",v),await Wg(v),c({title:"",description:"",subject:"",grade:"",timeLimit:30,totalMarks:100,questions:[]}),l(!1),u()}catch(j){console.error("خطأ في إنشاء الكويز:",j)}},p=async h=>{h.preventDefault();try{const j=d.questions.map(N=>{let E={...N};return N.type==="اختر من متعدد"?(E.options=N.options.map((S,P)=>({text:S,isCorrect:P===N.correctAnswer})),delete E.correctAnswer):N.type==="صح وخطأ"&&(E.correctAnswer=N.correctAnswer===0,E.options=[]),E}),v={...d,questions:j};console.log("📤 البيانات المرسلة:",v),await Gg(i._id,v),o(null),c({title:"",description:"",subject:"",grade:"",timeLimit:30,totalMarks:100,questions:[]}),u()}catch(j){console.error("خطأ في تحديث الكويز:",j)}},y=async h=>{if(window.confirm("هل أنت متأكد من حذف هذا الكويز؟"))try{await Hg(h),u()}catch(j){console.error("خطأ في حذف الكويز:",j)}},b=h=>{o(h),c({title:h.title,description:h.description,subject:h.subject||"",grade:h.grade,timeLimit:h.timeLimit||30,totalMarks:h.totalMarks||100,questions:(h.questions||[]).map(j=>{let v,N=[];return j.type==="اختر من متعدد"?(N=Array.isArray(j.options)?j.options.map(E=>typeof E=="object"&&E!==null&&"text"in E?E.text:E):[],v=Array.isArray(j.options)?j.options.findIndex(E=>typeof E=="object"&&E!==null&&E.isCorrect===!0):0):j.type==="صح وخطأ"&&(N=["صح","خطأ"],v=j.correctAnswer===!0?0:1),{...j,options:N,correctAnswer:v>=0?v:0}})}),l(!0)},w=()=>{c({title:"",description:"",grade:"",timeLimit:30,totalMarks:100,questions:[]}),l(!1),o(null)},C=()=>{const h={id:Date.now(),questionText:"",type:"اختر من متعدد",options:["A","B","C","D"],correctAnswer:0,points:5};c({...d,questions:[...d.questions,h]})},f=(h,j,v)=>{const N=[...d.questions];j==="type"&&(v==="اختر من متعدد"?(N[h].options=["A","B","C","D"],N[h].correctAnswer=0):v==="صح وخطأ"&&(N[h].options=["صح","خطأ"],N[h].correctAnswer=0)),N[h][j]=v,c({...d,questions:N})},m=(h,j,v)=>{const N=[...d.questions];N[h].options[j]=v,c({...d,questions:N})},g=h=>{const j=d.questions.filter((v,N)=>N!==h);c({...d,questions:j})};return r?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"}),n.jsx("span",{className:"mr-3 text-gray-600 dark:text-gray-400",children:"جاري التحميل..."})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"إدارة الكويزات"}),n.jsxs("button",{onClick:()=>l(!0),className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 space-x-reverse transition-colors duration-200",children:[n.jsx("span",{children:"➕"}),n.jsx("span",{children:"إضافة كويز جديد"})]})]}),a&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i?"تحرير الكويز":"إضافة كويز جديد"}),n.jsx("button",{onClick:w,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"✕"})]}),n.jsxs("form",{onSubmit:i?p:x,className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"المادة"}),n.jsx("input",{type:"text",value:d.subject,onChange:h=>c({...d,subject:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"عنوان الكويز"}),n.jsx("input",{type:"text",value:d.title,onChange:h=>c({...d,title:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الصف الدراسي"}),n.jsxs("select",{value:d.grade,onChange:h=>c({...d,grade:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,children:[n.jsx("option",{value:"",children:"اختر الصف"}),Object.keys(La).map(h=>n.jsx("option",{value:h,children:h},h))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"الوقت المحدد (دقيقة)"}),n.jsx("input",{type:"number",value:d.timeLimit,onChange:h=>c({...d,timeLimit:parseInt(h.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"5",max:"180"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"إجمالي الدرجات"}),n.jsx("input",{type:"number",value:d.totalMarks,onChange:h=>c({...d,totalMarks:parseInt(h.target.value)}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",min:"10",max:"500"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"وصف الكويز"}),n.jsx("textarea",{value:d.description,onChange:h=>c({...d,description:h.target.value}),rows:"3",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"الأسئلة"}),n.jsx("button",{type:"button",onClick:C,className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors duration-200",children:"➕ إضافة سؤال"})]}),d.questions.map((h,j)=>n.jsxs("div",{className:"border border-gray-300 dark:border-gray-600 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("h5",{className:"font-semibold text-gray-900 dark:text-white",children:["السؤال ",j+1]}),n.jsx("button",{type:"button",onClick:()=>g(j),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:"🗑️"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"نص السؤال (يمكنك وضع لينك صورة أو نص عادي)",value:h.questionText,onChange:v=>f(j,"questionText",v.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),/^https?:\/\/.*\.(png|jpg|jpeg|gif|webp)$/i.test(h.questionText.trim())&&n.jsx("div",{className:"my-2 flex justify-center",children:n.jsx("img",{src:h.questionText.trim(),alt:"سؤال صورة",className:"max-h-48 rounded border"})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"نوع السؤال"}),n.jsxs("select",{value:h.type,onChange:v=>f(j,"type",v.target.value),className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",children:[n.jsx("option",{value:"اختر من متعدد",children:"اختر من متعدد"}),n.jsx("option",{value:"صح وخطأ",children:"صح وخطأ"})]})]}),h.type==="اختر من متعدد"&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:["A","B","C","D"].map((v,N)=>n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("input",{type:"radio",name:`correct-${j}`,checked:h.correctAnswer===N,onChange:()=>f(j,"correctAnswer",N),className:"text-purple-600"}),n.jsxs("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:[v,"."]}),n.jsx("input",{type:"text",placeholder:`الخيار ${v}`,value:h.options[N],onChange:E=>m(j,N,E.target.value),className:"flex-1 p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm"})]},N))}),h.type==="صح وخطأ"&&n.jsx("div",{className:"grid grid-cols-2 gap-2",children:["صح","خطأ"].map((v,N)=>n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("input",{type:"radio",name:`correct-${j}`,checked:h.correctAnswer===N,onChange:()=>f(j,"correctAnswer",N),className:"text-purple-600"}),n.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:v})]},N))}),n.jsx("input",{type:"number",placeholder:"نقاط السؤال",value:h.points,onChange:v=>f(j,"points",parseInt(v.target.value)||1),className:"w-24 p-2 border border-gray-300 rounded focus:ring-1 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white text-sm",min:"1",max:"50"})]})]},h.id))]}),n.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse",children:[n.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-200",children:"إلغاء"}),n.jsx("button",{type:"submit",className:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors duration-200",children:i?"حفظ التغييرات":"إنشاء الكويز"})]})]})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"قائمة الكويزات"})}),e.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("span",{className:"text-4xl mb-4 block",children:"🧠"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد كويزات"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"قم بإضافة كويز جديد للطلاب"})]}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"العنوان"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الصف"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"عدد الأسئلة"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الوقت المحدد"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الدرجات"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الإجراءات"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(h=>{var j;return n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.title}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-xs",children:h.description})]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h.grade}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:((j=h.questions)==null?void 0:j.length)||0}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[h.timeLimit||30," دقيقة"]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:h.totalMarks||100}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 space-x-reverse",children:[n.jsx("button",{onClick:()=>b(h),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",children:"✏️ تحرير"}),n.jsx("button",{onClick:()=>y(h._id||h.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"🗑️ حذف"})]})]},h.id)})})]})})]})]})},Iy=()=>{const{user:e}=Ne(T=>T.auth),[t,r]=k.useState([]),[s,a]=k.useState(!1),[l,i]=k.useState(!1),[o,d]=k.useState(null),[c,u]=k.useState(null),[x,p]=k.useState({}),[y,b]=k.useState({day:"",subject:"رياضيات",date:"",timeFrom:"",timeTo:"",grade:"",instructor:(e==null?void 0:e.id)||""}),w=["الصف الأول الثانوي","الصف الثاني الثانوي","الصف الثالث الثانوي"],C=["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"];k.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const T=await rx();T&&T.schedules?r(T.schedules):Array.isArray(T)?r(T):r([])}catch(T){console.error("خطأ في جلب الجداول:",T),alert("فشل في جلب الجداول")}finally{a(!1)}},m=T=>{var A,ge;console.log("Full error object:",T),console.log("Error response:",T.response),console.log("Error data:",(A=T.response)==null?void 0:A.data);const $=(ge=T.response)==null?void 0:ge.data;if($&&$.errors&&Array.isArray($.errors)){const ke={};$.errors.forEach(L=>{ke[L.path]=L.msg}),p(ke);const z=$.errors.map(L=>L.msg);return u(z.join(". ")),!0}return $&&$.message?(u($.message),!0):!1},g=()=>{u(null),p({})},h=async T=>{var ge,ke,z;if(T.preventDefault(),g(),!y.day||!y.subject||!y.date||!y.timeFrom||!y.timeTo||!y.grade){u("يرجى ملء جميع الحقول المطلوبة");return}const $=y.timeFrom.split(":").reduce((L,O)=>L*60+ +O),A=y.timeTo.split(":").reduce((L,O)=>L*60+ +O);if($>=A){u("وقت البداية يجب أن يكون قبل وقت النهاية");return}try{a(!0);const L={...y,createdBy:e.id,instructor:e.id};o?(await _g(o._id,L),u(null),alert("تم تحديث الجدول بنجاح")):(await Eg(L),u(null),alert("تم إنشاء الجدول بنجاح")),i(!1),d(null),b({day:"",subject:"رياضيات",date:"",timeFrom:"",timeTo:"",grade:"",instructor:(e==null?void 0:e.id)||""}),f()}catch(L){if(console.error("خطأ في حفظ الجدول:",L),console.error("Error response:",L.response),console.error("Error data:",(ge=L.response)==null?void 0:ge.data),!m(L)){const O=((z=(ke=L.response)==null?void 0:ke.data)==null?void 0:z.message)||L.message||"خطأ غير معروف";u(`${o?"فشل في تحديث الجدول":"فشل في إنشاء الجدول"}: ${O}`)}}finally{a(!1)}},j=T=>{g(),d(T);const $=new Date(T.date);b({day:T.day,subject:T.subject,date:$.toISOString().split("T")[0],timeFrom:T.timeFrom,timeTo:T.timeTo,grade:T.grade,instructor:T.instructor}),i(!0)},v=()=>{g(),d(null),b({day:"",subject:"رياضيات",date:"",timeFrom:"",timeTo:"",grade:"",instructor:(e==null?void 0:e.id)||""}),i(!0)},N=()=>{g(),i(!1),d(null)},E=async T=>{if(confirm("هل أنت متأكد من حذف هذا الجدول؟"))try{a(!0),await Pg(T),alert("تم حذف الجدول بنجاح"),f()}catch($){console.error("خطأ في حذف الجدول:",$),alert("فشل في حذف الجدول")}finally{a(!1)}},S=()=>{N()},P=T=>new Date(T).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"}),F=()=>t.reduce((T,$)=>{const A=$.grade;return T[A]||(T[A]=[]),T[A].push($),T},{});if(s&&t.length===0)return n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),n.jsx("span",{className:"mr-3 text-gray-600",children:"جاري التحميل..."})]});const q=F();return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"إدارة الجدول الدراسي"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"إدارة جداول جميع الصفوف"})]}),n.jsxs("button",{onClick:v,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:"➕"}),n.jsx("span",{children:"إضافة حصة جديدة"})]})]}),Object.keys(q).length>0?n.jsx("div",{className:"space-y-8",children:Object.entries(q).map(([T,$])=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[n.jsx("div",{className:"bg-purple-600 text-white px-6 py-3",children:n.jsx("h3",{className:"text-lg font-semibold",children:T})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"اليوم"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"المادة"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"التاريخ"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"التوقيت"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"الإجراءات"})]})}),n.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:$.sort((A,ge)=>new Date(A.date)-new Date(ge.date)).map(A=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:A.day}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:A.subject}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:P(A.date)}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[A.timeFrom," - ",A.timeTo]}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2 space-x-reverse",children:[n.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"تعديل"}),n.jsx("button",{onClick:()=>E(A._id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"حذف"})]})]},A._id))})]})})]},T))}):n.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[n.jsx("span",{className:"text-4xl mb-4 block",children:"📅"}),n.jsx("p",{children:"لا توجد جداول متاحة"})]}),l&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:o?"تعديل الحصة":"إضافة حصة جديدة"})}),c&&n.jsx("div",{className:"mx-6 mt-4 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{className:"text-red-400 ml-2",children:"❌"}),n.jsx("p",{className:"text-sm text-red-800 dark:text-red-200 font-medium",children:c})]})}),n.jsxs("form",{onSubmit:h,className:"px-6 py-4 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"اليوم *"}),n.jsxs("select",{value:y.day,onChange:T=>b({...y,day:T.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[n.jsx("option",{value:"",children:"اختر اليوم"}),C.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"المادة *"}),n.jsx("input",{type:"text",value:y.subject,onChange:T=>b({...y,subject:T.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"مثال: رياضيات",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"التاريخ *"}),n.jsx("input",{type:"date",value:y.date,onChange:T=>b({...y,date:T.target.value}),className:`w-full p-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white ${x.date?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-600"}`,required:!0}),x.date&&n.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400 flex items-center",children:[n.jsx("span",{className:"ml-1",children:"⚠️"}),x.date]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"من *"}),n.jsx("input",{type:"time",value:y.timeFrom,onChange:T=>b({...y,timeFrom:T.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"إلى *"}),n.jsx("input",{type:"time",value:y.timeTo,onChange:T=>b({...y,timeTo:T.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"الصف *"}),n.jsxs("select",{value:y.grade,onChange:T=>b({...y,grade:T.target.value}),className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[n.jsx("option",{value:"",children:"اختر الصف"}),w.map(T=>n.jsx("option",{value:T,children:T},T))]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-4",children:[n.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:"إلغاء"}),n.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:s?"جاري الحفظ...":o?"تحديث":"إضافة"})]})]})]})})]})},Fy=async()=>await re("/api/analytics/dashboard"),Uy=()=>{var f;const[e,t]=k.useState(null),[r,s]=k.useState(!0),[a,l]=k.useState(null);k.useEffect(()=>{i()},[]);const i=async()=>{try{s(!0);const m=await Fy();t(m.data),l(null)}catch(m){console.error("Analytics API error:",m),t({overview:{users:{total:0,byRole:{admin:0,instructor:0,student:0},verified:0,recent:0,verificationRate:0},lessons:{total:0,recent:0},quizzes:{total:0,recent:0,questions:{totalQuestions:0,avgQuestionsPerQuiz:0,multipleChoice:0,trueFalse:0}},tasks:{total:0,recent:0,upcoming:0,completionRate:0}},activity:{byGrade:[]},studentsByGrade:[],metadata:{generatedAt:new Date().toISOString(),timezone:"Africa/Cairo"}}),l(null)}finally{s(!1)}};if(r)return n.jsx("div",{className:"space-y-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(8)].map((m,g)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 animate-pulse",children:[n.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),n.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]},g))})});if(a)return n.jsxs("div",{className:"bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-xl p-6 text-center",children:[n.jsx("span",{className:"text-4xl mb-4 block",children:"❌"}),n.jsx("h3",{className:"text-lg font-semibold text-red-800 dark:text-red-200 mb-2",children:"خطأ في تحميل البيانات"}),n.jsx("p",{className:"text-red-600 dark:text-red-300 mb-4",children:a}),n.jsx("button",{onClick:i,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",children:"إعادة المحاولة"})]});if(!e)return null;const o=e.overview||{},d=e.activity||{},c=e.metadata||{},u=o.users||{},x=u.byRole||{},p=o.lessons||{},y=o.quizzes||{},b=o.tasks||{},w=e.studentsByGrade||[],C=d.byGrade||[];return n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"👥"}),"إحصائيات المستخدمين"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"إجمالي المستخدمين"}),n.jsx("p",{className:"text-3xl font-bold",children:u.total||0})]}),n.jsx("span",{className:"text-4xl",children:"👥"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-green-100 text-sm font-medium",children:"الطلاب"}),n.jsx("p",{className:"text-3xl font-bold",children:x.student||0})]}),n.jsx("span",{className:"text-4xl",children:"🎓"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"المدرسون"}),n.jsx("p",{className:"text-3xl font-bold",children:x.instructor||0})]}),n.jsx("span",{className:"text-4xl",children:"👨‍🏫"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-orange-100 text-sm font-medium",children:"المديرون"}),n.jsx("p",{className:"text-3xl font-bold",children:x.admin||0})]}),n.jsx("span",{className:"text-4xl",children:"👑"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 rounded-xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-teal-100 text-sm font-medium",children:"مستخدمون موثقون"}),n.jsx("p",{className:"text-3xl font-bold",children:u.verified||0})]}),n.jsx("span",{className:"text-4xl",children:"✅"})]})}),n.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-xl p-6 text-white shadow-lg",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-red-100 text-sm font-medium",children:"معدل التوثيق"}),n.jsxs("p",{className:"text-3xl font-bold",children:[u.verificationRate||0,"%"]})]}),n.jsx("span",{className:"text-4xl",children:"📊"})]})})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"📚"}),"إحصائيات المحتوى"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"إجمالي الدروس"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:p.total||0}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["حديثة: ",p.recent||0]})]}),n.jsx("span",{className:"text-3xl",children:"🎥"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"إجمالي الكويزات"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:y.total||0}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["أسئلة: ",((f=y.questions)==null?void 0:f.totalQuestions)||0]})]}),n.jsx("span",{className:"text-3xl",children:"🧠"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"إجمالي المهام"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.total||0}),n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["قادمة: ",b.upcoming||0]})]}),n.jsx("span",{className:"text-3xl",children:"📝"})]})})]})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"📊"}),"توزيع الطلاب حسب الصفوف"]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-6",children:w.length>0?w.map((m,g)=>n.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-blue-50 dark:from-indigo-900/20 dark:to-blue-900/20 rounded-lg p-4 text-center border border-indigo-200 dark:border-indigo-700",children:[n.jsx("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium mb-2",children:m.grade}),n.jsx("p",{className:"text-2xl font-bold text-indigo-900 dark:text-indigo-100",children:m.students}),n.jsx("p",{className:"text-xs text-indigo-500 dark:text-indigo-400 mt-1",children:"طالب"})]},g)):n.jsxs("div",{className:"col-span-full text-center py-8",children:[n.jsx("span",{className:"text-4xl mb-2 block",children:"📚"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"لا توجد بيانات طلاب متاحة"})]})})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"📈"}),"النشاط الحديث"]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"مستخدمون جدد"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:u.recent||0})]}),n.jsx("span",{className:"text-2xl",children:"👤"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"دروس حديثة"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:p.recent||0})]}),n.jsx("span",{className:"text-2xl",children:"🎥"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"كويزات حديثة"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:y.recent||0})]}),n.jsx("span",{className:"text-2xl",children:"🧠"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border-l-4 border-orange-500",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"مهام حديثة"}),n.jsx("p",{className:"text-xl font-bold text-gray-900 dark:text-white",children:b.recent||0})]}),n.jsx("span",{className:"text-2xl",children:"�"})]})})]})]}),C.length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"📚"}),"النشاط حسب الصفوف"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map((m,g)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:m.grade}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"دروس:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m.lessons})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"كويزات:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m.quizzes})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"مهام:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m.tasks})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"طلاب:"}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:m.students})]}),n.jsx("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"الإجمالي:"}),n.jsx("span",{className:"font-bold text-primary-600 dark:text-primary-400",children:m.total})]})})]})]},g))})]}),y.questions&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"🧠"}),"تفاصيل الكويزات"]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:y.questions.totalQuestions}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"إجمالي الأسئلة"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:y.questions.avgQuestionsPerQuiz}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"متوسط الأسئلة"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:y.questions.multipleChoice}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"اختيار متعدد"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:y.questions.trueFalse}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"صح أو خطأ"})]})]})})]}),n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[n.jsx("span",{className:"text-2xl ml-2",children:"⚙️"}),"معلومات النظام"]}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"تم الإنشاء في"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:new Date(c.generatedAt||Date.now()).toLocaleDateString("ar-EG")})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"المنطقة الزمنية"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:c.timezone||"غير محدد"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"معدل إكمال المهام"}),n.jsxs("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:[b.completionRate||0,"%"]})]})]})})]})]})},xs={title:"",link:"",grade:""},lc=["الصف الأول الثانوي","الصف الثاني الثانوي","الصف الثالث الثانوي"],By=()=>{const[e,t]=k.useState([]),[r,s]=k.useState(!1),[a,l]=k.useState(xs),[i,o]=k.useState(null),[d,c]=k.useState(null),[u,x]=k.useState(!1),[p,y]=k.useState(""),[b,w]=k.useState(""),C=async()=>{s(!0),y("");try{const j=await yy();j.success&&j.data?t(j.data):y("تعذر جلب المواد التعليمية")}catch{y("حدث خطأ أثناء جلب المواد")}finally{s(!1)}};k.useEffect(()=>{C()},[]);const f=j=>{l({...a,[j.target.name]:j.target.value})},m=async j=>{if(j.preventDefault(),y(""),w(""),!a.title||!a.link||!a.grade){y("جميع الحقول مطلوبة");return}try{if(i){const v=await by(i,a);v.success?(w("تم التعديل بنجاح"),o(null)):y(v.message||"فشل التعديل")}else{const v=await jy(a);v.success?w("تمت الإضافة بنجاح"):y(v.message||"فشل الإضافة")}l(xs),C()}catch{y("حدث خطأ أثناء الحفظ")}},g=j=>{l({title:j.title,link:j.link,grade:j.grade}),o(j._id||j.id),c(j._id||j.id),x(!0),w(""),y("")},h=async j=>{if(window.confirm("هل أنت متأكد من حذف المادة؟")){y(""),w("");try{const v=await ky(j);v.success?(w("تم الحذف بنجاح"),C()):y(v.message||"فشل الحذف")}catch{y("حدث خطأ أثناء الحذف")}}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-primary-100 dark:from-blue-900/40 dark:to-primary-900/40 rounded-xl shadow p-6 mb-4",children:[n.jsx("h2",{className:"text-xl font-bold mb-2 text-primary-700 dark:text-primary-300",children:"إضافة مادة تعليمية جديدة"}),n.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",onSubmit:j=>{o(null),c(null),m(j)},children:[n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium",children:"العنوان"}),n.jsx("input",{name:"title",value:i?"":a.title,onChange:f,className:"w-full rounded-lg border-gray-300 dark:bg-gray-800 dark:text-white",disabled:!!i})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium",children:"الرابط"}),n.jsx("input",{name:"link",value:i?"":a.link,onChange:f,className:"w-full rounded-lg border-gray-300 dark:bg-gray-800 dark:text-white",disabled:!!i})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block mb-1 text-sm font-medium",children:"الصف"}),n.jsxs("select",{name:"grade",value:i?"":a.grade,onChange:f,className:"w-full rounded-lg border-gray-300 dark:bg-gray-800 dark:text-white",disabled:!!i,children:[n.jsx("option",{value:"",children:"اختر الصف"}),lc.map(j=>n.jsx("option",{value:j,children:j},j))]})]}),n.jsx("button",{type:"submit",className:"bg-primary-600 text-white rounded-lg px-4 py-2 font-semibold hover:bg-primary-700 transition",disabled:!!i,children:"إضافة"})]}),p&&!i&&n.jsx("div",{className:"text-red-600 mt-2",children:p}),b&&!i&&n.jsx("div",{className:"text-green-600 mt-2",children:b})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow p-6",children:[n.jsx("h3",{className:"text-lg font-bold mb-4 text-gray-900 dark:text-white",children:"قائمة المواد التعليمية"}),r?n.jsx("div",{className:"text-center text-gray-500",children:"جاري التحميل..."}):e.length===0?n.jsx("div",{className:"text-center text-gray-500",children:"لا توجد مواد تعليمية"}):n.jsxs("div",{className:"overflow-x-auto",children:[n.jsxs("table",{className:"min-w-full text-sm text-right",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[n.jsx("th",{className:"py-2 px-3",children:"العنوان"}),n.jsx("th",{className:"py-2 px-3",children:"الرابط"}),n.jsx("th",{className:"py-2 px-3",children:"الصف"}),n.jsx("th",{className:"py-2 px-3",children:"إجراءات"})]})}),n.jsx("tbody",{children:e.map(j=>n.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[n.jsx("td",{className:"py-2 px-3 font-medium",children:j.title}),n.jsx("td",{className:"py-2 px-3",children:n.jsx("a",{href:j.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 underline",children:"رابط"})}),n.jsx("td",{className:"py-2 px-3",children:j.grade}),n.jsxs("td",{className:"py-2 px-3 flex gap-2",children:[n.jsx("button",{onClick:()=>g(j),className:"bg-yellow-400 text-white rounded px-3 py-1 hover:bg-yellow-500",children:"تعديل"}),n.jsx("button",{onClick:()=>h(j._id||j.id),className:"bg-red-600 text-white rounded px-3 py-1 hover:bg-red-700",children:"حذف"})]})]},j._id||j.id))})]}),i&&p&&n.jsx("div",{className:"text-red-600 mt-2",children:p}),i&&b&&n.jsx("div",{className:"text-green-600 mt-2",children:b})]})]}),u&&n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-0 w-full max-w-lg relative animate-fadeIn border border-primary-200 dark:border-primary-800",children:[n.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100 dark:border-gray-800 rounded-t-2xl bg-gradient-to-r from-primary-100 to-blue-100 dark:from-primary-900/40 dark:to-blue-900/40",children:[n.jsx("h2",{className:"text-xl font-bold text-primary-700 dark:text-primary-300",children:"تعديل المادة التعليمية"}),n.jsx("button",{onClick:()=>{x(!1),o(null),c(null),l(xs)},className:"text-gray-400 hover:text-primary-600 dark:hover:text-primary-300 text-3xl font-bold leading-none",children:"×"})]}),n.jsxs("form",{onSubmit:async j=>{j.preventDefault(),await m(j),x(!1),c(null)},className:"px-6 py-6 space-y-5",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1",children:"العنوان"}),n.jsx("input",{name:"title",value:a.title,onChange:f,placeholder:"اكتب عنوان المادة...",className:"w-full rounded-xl border-2 border-primary-200 dark:border-primary-800 bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 transition"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1",children:"رابط المادة"}),n.jsx("input",{name:"link",value:a.link,onChange:f,placeholder:"https://...",className:"w-full rounded-xl border-2 border-primary-200 dark:border-primary-800 bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 transition"})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-1",children:"الصف الدراسي"}),n.jsxs("select",{name:"grade",value:a.grade,onChange:f,className:"w-full rounded-xl border-2 border-primary-200 dark:border-primary-800 bg-white dark:bg-gray-800 text-gray-900 dark:text-white px-4 py-2 focus:outline-none focus:ring-2 focus:ring-primary-400 transition",children:[n.jsx("option",{value:"",children:"اختر الصف"}),lc.map(j=>n.jsx("option",{value:j,children:j},j))]})]}),n.jsxs("div",{className:"flex gap-3 mt-6 justify-end",children:[n.jsx("button",{type:"button",onClick:()=>{x(!1),o(null),c(null),l(xs)},className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl px-5 py-2 font-semibold hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:"إلغاء"}),n.jsx("button",{type:"submit",className:"bg-primary-600 hover:bg-primary-700 text-white rounded-xl px-6 py-2 font-bold shadow transition",children:"حفظ التعديلات"})]}),p&&n.jsx("div",{className:"text-red-600 mt-2 text-center",children:p}),b&&n.jsx("div",{className:"text-green-600 mt-2 text-center",children:b})]})]})})]})},Qy=()=>{var p,y,b,w;const{user:e}=Ne(C=>C.auth),[t,r]=k.useState("dashboard"),[s,a]=k.useState(!1);if(k.useEffect(()=>{const C=()=>{window.innerWidth>=768&&a(!1)};return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),!e||!uy(e))return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 text-center",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:"🔒"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"غير مصرح بالدخول"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"هذه الصفحة مخصصة للمديرين والمدرسين فقط"}),n.jsx("button",{onClick:()=>window.history.back(),className:"bg-primary-600 text-white py-2 px-6 rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"العودة"})]})});const l=[{id:"dashboard",label:"لوحة التحكم",icon:"📊"},{id:"lessons",label:"إدارة الدروس",icon:"📚"},{id:"tasks",label:"إدارة المهام",icon:"📝"},{id:"quizzes",label:"إدارة الكويزات",icon:"🧠"},{id:"schedule",label:"إدارة الجدول",icon:"📅"},{id:"materials",label:"المواد التعليمية",icon:"📂"}],i=()=>{switch(t){case"dashboard":return o();case"lessons":return d();case"tasks":return c();case"quizzes":return u();case"schedule":return x();case"materials":return n.jsx(By,{});default:return o()}},o=()=>n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl shadow-lg p-6 text-white",children:[n.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["مرحباً بك، ",(e==null?void 0:e.name)||"المدير","! 👋"]}),n.jsx("p",{className:"text-primary-100",children:"لوحة التحكم الخاصة بك لإدارة المنصة التعليمية. تابع الإحصائيات والأنشطة الحديثة هنا."})]}),n.jsx(Uy,{})]}),d=()=>n.jsx(My,{}),c=()=>n.jsx($y,{}),u=()=>n.jsx(Ay,{}),x=()=>n.jsx(Iy,{});return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-4 md:py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-6 md:mb-8",children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 dark:text-white",children:"لوحة التحكم الإدارية"}),n.jsxs("p",{className:"mt-2 text-sm md:text-base text-gray-600 dark:text-gray-400",children:["مرحباً ",e==null?void 0:e.name,"، إليك نظرة عامة على المنصة",n.jsxs("span",{className:"md:hidden block mt-1 text-primary-600 dark:text-primary-400 font-medium",children:[(p=l.find(C=>C.id===t))==null?void 0:p.icon," ",(y=l.find(C=>C.id===t))==null?void 0:y.label]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("nav",{className:"hidden md:flex space-x-1 space-x-reverse bg-gray-100 dark:bg-gray-800 p-1 rounded-lg overflow-x-auto",children:l.map(C=>n.jsxs("button",{onClick:()=>r(C.id),className:`flex items-center justify-center md:justify-start space-x-2 space-x-reverse px-2 md:px-4 py-2 rounded-md font-medium transition-colors duration-200 whitespace-nowrap min-w-0 flex-shrink-0 ${t===C.id?"bg-white dark:bg-gray-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,title:C.label,children:[n.jsx("span",{className:"text-lg md:text-base",children:C.icon}),n.jsx("span",{className:"hidden lg:inline text-sm lg:text-base",children:C.label})]},C.id))}),n.jsxs("div",{className:"md:hidden",children:[n.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between bg-gray-100 dark:bg-gray-800 p-3 rounded-lg mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{children:(b=l.find(C=>C.id===t))==null?void 0:b.icon}),n.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:(w=l.find(C=>C.id===t))==null?void 0:w.label})]}),n.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${s?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&n.jsx("nav",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-2 space-y-1",children:l.map(C=>n.jsxs("button",{onClick:()=>{r(C.id),a(!1)},className:`w-full flex items-center space-x-3 space-x-reverse px-3 py-2 rounded-md font-medium transition-colors duration-200 text-right ${t===C.id?"bg-white dark:bg-gray-700 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[n.jsx("span",{className:"text-xl",children:C.icon}),n.jsx("span",{children:C.label})]},C.id))})]})]}),n.jsx("div",{className:"w-full overflow-hidden",children:i()})]})})},Vy="http://localhost:8000",ms=async(e,t={})=>{const r=`${Vy}${e}`,s={method:"GET",headers:{"Content-Type":"application/json",...t.headers},...t};try{const a=await fetch(r,s);if(!a.ok){const l=await a.text();throw new Error(l||`HTTP error! status: ${a.status}`)}return await a.json()}catch(a){throw console.error(`Public API Error for ${r}:`,a),a}},Wy={getAllGrades:()=>ms("/grades"),getGradeInfo:e=>ms(`/grades/${e}`),getPublicLessonsByGrade:e=>ms(`/grades/${e}/lessons/public`),checkEndpoint:e=>ms(e)},Gy=()=>{const[e,t]=k.useState([]),[r,s]=k.useState(!0),[a,l]=k.useState(null);return k.useEffect(()=>{(async()=>{try{s(!0);const o=await Wy.getAllGrades();t(o||[])}catch(o){console.log("API غير متاح، استخدام البيانات الافتراضية:",o),t([{name:"الصف الأول الثانوي",description:"دروس الكيمياء للصف الأول الثانوي",lessonCount:24},{name:"الصف الثاني الثانوي",description:"دروس الكيمياء للصف الثاني الثانوي",lessonCount:32},{name:"الصف الثالث الثانوي",description:"دروس الكيمياء للصف الثالث الثانوي",lessonCount:40}])}finally{s(!1)}})()},[]),n.jsx("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-[#101010] py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-[#222] dark:text-[#39ff14] mb-4",children:"كورسات الكيمياء المتاحة"}),n.jsx("p",{className:"text-lg text-[#444] dark:text-[#39ff14] max-w-2xl mx-auto",children:"اختر الصف الدراسي الخاص بك وابدأ رحلة التعلم في الكيمياء"}),n.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[#39ff14] to-[#2ecc40] mx-auto rounded-full mt-4"})]}),r?n.jsxs("div",{className:"flex items-center justify-center py-12",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 ml-3"}),n.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"جاري التحميل..."})]}):a?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-red-500 mb-4",children:"❌"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"حدث خطأ"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(i=>n.jsx(ox,{grade:i.name||i,description:i.description,lessonCount:i.lessonCount||0},i.name||i))})]})})};function Hy(){try{return JSON.parse(localStorage.getItem("user"))||null}catch{return null}}function Ky(e){return e?/^https?:\/\//i.test(e.trim()):!1}function Yy(e){if(!e)return e;const t=e.match(/^https?:\/\/drive\.google\.com\/file\/d\/([\w-]+)\/view/);return t?`https://drive.google.com/uc?export=view&id=${t[1]}`:e}const Xy=()=>{var q;const{quizId:e}=Ca(),t=ht(),[r,s]=k.useState(null),[a,l]=k.useState([]),[i,o]=k.useState(0),[d,c]=k.useState({}),[u,x]=k.useState(0),[p,y]=k.useState("loading"),[b,w]=k.useState(null),[C,f]=k.useState(!1),[m,g]=k.useState(null);k.useEffect(()=>{const T=async()=>{var $,A,ge,ke;try{f(!0);const z=await Kg(e);z.data&&(s(z.data.quiz),l(z.data.questions),x(z.data.quiz.timeLimit*60),y("instructions"))}catch(z){const L=(A=($=z.response)==null?void 0:$.data)==null?void 0:A.previousResult,O=((ke=(ge=z.response)==null?void 0:ge.data)==null?void 0:ke.message)||z.message||"حدث خطأ في تحميل الكويز";L?(y("results"),w({result:{score:L.score,grade:L.grade,quiz:{title:""}},answers:[],statistics:null}),G(O,"error")):(G(O,"error"),t("/grades"))}finally{f(!1)}};if(e){if(!Hy()){G("يجب تسجيل الدخول أولاً","error"),t("/login");return}T()}},[e,t]),k.useEffect(()=>{let T;return p==="active"&&u>0&&(T=setInterval(()=>{x($=>$<=1?(S(),0):$-1)},1e3)),()=>{T&&clearInterval(T)}},[p,u]);const h=()=>{g(new Date().toISOString()),y("active")},j=(T,$)=>{c(A=>({...A,[T]:$}))},v=()=>{i<a.length-1&&o(T=>T+1)},N=()=>{i>0&&o(T=>T-1)},E=T=>{o(T)},S=async()=>{var T,$;try{y("submitting"),f(!0);const A=a.map((L,O)=>{const U=d[O];return L.type==="اختر من متعدد"&&Array.isArray(L.options)?L.options.map(nt=>typeof nt=="object"&&nt!==null?nt._id:nt).includes(U)?U:"":L.type==="صح وخطأ"?U==="صح"||U==="خطأ"?U:"":U??""});if(!A.every(L=>L!==""&&L!==void 0&&L!==null)){G("يجب الإجابة على جميع الأسئلة قبل الإرسال","error"),y("active"),f(!1);return}const ke={answers:A,startedAt:m||new Date().toISOString()},z=await Yg(e,ke);z.data&&(w(z.data),y("results"),G("تم إرسال إجاباتك بنجاح!","success"))}catch(A){console.error("خطأ في إرسال الإجابات:",A),G((($=(T=A.response)==null?void 0:T.data)==null?void 0:$.message)||"حدث خطأ في إرسال الإجابات","error"),y("active")}finally{f(!1)}},P=T=>{const $=Math.floor(T/60),A=T%60;return`${$.toString().padStart(2,"0")}:${A.toString().padStart(2,"0")}`},F=()=>Object.keys(d).length;return C&&p==="loading"?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"جاري تحميل الكويز..."})]})}):p==="instructions"?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:r==null?void 0:r.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:r==null?void 0:r.description})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[n.jsx("span",{className:"ml-2",children:"📋"}),"معلومات الكويز"]}),n.jsxs("div",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"المادة:"})," ",r==null?void 0:r.subject]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"عدد الأسئلة:"})," ",r==null?void 0:r.totalQuestions]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"إجمالي النقاط:"})," ",r==null?void 0:r.totalPoints]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"الوقت المحدد:"})," ",r==null?void 0:r.timeLimit," دقيقة"]}),n.jsxs("p",{children:[n.jsx("span",{className:"font-medium",children:"المعلم:"})," ",(q=r==null?void 0:r.createdBy)==null?void 0:q.name]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[n.jsx("span",{className:"ml-2",children:"📝"}),"تعليمات مهمة"]}),n.jsxs("ul",{className:"space-y-2 text-gray-600 dark:text-gray-400",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-primary-500 ml-2",children:"•"}),"اقرأ كل سؤال بعناية قبل الإجابة"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-primary-500 ml-2",children:"•"}),"لديك ",r==null?void 0:r.timeLimit," دقيقة لإنهاء جميع الأسئلة"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-primary-500 ml-2",children:"•"}),"يمكنك التنقل بين الأسئلة والعودة لتعديل إجاباتك"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-primary-500 ml-2",children:"•"}),"تأكد من إجابة جميع الأسئلة قبل الإرسال"]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"text-primary-500 ml-2",children:"•"}),"سيتم إرسال الكويز تلقائياً عند انتهاء الوقت"]})]})]})]}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{onClick:h,className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-200 flex items-center mx-auto",children:[n.jsx("span",{className:"ml-2",children:"🚀"}),"ابدأ الكويز الآن"]})})]})})}):n.jsx(Jy,{quiz:r,questions:a,currentQuestionIndex:i,answers:d,timeLeft:u,quizState:p,quizResult:b,isLoading:C,onAnswerChange:j,onNextQuestion:v,onPrevQuestion:N,onGoToQuestion:E,onSubmitQuiz:S,getAnsweredCount:F,formatTime:P,navigate:t})},Jy=({quiz:e,questions:t,currentQuestionIndex:r,answers:s,timeLeft:a,quizState:l,quizResult:i,isLoading:o,onAnswerChange:d,onNextQuestion:c,onPrevQuestion:u,onGoToQuestion:x,onSubmitQuiz:p,getAnsweredCount:y,formatTime:b,navigate:w})=>{if(l==="results")return n.jsx(qy,{result:i,onBackToGrades:()=>w("/grades")});const C=t[r],f=r===t.length-1,m=r===0;return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-10",children:n.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e==null?void 0:e.title}),n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:e==null?void 0:e.subject})]}),n.jsxs("div",{className:"flex items-center space-x-6 space-x-reverse",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"الوقت المتبقي"}),n.jsx("div",{className:`text-xl font-bold ${a<=300?"text-red-600":"text-primary-600"}`,children:b(a)})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"تم الإجابة"}),n.jsxs("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[y()," / ",t.length]})]})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsxs("div",{className:"flex justify-between text-sm text-gray-500 dark:text-gray-400 mb-2",children:[n.jsxs("span",{children:["السؤال ",r+1," من ",t.length]}),n.jsxs("span",{children:[Math.round((r+1)/t.length*100),"% مكتمل"]})]}),n.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:n.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${(r+1)/t.length*100}%`}})})]})]})}),n.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:n.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-4 sticky top-32",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"الأسئلة"}),n.jsx("div",{className:"grid grid-cols-5 lg:grid-cols-1 gap-2",children:t.map((g,h)=>n.jsx("button",{onClick:()=>x(h),className:`p-2 rounded text-sm font-medium transition-colors duration-200 ${h===r?"bg-primary-600 text-white":s[h]!==void 0?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:h+1},h))}),n.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:n.jsx("button",{onClick:p,disabled:o,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg font-semibold hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:o?"جاري الإرسال...":"إرسال الكويز"})})]})}),n.jsxs("div",{className:"lg:col-span-3",children:[C&&n.jsx(Zy,{question:C,questionIndex:r,userAnswer:s[r],onAnswerChange:d}),n.jsxs("div",{className:"flex justify-between mt-6",children:[n.jsxs("button",{onClick:u,disabled:m,className:"bg-gray-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center",children:[n.jsx("span",{className:"ml-2",children:"←"}),"السؤال السابق"]}),n.jsxs("button",{onClick:f?p:c,disabled:o,className:`px-6 py-2 rounded-lg font-semibold transition-colors duration-200 flex items-center ${f?"bg-green-600 text-white hover:bg-green-700":"bg-primary-600 text-white hover:bg-primary-700"} disabled:opacity-50 disabled:cursor-not-allowed`,children:[f?"إرسال الكويز":"السؤال التالي",!f&&n.jsx("span",{className:"mr-2",children:"→"})]})]})]})]})})]})},Zy=({question:e,questionIndex:t,userAnswer:r,onAnswerChange:s})=>{const a=u=>{let x=u;e.type==="اختر من متعدد"&&typeof u=="object"&&u!==null&&(x=u._id),console.log(`اختيار المستخدم للسؤال رقم ${t+1} (${e.type}):`,x),s(t,x)};function l(u){return u?/^https?:\/\//i.test(u.trim()):!1}function i(u){if(!u)return u;const x=u.match(/^https?:\/\/drive\.google\.com\/file\/d\/([\w-]+)\/view/);return x?`https://drive.google.com/uc?export=view&id=${x[1]}`:u}const[o,d]=Pi.useState(!1),c=i(e.questionText);return n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["السؤال ",t+1]}),n.jsxs("span",{className:"bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 px-3 py-1 rounded-full text-sm font-medium",children:[e.points," نقطة"]})]}),l(e.questionText)&&!o?n.jsx("div",{className:"flex justify-center my-4",children:n.jsx("img",{src:c,alt:`سؤال ${t+1}`,className:"max-w-full max-h-96 rounded-lg border border-gray-200 dark:border-gray-700 shadow",loading:"lazy",onError:()=>d(!0)})}):n.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300 leading-relaxed",children:e.questionText}),e.explanation&&n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:e.explanation})]}),n.jsxs("div",{className:"space-y-3",children:[e.type==="اختر من متعدد"&&e.options&&n.jsx(n.Fragment,{children:e.options.map((u,x)=>n.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-colors duration-200 ${r===u._id?"border-primary-500 bg-primary-50 dark:bg-primary-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[n.jsx("input",{type:"radio",name:`question-${t}`,value:u._id,checked:r===u._id,onChange:()=>a(u),className:"sr-only"}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 ml-3 flex-shrink-0 ${r===u._id?"border-primary-500 bg-primary-500":"border-gray-300 dark:border-gray-600"}`,children:r===u._id&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:u.text})]},u._id||x))}),e.type==="صح وخطأ"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-colors duration-200 ${r==="صح"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[n.jsx("input",{type:"radio",name:`question-${t}`,value:"صح",checked:r==="صح",onChange:()=>a("صح"),className:"sr-only"}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 ml-3 flex-shrink-0 ${r==="صح"?"border-green-500 bg-green-500":"border-gray-300 dark:border-gray-600"}`,children:r==="صح"&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:"✅ صح"})]}),n.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-colors duration-200 ${r==="خطأ"?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[n.jsx("input",{type:"radio",name:`question-${t}`,value:"خطأ",checked:r==="خطأ",onChange:()=>a("خطأ"),className:"sr-only"}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 ml-3 flex-shrink-0 ${r==="خطأ"?"border-red-500 bg-red-500":"border-gray-300 dark:border-gray-600"}`,children:r==="خطأ"&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:"❌ خطأ"})]})]}),e.type==="نص قصير"&&n.jsx("textarea",{value:r||"",onChange:u=>a(u.target.value),placeholder:"اكتب إجابتك هنا...",className:"w-full p-4 border-2 border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:border-primary-500 dark:bg-gray-700 dark:text-white resize-none",rows:"3"})]})]})},qy=({result:e,onBackToGrades:t})=>{const[r,s]=Pi.useState({}),a=o=>{s(d=>({...d,[o]:!0}))},l=o=>o>=90?"text-green-600":o>=80?"text-blue-600":o>=70?"text-yellow-600":o>=60?"text-orange-600":"text-red-600",i=o=>o>=90?"🎉":o>=80?"👏":o>=70?"👍":o>=60?"📈":"💪";return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-8 mb-6",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"text-6xl mb-4",children:i(e.result.score.percentage)}),n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"نتيجة الكويز"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.result.quiz.title})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:`text-4xl font-bold mb-2 ${l(e.result.score.percentage)}`,children:[e.result.score.percentage,"%"]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"النسبة المئوية"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:[e.result.score.earnedPoints,"/",e.result.score.totalPoints]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"النقاط"})]}),n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:[e.result.score.correctAnswers,"/",e.result.score.totalQuestions]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"الإجابات الصحيحة"})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"التقدير"}),n.jsxs("div",{className:`text-xl font-bold ${l(e.result.score.percentage)}`,children:[e.result.grade.letter," - ",e.result.grade.description]})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"الوقت المستغرق"}),n.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.result.timeSpent.display})]})]}),e.result.motivationalMessage&&n.jsx("div",{className:"mt-6 p-4 bg-primary-50 dark:bg-primary-900/20 rounded-lg text-center",children:n.jsx("p",{className:"text-primary-800 dark:text-primary-200 font-medium",children:e.result.motivationalMessage})})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"تفاصيل الإجابات"}),n.jsx("div",{className:"space-y-6",children:e.answers.map((o,d)=>n.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-b-0",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["السؤال ",o.questionIndex]}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[o.isCorrect?n.jsxs("span",{className:"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[n.jsx("span",{className:"ml-1",children:"✅"}),"صحيح"]}):n.jsxs("span",{className:"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:[n.jsx("span",{className:"ml-1",children:"❌"}),"خطأ"]}),n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[o.pointsEarned,"/",o.maxPoints," نقطة"]})]})]}),Ky(o.questionText)&&!r[d]?n.jsx("div",{className:"flex flex-col items-center my-4",children:n.jsx("img",{src:Yy(o.questionText),alt:`سؤال ${o.questionIndex}`,className:"max-w-full max-h-96 rounded-lg border-2 border-primary-400 dark:border-primary-700 shadow mb-2",loading:"lazy",onError:()=>a(d)})}):r[d]?n.jsx("div",{className:"my-4 p-3 bg-red-50 dark:bg-red-900/20 rounded-lg text-center border border-red-300 dark:border-red-700",children:n.jsx("span",{className:"text-red-700 dark:text-red-200 font-medium",children:"تعذر تحميل صورة السؤال، يرجى مراجعة الرابط."})}):n.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:o.questionText}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"إجابتك:"}),n.jsx("p",{className:`font-medium ${o.isCorrect?"text-green-600":"text-red-600"}`,children:o.userAnswer||"لم يتم الإجابة"})]}),!o.isCorrect&&n.jsxs("div",{children:[n.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"الإجابة الصحيحة:"}),n.jsx("p",{className:"font-medium text-green-600",children:o.correctAnswer})]})]}),o.explanation&&n.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:n.jsxs("span",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["التفسير: ",o.explanation]})})]},d))})]}),e.statistics&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-6",children:"الإحصائيات"}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.statistics.totalQuestions}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"إجمالي الأسئلة"})]}),n.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.statistics.correctAnswers}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"إجابات صحيحة"})]}),n.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.statistics.incorrectAnswers}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"إجابات خاطئة"})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.statistics.accuracyRate,"%"]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"معدل الدقة"})]})]})]}),n.jsx("div",{className:"text-center space-y-4",children:n.jsxs("button",{onClick:t,className:"bg-primary-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-primary-700 transition-colors duration-200 flex items-center mx-auto",children:[n.jsx("span",{className:"ml-2",children:"📚"}),"العودة للمواد"]})})]})})},ev=()=>{var p,y;ht();const[e,t]=k.useState([]),[r,s]=k.useState(null),[a,l]=k.useState(null),[i,o]=k.useState(!0),[d,c]=k.useState(null);k.useEffect(()=>{(async()=>{var w,C;try{o(!0);const f=await ax();f.data&&(t(f.data.results||[]),s(f.data.statistics||null),l(f.data.student||null))}catch(f){console.error("خطأ في تحميل النتائج:",f),G(((C=(w=f.response)==null?void 0:w.data)==null?void 0:C.message)||"حدث خطأ في تحميل النتائج","error")}finally{o(!1)}})()},[]);const u=b=>b>=90?"text-green-600 bg-green-50 dark:bg-green-900/20":b>=80?"text-blue-600 bg-blue-50 dark:bg-blue-900/20":b>=70?"text-yellow-600 bg-yellow-50 dark:bg-yellow-900/20":b>=60?"text-orange-600 bg-orange-50 dark:bg-orange-900/20":"text-red-600 bg-red-50 dark:bg-red-900/20",x=b=>new Date(b).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return i?n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"جاري تحميل النتائج..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8",children:[n.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"نتائج الكويزات"}),n.jsx(D,{to:"/grades",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"العودة للمواد"})]}),a&&n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6 mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"معلومات الطالب"}),n.jsxs("div",{className:"flex items-center space-x-4 space-x-reverse",children:[n.jsx("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:(p=a.name)==null?void 0:p.charAt(0)})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a.name}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.grade})]})]})]}),r&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"إجمالي الكويزات"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r.totalQuizzes})]}),n.jsx("div",{className:"text-3xl",children:"📊"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"المعدل العام"}),n.jsxs("p",{className:`text-2xl font-bold ${u(r.averageScore)}`,children:[r.averageScore,"%"]})]}),n.jsx("div",{className:"text-3xl",children:"📈"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"أفضل نتيجة"}),n.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[r.bestScore,"%"]})]}),n.jsx("div",{className:"text-3xl",children:"🏆"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"الوقت الإجمالي"}),n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(y=r.totalTimeSpent)==null?void 0:y.display})]}),n.jsx("div",{className:"text-3xl",children:"⏰"})]})})]}),e.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md p-12 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:"📝"}),n.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"لا توجد نتائج كويزات"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"لم تقم بحل أي كويز حتى الآن"}),n.jsx(D,{to:"/grades",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors duration-200",children:"تصفح المواد"})]}):n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden",children:[n.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"تاريخ الكويزات"})}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الكويز"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"المادة"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"النتيجة"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"التقدير"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الوقت"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"التاريخ"}),n.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"الإجراءات"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:e.map(b=>n.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b.quiz.title}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[b.quiz.totalQuestions," سؤال • ",b.quiz.totalPoints," نقطة"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:"text-sm text-gray-900 dark:text-white",children:b.quiz.subject})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center",children:[n.jsxs("span",{className:`text-sm font-bold ${u(b.score.percentage).split(" ")[0]}`,children:[b.score.percentage,"%"]}),n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mr-2",children:["(",b.score.earnedPoints,"/",b.score.totalPoints,")"]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(b.score.percentage)}`,children:b.grade.letter})}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 dark:text-white",children:b.timeSpent.display}),n.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:x(b.completedAt)}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>c(b),className:"text-primary-600 hover:text-primary-900 text-sm font-medium",children:"عرض التفاصيل"})})]},b.id))})]})})]}),(r==null?void 0:r.gradeDistribution)&&n.jsxs("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"توزيع التقديرات"}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(r.gradeDistribution).map(([b,w])=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:w}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:b})]},b))})]})]}),d&&n.jsx(tv,{result:d,onClose:()=>c(null)})]})},tv=({result:e,onClose:t})=>{const[r,s]=k.useState(null),[a,l]=k.useState(!0);return k.useEffect(()=>{const i=async()=>{try{l(!0);const o=await Xg(e.id);o.data&&s(o.data)}catch(o){console.error("خطأ في تحميل التفاصيل:",o),G("حدث خطأ في تحميل التفاصيل","error")}finally{l(!1)}};e.id&&i()},[e.id]),n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["تفاصيل النتيجة - ",e.quiz.title]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"✕"})]}),n.jsx("div",{className:"p-6",children:a?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"جاري تحميل التفاصيل..."})]}):r?n.jsx(rv,{result:r}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"لا توجد تفاصيل متاحة"})})})]})})},rv=({result:e})=>{var t;return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-primary-600",children:[e.result.score.percentage,"%"]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"النسبة المئوية"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.result.score.earnedPoints,"/",e.result.score.totalPoints]}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"النقاط"})]}),n.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.result.timeSpent.display}),n.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"الوقت المستغرق"})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"الإجابات التفصيلية"}),n.jsx("div",{className:"space-y-4",children:(t=e.answers)==null?void 0:t.map((r,s)=>n.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("h5",{className:"font-medium text-gray-900 dark:text-white",children:["السؤال ",r.questionNumber]}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${r.isCorrect?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:r.isCorrect?"✅ صحيح":"❌ خطأ"}),n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[r.pointsEarned,"/",r.maxPoints," نقطة"]})]})]}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 mb-3",children:r.questionText}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"إجابتك:"}),n.jsx("p",{className:`font-medium ${r.isCorrect?"text-green-600":"text-red-600"}`,children:r.userAnswer||"لم يتم الإجابة"})]}),!r.isCorrect&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"الإجابة الصحيحة:"}),n.jsx("p",{className:"font-medium text-green-600",children:r.correctAnswer})]})]}),r.explanation&&n.jsx("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:n.jsxs("span",{className:"font-medium text-blue-800 dark:text-blue-200",children:["التفسير: ",r.explanation]})})]},s))})]})]})},nv=()=>n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-[#101010]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-9xl font-bold text-[#39ff14] mb-4",children:"404"}),n.jsx("h2",{className:"text-2xl font-semibold text-[#222] dark:text-[#39ff14] mb-4",children:"الصفحة غير موجودة"}),n.jsx("p",{className:"text-[#444] dark:text-[#39ff14] mb-8",children:"عذراً، الصفحة التي تبحث عنها غير موجودة ضمن منصة الكيمياء"}),n.jsx(D,{to:"/",className:"inline-flex items-center px-6 py-3 bg-[#39ff14] text-[#101010] rounded-lg hover:bg-[#2ecc40] transition-colors duration-200 font-medium",children:"العودة للرئيسية"})]})});function sv(e){return e?/^https?:\/\//i.test(e.trim()):!1}function av(e){if(!e)return"";const t=e.match(/^https?:\/\/drive\.google\.com\/file\/d\/([\w-]+)\/view/);return t?`https://drive.google.com/uc?export=view&id=${t[1]}`:e}const lv=()=>{var m,g;const{taskId:e}=Ca(),t=ht(),[r,s]=k.useState(null),[a,l]=k.useState([]),[i,o]=k.useState({}),[d,c]=k.useState("loading"),[u,x]=k.useState(null),[p,y]=k.useState(!1),[b,w]=k.useState(null);k.useEffect(()=>{(async()=>{var j,v;try{y(!0);const N=await Rg(e);N.data&&(s(N.data),l(N.data.questions||[]),c("active"),w(Date.now()))}catch(N){G(((v=(j=N.response)==null?void 0:j.data)==null?void 0:v.message)||"حدث خطأ في تحميل المهمة","error"),c("error")}finally{y(!1)}})()},[e]);const C=(h,j)=>{o(v=>({...v,[h]:j}))},f=async()=>{var h,j;y(!0),c("submitting");try{const N={answers:a.map((S,P)=>S.type==="اختر من متعدد"?i[P]||"":S.type==="صح وخطأ"?i[P]==="صح"?!0:i[P]==="خطأ"?!1:"":i[P]||""),startedAt:b||Date.now()},E=await Og(e,N);x(E.data),c("results")}catch(v){G(((j=(h=v.response)==null?void 0:h.data)==null?void 0:j.message)||"حدث خطأ أثناء إرسال الإجابات","error"),c("active")}finally{y(!1)}};if(d==="loading"||p)return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-[#101010]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#39ff14] mx-auto mb-4"}),n.jsx("p",{className:"text-[#444] dark:text-[#39ff14]",children:"جاري تحميل المهمة..."})]})});if(d==="error")return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f8fafc] dark:bg-[#101010]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-xl font-bold text-[#b60000] dark:text-[#39ff14] mb-4",children:"حدث خطأ في تحميل المهمة"}),n.jsx("button",{onClick:()=>t(-1),className:"bg-[#39ff14] text-[#101010] px-4 py-2 rounded-lg",children:"العودة"})]})});if(d==="results"&&u){const h=(m=u.data)==null?void 0:m.result,j=(g=u.data)==null?void 0:g.answers;return n.jsx(ov,{result:h,answers:j,onBack:()=>t(-1)})}return n.jsx("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-[#101010] py-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[n.jsxs("div",{className:"bg-[#fff] dark:bg-[#222] rounded-xl shadow-md p-6 mb-8",children:[n.jsx("h1",{className:"text-2xl font-bold text-[#222] dark:text-[#39ff14] mb-2",children:r==null?void 0:r.title}),n.jsx("p",{className:"text-[#444] dark:text-[#39ff14] mb-2",children:r==null?void 0:r.description}),n.jsxs("div",{className:"text-sm text-[#888] dark:text-[#39ff14] mb-2",children:["المادة: ",r==null?void 0:r.subject]}),n.jsxs("div",{className:"text-sm text-[#888] dark:text-[#39ff14]",children:["عدد الأسئلة: ",a.length]})]}),n.jsxs("form",{onSubmit:h=>{h.preventDefault(),f()},children:[n.jsx("div",{className:"space-y-8",children:a.map((h,j)=>n.jsx(iv,{question:h,questionIndex:j,userAnswer:i[j],onAnswerChange:C},h._id||j))}),n.jsx("div",{className:"mt-8 flex justify-end",children:n.jsx("button",{type:"submit",disabled:p,className:"bg-[#39ff14] text-[#101010] px-6 py-3 rounded-lg font-semibold hover:bg-[#2ecc40] disabled:opacity-50 disabled:cursor-not-allowed",children:p?"جاري الإرسال...":"إرسال الإجابات"})})]})]})})},iv=({question:e,questionIndex:t,userAnswer:r,onAnswerChange:s})=>{const[a,l]=k.useState(!1),i=av(e.questionText),o=d=>{s(t,d)};return n.jsxs("div",{className:"bg-[#fff] dark:bg-[#222] rounded-xl shadow-md p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("h2",{className:"text-lg font-semibold text-[#222] dark:text-[#39ff14]",children:["السؤال ",t+1]}),n.jsxs("span",{className:"bg-[#e6ffe6] dark:bg-[#39ff14] text-[#222] dark:text-[#101010] px-3 py-1 rounded-full text-sm font-medium",children:[e.points," نقطة"]})]}),sv(e.questionText)&&!a?n.jsx("div",{className:"flex justify-center my-4",children:n.jsx("img",{src:i,alt:`سؤال ${t+1}`,className:"max-w-full max-h-96 rounded-lg border border-[#39ff14] dark:border-[#39ff14] shadow",loading:"lazy",onError:()=>l(!0)})}):n.jsx("p",{className:"text-lg text-[#444] dark:text-[#39ff14] leading-relaxed",children:e.questionText}),e.explanation&&n.jsx("p",{className:"text-sm text-[#888] dark:text-[#39ff14] mt-2",children:e.explanation})]}),n.jsxs("div",{className:"space-y-3",children:[e.type==="اختر من متعدد"&&e.options&&n.jsx(n.Fragment,{children:e.options.map((d,c)=>n.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-colors duration-200 ${r===d._id?"border-[#39ff14] bg-[#e6ffe6] dark:bg-[#101010]":"border-[#ccc] dark:border-[#39ff14] hover:border-[#39ff14] dark:hover:border-[#39ff14]"}`,children:[n.jsx("input",{type:"radio",name:`question-${t}`,value:d._id,checked:r===d._id,onChange:()=>o(d._id),className:"sr-only"}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 ml-3 flex-shrink-0 ${r===d._id?"border-[#39ff14] bg-[#39ff14]":"border-[#ccc] dark:border-[#39ff14]"}`,children:r===d._id&&n.jsx("div",{className:"w-full h-full rounded-full bg-[#fff] dark:bg-[#101010] scale-50"})}),n.jsx("span",{className:"text-[#222] dark:text-[#39ff14] flex-1",children:d.text})]},d._id||c))}),e.type==="صح وخطأ"&&n.jsxs(n.Fragment,{children:[n.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-colors duration-200 ${r==="صح"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[n.jsx("input",{type:"radio",name:`question-${t}`,value:"صح",checked:r==="صح",onChange:()=>o("صح"),className:"sr-only"}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 ml-3 flex-shrink-0 ${r==="صح"?"border-green-500 bg-green-500":"border-gray-300 dark:border-gray-600"}`,children:r==="صح"&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),n.jsx("span",{className:"text-[#222] dark:text-[#39ff14] flex-1",children:"✅ صح"})]}),n.jsxs("label",{className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-colors duration-200 ${r==="خطأ"?"border-red-500 bg-red-50 dark:bg-red-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[n.jsx("input",{type:"radio",name:`question-${t}`,value:"خطأ",checked:r==="خطأ",onChange:()=>o("خطأ"),className:"sr-only"}),n.jsx("div",{className:`w-5 h-5 rounded-full border-2 ml-3 flex-shrink-0 ${r==="خطأ"?"border-red-500 bg-red-500":"border-gray-300 dark:border-gray-600"}`,children:r==="خطأ"&&n.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),n.jsx("span",{className:"text-gray-700 dark:text-gray-300 flex-1",children:"❌ خطأ"})]})]}),e.type==="نص قصير"&&n.jsx("textarea",{value:r||"",onChange:d=>o(d.target.value),placeholder:"اكتب إجابتك هنا...",className:"w-full p-4 border-2 border-[#ccc] dark:border-[#39ff14] rounded-lg focus:outline-none focus:border-[#39ff14] dark:bg-[#101010] dark:text-[#39ff14] resize-none",rows:"3"})]})]})},ov=({result:e,answers:t,onBack:r})=>{var i,o,d;const s=typeof((i=e==null?void 0:e.score)==null?void 0:i.percentage)=="number"?e.score.percentage:0,a=typeof((o=e==null?void 0:e.score)==null?void 0:o.earnedPoints)=="number"?e.score.earnedPoints:0,l=typeof((d=e==null?void 0:e.score)==null?void 0:d.totalPoints)=="number"?e.score.totalPoints:0;return n.jsx("div",{className:"min-h-screen bg-[#f8fafc] dark:bg-[#101010] py-8",children:n.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[n.jsxs("div",{className:"bg-[#fff] dark:bg-[#222] rounded-xl shadow-md p-6 mb-8 text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-[#222] dark:text-[#39ff14] mb-2",children:"تم إرسال المهمة!"}),n.jsxs("div",{className:"text-lg text-[#444] dark:text-[#39ff14] mb-2",children:["نتيجتك: ",n.jsxs("span",{className:"font-bold text-[#39ff14]",children:[s,"%"]})]}),n.jsxs("div",{className:"text-sm text-[#888] dark:text-[#39ff14] mb-4",children:["النقاط: ",a," / ",l]}),n.jsx("button",{onClick:r,className:"bg-[#39ff14] text-[#101010] px-4 py-2 rounded-lg",children:"العودة"})]}),n.jsxs("div",{className:"bg-[#fff] dark:bg-[#222] rounded-xl shadow-md p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-[#222] dark:text-[#39ff14] mb-4",children:"الإجابات التفصيلية"}),n.jsx("div",{className:"space-y-4",children:t==null?void 0:t.map((c,u)=>n.jsxs("div",{className:"border border-[#ccc] dark:border-[#39ff14] rounded-lg p-4",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("h5",{className:"font-medium text-[#222] dark:text-[#39ff14]",children:["السؤال ",c.questionIndex]}),n.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${c.isCorrect?"bg-[#e6ffe6] text-[#222] dark:bg-[#39ff14] dark:text-[#101010]":"bg-[#ffe6e6] text-[#b60000] dark:bg-[#330000] dark:text-[#39ff14]"}`,children:c.isCorrect?"✅ صحيح":"❌ خطأ"}),n.jsxs("span",{className:"text-xs text-[#888] dark:text-[#39ff14]",children:[c.pointsEarned,"/",c.maxPoints," نقطة"]})]})]}),n.jsx("p",{className:"text-[#444] dark:text-[#39ff14] mb-3",children:c.questionText}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-[#888] dark:text-[#39ff14]",children:"إجابتك:"}),n.jsx("p",{className:`font-medium ${c.isCorrect?"text-[#39ff14]":"text-[#b60000] dark:text-[#39ff14]"}`,children:c.userAnswer||"لم يتم الإجابة"})]}),!c.isCorrect&&n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-[#888] dark:text-[#39ff14]",children:"الإجابة الصحيحة:"}),n.jsx("p",{className:"font-medium text-[#39ff14]",children:c.correctAnswer})]})]}),c.explanation&&n.jsx("div",{className:"mt-3 p-2 bg-[#e6f0ff] dark:bg-[#222] rounded text-sm",children:n.jsxs("span",{className:"font-medium text-[#222] dark:text-[#39ff14]",children:["التفسير: ",c.explanation]})})]},u))})]})]})})},dv=()=>{const{isAuthenticated:e}=Ne(r=>r.auth),t=k.useRef(null);k.useEffect(()=>(e?(t.current=setInterval(()=>{fs()},60*1e3),fs()):t.current&&(clearInterval(t.current),t.current=null),()=>{t.current&&clearInterval(t.current)}),[e]),k.useEffect(()=>{const r=()=>{e&&fs()};return window.addEventListener("focus",r),()=>window.removeEventListener("focus",r)},[e]),k.useEffect(()=>{const r=()=>{!document.hidden&&e&&fs()};return document.addEventListener("visibilitychange",r),()=>document.removeEventListener("visibilitychange",r)},[e])},cv=()=>(dv(),n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 font-arabic",dir:"rtl",children:[n.jsx(ty,{}),n.jsx("main",{className:"min-h-screen pt-16",children:n.jsxs(zp,{children:[n.jsx(me,{path:"/",element:n.jsx(fy,{})}),n.jsx(me,{path:"/login",element:n.jsx(xy,{})}),n.jsx(me,{path:"/register",element:n.jsx(my,{})}),n.jsx(me,{path:"/forgot-password",element:n.jsx(py,{})}),n.jsx(me,{path:"/reset-password",element:n.jsx(hy,{})}),n.jsx(me,{path:"/grades",element:n.jsx(Gy,{})}),n.jsx(me,{path:"/grades/:gradeSlug",element:n.jsx(Ey,{})}),n.jsx(me,{path:"/lessons/:id",element:n.jsx(yt,{children:n.jsx(Py,{})})}),n.jsx(me,{path:"/quiz/:quizId",element:n.jsx(yt,{children:n.jsx(Xy,{})})}),n.jsx(me,{path:"/task/:taskId",element:n.jsx(yt,{children:n.jsx(lv,{})})}),n.jsx(me,{path:"/quiz-results",element:n.jsx(yt,{children:n.jsx(ev,{})})}),n.jsx(me,{path:"/profile",element:n.jsx(yt,{children:n.jsx(Ly,{})})}),n.jsx(me,{path:"/settings",element:n.jsx(yt,{children:n.jsx(Dy,{})})}),n.jsx(me,{path:"/admin",element:n.jsx(yt,{adminOnly:!0,children:n.jsx(Qy,{})})}),n.jsx(me,{path:"*",element:n.jsx(nv,{})})]})}),n.jsx(ry,{})]}));function uv(){return n.jsx(dh,{store:Xt,children:n.jsx(Ip,{children:n.jsx(cv,{})})})}jf(document.getElementById("root")).render(n.jsx(k.StrictMode,{children:n.jsx(uv,{})}));
